(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[584],{8103:function(t,e,n){"use strict";function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var i=n(2784),o=n(5885),s=n(1727);const a=s.q6.define(),l=s.q6.define(),c=s.r$.define(),h=s.r$.define({combine:t=>(0,s.BO)(t,{minDepth:100,newGroupDelay:500},{minDepth:Math.max,newGroupDelay:Math.min})});const u=s.QQ.define({create:()=>A.empty,update(t,e){let n=e.state.facet(h),r=e.annotation(a);if(r){let i=e.docChanged?s.jT.single(function(t){let e=0;return t.iterChangedRanges(((t,n)=>e=n)),e}(e.changes)):void 0,o=y.fromTransaction(e,i),a=r.side,l=0==a?t.undone:t.done;return l=o?b(l,l.length,n.minDepth,o):k(l,e.startState.selection),new A(0==a?r.rest:l,0==a?l:r.rest)}let i=e.annotation(l);if("full"!=i&&"before"!=i||(t=t.isolate()),!1===e.annotation(s.YW.addToHistory))return e.changes.empty?t:t.addMapping(e.changes.desc);let o=y.fromTransaction(e),c=e.annotation(s.YW.time),u=e.annotation(s.YW.userEvent);return o?t=t.addChanges(o,c,u,n.newGroupDelay,n.minDepth):e.selection&&(t=t.addSelection(e.startState.selection,c,u,n.newGroupDelay)),"full"!=i&&"after"!=i||(t=t.isolate()),t},toJSON:t=>({done:t.done.map((t=>t.toJSON())),undone:t.undone.map((t=>t.toJSON()))}),fromJSON:t=>new A(t.done.map(y.fromJSON),t.undone.map(y.fromJSON))});function f(t={}){return[u,h.of(t),o.tk.domEventHandlers({beforeinput(t,e){let n="historyUndo"==t.inputType?p:"historyRedo"==t.inputType?m:null;return!!n&&(t.preventDefault(),n(e))}})]}function d(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let i=n.field(u,!1);if(!i)return!1;let o=i.pop(t,n,e);return!!o&&(r(o),!0)}}const p=d(0,!1),m=d(1,!1),g=d(0,!0),v=d(1,!0);class y{constructor(t,e,n,r,i){this.changes=t,this.effects=e,this.mapped=n,this.startSelection=r,this.selectionsAfter=i}setSelAfter(t){return new y(this.changes,this.effects,this.mapped,this.startSelection,t)}toJSON(){var t,e,n;return{changes:null===(t=this.changes)||void 0===t?void 0:t.toJSON(),mapped:null===(e=this.mapped)||void 0===e?void 0:e.toJSON(),startSelection:null===(n=this.startSelection)||void 0===n?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map((t=>t.toJSON()))}}static fromJSON(t){return new y(t.changes&&s.as.fromJSON(t.changes),[],t.mapped&&s.n0.fromJSON(t.mapped),t.startSelection&&s.jT.fromJSON(t.startSelection),t.selectionsAfter.map(s.jT.fromJSON))}static fromTransaction(t,e){let n=x;for(let r of t.startState.facet(c)){let e=r(t);e.length&&(n=n.concat(e))}return!n.length&&t.changes.empty?null:new y(t.changes.invert(t.startState.doc),n,void 0,e||t.startState.selection,x)}static selection(t){return new y(void 0,x,void 0,void 0,t)}}function b(t,e,n,r){let i=e+1>n+20?e-n-1:0,o=t.slice(i,e);return o.push(r),o}function w(t,e){return t.length?e.length?t.concat(e):t:e}const x=[];function k(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-200));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),b(t,t.length-1,1e9,n.setSelAfter(r)))}return[y.selection([e])]}function S(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function O(t,e){if(!t.length)return t;let n=t.length,r=x;for(;n;){let i=C(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let e=t.slice(0,n);return e[n-1]=i,e}e=i.mapped,n--,r=i.selectionsAfter}return r.length?[y.selection(r)]:x}function C(t,e,n){let r=w(t.selectionsAfter.length?t.selectionsAfter.map((t=>t.map(e))):x,n);if(!t.changes)return y.selection(r);let i=t.changes.map(e),o=e.mapDesc(t.changes,!0),a=t.mapped?t.mapped.composeDesc(o):o;return new y(i,s.Py.mapEffects(t.effects,e),a,t.startSelection.map(o),r)}const j=/^(input\.type|delete)($|\.)/;class A{constructor(t,e,n=0,r){this.done=t,this.undone=e,this.prevTime=n,this.prevUserEvent=r}isolate(){return this.prevTime?new A(this.done,this.undone):this}addChanges(t,e,n,r,i){let o=this.done,s=o[o.length-1];return o=s&&s.changes&&!s.changes.empty&&t.changes&&(!n||j.test(n))&&(!s.selectionsAfter.length&&e-this.prevTime<r&&function(t,e){let n=[],r=!1;return t.iterChangedRanges(((t,e)=>n.push(t,e))),e.iterChangedRanges(((t,e,i,o)=>{for(let s=0;s<n.length;){let t=n[s++],e=n[s++];o>=t&&i<=e&&(r=!0)}})),r}(s.changes,t.changes)||"input.type.compose"==n)?b(o,o.length-1,i,new y(t.changes.compose(s.changes),w(t.effects,s.effects),s.mapped,s.startSelection,x)):b(o,o.length,i,t),new A(o,x,e,n)}addSelection(t,e,n,r){let i=this.done.length?this.done[this.done.length-1].selectionsAfter:x;return i.length>0&&e-this.prevTime<r&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&(o=i[i.length-1],s=t,o.ranges.length==s.ranges.length&&0===o.ranges.filter(((t,e)=>t.empty!=s.ranges[e].empty)).length)?this:new A(k(this.done,t),this.undone,e,n);var o,s}addMapping(t){return new A(O(this.done,t),O(this.undone,t),this.prevTime,this.prevUserEvent)}pop(t,e,n){let r=0==t?this.done:this.undone;if(0==r.length)return null;let i=r[r.length-1];if(n&&i.selectionsAfter.length)return e.update({selection:i.selectionsAfter[i.selectionsAfter.length-1],annotations:a.of({side:t,rest:S(r)}),userEvent:0==t?"select.undo":"select.redo",scrollIntoView:!0});if(i.changes){let n=1==r.length?x:r.slice(0,r.length-1);return i.mapped&&(n=O(n,i.mapped)),e.update({changes:i.changes,selection:i.startSelection,effects:i.effects,annotations:a.of({side:t,rest:n}),filter:!1,userEvent:0==t?"undo":"redo",scrollIntoView:!0})}return null}}A.empty=new A(x,x);const E=[{key:"Mod-z",run:p,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:m,preventDefault:!0},{key:"Mod-u",run:g,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:v,preventDefault:!0}],M=1024;let T=0;class _{constructor(t,e){this.from=t,this.to=e}}class P{constructor(t={}){this.id=T++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof t&&(t=N.match(t)),e=>{let n=t(e);return void 0===n?null:[this,n]}}}P.closedBy=new P({deserialize:t=>t.split(" ")}),P.openedBy=new P({deserialize:t=>t.split(" ")}),P.group=new P({deserialize:t=>t.split(" ")}),P.contextHash=new P({perNode:!0}),P.lookAhead=new P({perNode:!0}),P.mounted=new P({perNode:!0});const D=Object.create(null);class N{constructor(t,e,n,r=0){this.name=t,this.props=e,this.id=n,this.flags=r}static define(t){let e=t.props&&t.props.length?Object.create(null):D,n=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0),r=new N(t.name||"",e,t.id,n);if(t.props)for(let i of t.props)if(Array.isArray(i)||(i=i(r)),i){if(i[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[i[0].id]=i[1]}return r}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if("string"==typeof t){if(this.name==t)return!0;let e=this.prop(P.group);return!!e&&e.indexOf(t)>-1}return this.id==t}static match(t){let e=Object.create(null);for(let n in t)for(let r of n.split(" "))e[r]=t[n];return t=>{for(let n=t.prop(P.group),r=-1;r<(n?n.length:0);r++){let i=e[r<0?t.name:n[r]];if(i)return i}}}}N.none=new N("",Object.create(null),0,8);const I=new WeakMap,B=new WeakMap;class R{constructor(t,e,n,r,i){if(this.type=t,this.children=e,this.positions=n,this.length=r,this.props=null,i&&i.length){this.props=Object.create(null);for(let[t,e]of i)this.props["number"==typeof t?t:t.id]=e}}toString(){let t=this.prop(P.mounted);if(t&&!t.overlay)return t.tree.toString();let e="";for(let n of this.children){let t=n.toString();t&&(e&&(e+=","),e+=t)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t,e=0){let n=null!=t&&I.get(this)||this.topNode,r=new X(n);return null!=t&&(r.moveTo(t,e),I.set(this,r._tree)),r}fullCursor(){return new X(this.topNode,1)}get topNode(){return new W(this,0,0,null)}resolve(t,e=0){let n=H(I.get(this)||this.topNode,t,e,!1);return I.set(this,n),n}resolveInner(t,e=0){let n=H(B.get(this)||this.topNode,t,e,!0);return B.set(this,n),n}iterate(t){let{enter:e,leave:n,from:r=0,to:i=this.length}=t;for(let o=this.cursor(),s=()=>o.node;;){let t=!1;if(o.from<=i&&o.to>=r&&(o.type.isAnonymous||!1!==e(o.type,o.from,o.to,s))){if(o.firstChild())continue;o.type.isAnonymous||(t=!0)}for(;t&&n&&n(o.type,o.from,o.to,s),t=o.type.isAnonymous,!o.nextSibling();){if(!o.parent())return;t=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:Q(N.none,this.children,this.positions,0,this.children.length,0,this.length,((t,e,n)=>new R(this.type,t,e,n,this.propValues)),t.makeTree||((t,e,n)=>new R(N.none,t,e,n)))}static build(t){return function(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=M,reused:o=[],minRepeatType:s=r.types.length}=t,a=Array.isArray(n)?new L(n,n.length):n,l=r.types,c=0,h=0;function u(t,e,n,v,y){let{id:b,start:w,end:x,size:k}=a,S=h;for(;k<0;){if(a.next(),-1==k){let e=o[b];return n.push(e),void v.push(w-t)}if(-3==k)return void(c=b);if(-4==k)return void(h=b);throw new RangeError(`Unrecognized record size: ${k}`)}let O,C,j=l[b],A=w-t;if(x-w<=i&&(C=m(a.pos-e,y))){let e=new Uint16Array(C.size-C.skip),n=a.pos-C.size,i=e.length;for(;a.pos>n;)i=g(C.start,e,i);O=new q(e,x-C.start,r),A=C.start-t}else{let t=a.pos-k;a.next();let e=[],n=[],r=b>=s?b:-1,o=0,l=x;for(;a.pos>t;)r>=0&&a.id==r&&a.size>=0?(a.end<=l-i&&(d(e,n,w,o,a.end,l,r,S),o=e.length,l=a.end),a.next()):u(w,t,e,n,r);if(r>=0&&o>0&&o<e.length&&d(e,n,w,o,w,l,r,S),e.reverse(),n.reverse(),r>-1&&o>0){let t=f(j);O=Q(j,e,n,0,e.length,0,x-w,t,t)}else O=p(j,e,n,x-w,S-x)}n.push(O),v.push(A)}function f(t){return(e,n,r)=>{let i,o,s=0,a=e.length-1;if(a>=0&&(i=e[a])instanceof R){if(!a&&i.type==t&&i.length==r)return i;(o=i.prop(P.lookAhead))&&(s=n[a]+i.length+o)}return p(t,e,n,r,s)}}function d(t,e,n,i,o,s,a,l){let c=[],h=[];for(;t.length>i;)c.push(t.pop()),h.push(e.pop()+n-o);t.push(p(r.types[a],c,h,s-o,l-s)),e.push(o-n)}function p(t,e,n,r,i=0,o){if(c){let t=[P.contextHash,c];o=o?[t].concat(o):[t]}if(i>25){let t=[P.lookAhead,i];o=o?[t].concat(o):[t]}return new R(t,e,n,r,o)}function m(t,e){let n=a.fork(),r=0,o=0,l=0,c=n.end-i,h={size:0,start:0,skip:0};t:for(let i=n.pos-t;n.pos>i;){let t=n.size;if(n.id==e&&t>=0){h.size=r,h.start=o,h.skip=l,l+=4,r+=4,n.next();continue}let a=n.pos-t;if(t<0||a<i||n.start<c)break;let u=n.id>=s?4:0,f=n.start;for(n.next();n.pos>a;){if(n.size<0){if(-3!=n.size)break t;u+=4}else n.id>=s&&(u+=4);n.next()}o=f,r+=t,l+=u}return(e<0||r==t)&&(h.size=r,h.start=o,h.skip=l),h.size>4?h:void 0}function g(t,e,n){let{id:r,start:i,end:o,size:l}=a;if(a.next(),l>=0&&r<s){let s=n;if(l>4){let r=a.pos-(l-4);for(;a.pos>r;)n=g(t,e,n)}e[--n]=s,e[--n]=o-t,e[--n]=i-t,e[--n]=r}else-3==l?c=r:-4==l&&(h=r);return n}let v=[],y=[];for(;a.pos>0;)u(t.start||0,t.bufferStart||0,v,y,-1);let b=null!==(e=t.length)&&void 0!==e?e:v.length?y[0]+v[0].length:0;return new R(l[t.topID],v.reverse(),y.reverse(),b)}(t)}}R.empty=new R(N.none,[],[],0);class L{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new L(this.buffer,this.index)}}class q{constructor(t,e,n){this.buffer=t,this.length=e,this.set=n}get type(){return N.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],n=this.buffer[t+3],r=this.set.types[e],i=r.name;if(/\W/.test(i)&&!r.isError&&(i=JSON.stringify(i)),n==(t+=4))return i;let o=[];for(;t<n;)o.push(this.childString(t)),t=this.buffer[t+3];return i+"("+o.join(",")+")"}findChild(t,e,n,r,i){let{buffer:o}=this,s=-1;for(let a=t;a!=e&&!(F(i,r,o[a+1],o[a+2])&&(s=a,n>0));a=o[a+3]);return s}slice(t,e,n,r){let i=this.buffer,o=new Uint16Array(e-t);for(let s=t,a=0;s<e;)o[a++]=i[s++],o[a++]=i[s++]-n,o[a++]=i[s++]-n,o[a++]=i[s++]-t;return new q(o,r-n,this.set)}}function F(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function z(t,e){let n=t.childBefore(e);for(;n;){let e=n.lastChild;if(!e||e.to!=n.to)break;e.type.isError&&e.from==e.to?(t=n,n=e.prevSibling):n=e}return t}function H(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let e=!r&&t instanceof W&&t.index<0?null:t.parent;if(!e)return t;t=e}if(r)for(let o=t,s=o.parent;s;o=s,s=o.parent)o instanceof W&&o.index<0&&(null===(i=s.enter(e,n,!0))||void 0===i?void 0:i.from)!=o.from&&(t=s);for(;;){let i=t.enter(e,n,r);if(!i)return t;t=i}}class W{constructor(t,e,n,r){this.node=t,this._from=e,this.index=n,this._parent=r}get type(){return this.node.type}get name(){return this.node.type.name}get from(){return this._from}get to(){return this._from+this.node.length}nextChild(t,e,n,r,i=0){for(let o=this;;){for(let{children:s,positions:a}=o.node,l=e>0?s.length:-1;t!=l;t+=e){let l=s[t],c=a[t]+o._from;if(F(r,n,c,c+l.length))if(l instanceof q){if(2&i)continue;let s=l.findChild(0,l.buffer.length,e,n-c,r);if(s>-1)return new $(new U(o,l,t,c),null,s)}else if(1&i||!l.type.isAnonymous||J(l)){let s;if(!(1&i)&&l.props&&(s=l.prop(P.mounted))&&!s.overlay)return new W(s.tree,c,t,o);let a=new W(l,c,t,o);return 1&i||!a.type.isAnonymous?a:a.nextChild(e<0?l.children.length-1:0,e,n,r)}}if(1&i||!o.type.isAnonymous)return null;if(t=o.index>=0?o.index+e:e<0?-1:o._parent.node.children.length,o=o._parent,!o)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this.node.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this.node.children.length-1,-1,t,-2)}enter(t,e,n=!0,r=!0){let i;if(n&&(i=this.node.prop(P.mounted))&&i.overlay){let n=t-this.from;for(let{from:t,to:r}of i.overlay)if((e>0?t<=n:t<n)&&(e<0?r>=n:r>n))return new W(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,r?0:2)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get cursor(){return new X(this)}get tree(){return this.node}toTree(){return this.node}resolve(t,e=0){return H(this,t,e,!1)}resolveInner(t,e=0){return H(this,t,e,!0)}enterUnfinishedNodesBefore(t){return z(this,t)}getChild(t,e=null,n=null){let r=V(this,t,e,n);return r.length?r[0]:null}getChildren(t,e=null,n=null){return V(this,t,e,n)}toString(){return this.node.toString()}}function V(t,e,n,r){let i=t.cursor,o=[];if(!i.firstChild())return o;if(null!=n)for(;!i.type.is(n);)if(!i.nextSibling())return o;for(;;){if(null!=r&&i.type.is(r))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return null==r?o:[]}}class U{constructor(t,e,n,r){this.parent=t,this.buffer=e,this.index=n,this.start=r}}class ${constructor(t,e,n){this.context=t,this._parent=e,this.index=n,this.type=t.buffer.set.types[t.buffer.buffer[n]]}get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(t,e,n){let{buffer:r}=this.context,i=r.findChild(this.index+4,r.buffer[this.index+3],t,e-this.context.start,n);return i<0?null:new $(this.context,this,i)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e,n,r=!0){if(!r)return null;let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return o<0?null:new $(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new $(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new $(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get cursor(){return new X(this)}get tree(){return null}toTree(){let t=[],e=[],{buffer:n}=this.context,r=this.index+4,i=n.buffer[this.index+3];if(i>r){let o=n.buffer[this.index+1],s=n.buffer[this.index+2];t.push(n.slice(r,i,o,s)),e.push(0)}return new R(this.type,t,e,this.to-this.from)}resolve(t,e=0){return H(this,t,e,!1)}resolveInner(t,e=0){return H(this,t,e,!0)}enterUnfinishedNodesBefore(t){return z(this,t)}toString(){return this.context.buffer.childString(this.index)}getChild(t,e=null,n=null){let r=V(this,t,e,n);return r.length?r[0]:null}getChildren(t,e=null,n=null){return V(this,t,e,n)}}class X{constructor(t,e=0){if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof W)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let e=t._parent;e;e=e._parent)this.stack.unshift(e.index);this.bufferNode=t,this.yieldBuf(t.index)}}get name(){return this.type.name}yieldNode(t){return!!t&&(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0)}yieldBuf(t,e){this.index=t;let{start:n,buffer:r}=this.buffer;return this.type=e||r.set.types[r.buffer[t]],this.from=n+r.buffer[t+1],this.to=n+r.buffer[t+2],!0}yield(t){return!!t&&(t instanceof W?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,n){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree.node.children.length-1:0,t,e,n,this.mode));let{buffer:r}=this.buffer,i=r.findChild(this.index+4,r.buffer[this.index+3],t,e-this.buffer.start,n);return!(i<0)&&(this.stack.push(this.index),this.yieldBuf(i))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,n=!0,r=!0){return this.buffer?!!r&&this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,n&&!(1&this.mode),r))}parent(){if(!this.buffer)return this.yieldNode(1&this.mode?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=1&this.mode?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode));let{buffer:e}=this.buffer,n=this.stack.length-1;if(t<0){let t=n<0?0:this.stack[n]+4;if(this.index!=t)return this.yieldBuf(e.findChild(t,this.index,-1,0,4))}else{let t=e.buffer[this.index+3];if(t<(n<0?e.buffer.length:e.buffer[this.stack[n]+3]))return this.yieldBuf(t)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,n,{buffer:r}=this;if(r){if(t>0){if(this.index<r.buffer.buffer.length)return!1}else for(let t=0;t<this.index;t++)if(r.buffer.buffer[t+3]<this.index)return!1;({index:e,parent:n}=r)}else({index:e,_parent:n}=this._tree);for(;n;({index:e,_parent:n}=n))if(e>-1)for(let r=e+t,i=t<0?-1:n.node.children.length;r!=i;r+=t){let t=n.node.children[r];if(1&this.mode||t instanceof q||!t.type.isAnonymous||J(t))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,n=0;if(t&&t.context==this.buffer)t:for(let r=this.index,i=this.stack.length;i>=0;){for(let o=t;o;o=o._parent)if(o.index==r){if(r==this.index)return o;e=o,n=i+1;break t}r=this.stack[--i]}for(let r=n;r<this.stack.length;r++)e=new $(this.buffer,e,this.stack[r]);return this.bufferNode=new $(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree.node}}function J(t){return t.children.some((t=>t instanceof q||!t.type.isAnonymous||J(t)))}const Y=new WeakMap;function G(t,e){if(!t.isAnonymous||e instanceof q||e.type!=t)return 1;let n=Y.get(e);if(null==n){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof R)){n=1;break}n+=G(t,r)}Y.set(e,n)}return n}function Q(t,e,n,r,i,o,s,a,l){let c=0;for(let d=r;d<i;d++)c+=G(t,e[d]);let h=Math.ceil(1.5*c/8),u=[],f=[];return function e(n,r,i,s,a){for(let c=i;c<s;){let i=c,d=r[c],p=G(t,n[c]);for(c++;c<s;c++){let e=G(t,n[c]);if(p+e>=h)break;p+=e}if(c==i+1){if(p>h){let t=n[i];e(t.children,t.positions,0,t.children.length,r[i]+a);continue}u.push(n[i])}else{let e=r[c-1]+n[c-1].length-d;u.push(Q(t,n,r,i,c,d,e,null,l))}f.push(d+a-o)}}(e,n,r,i,0),(a||l)(u,f,s)}class K{constructor(t,e,n,r,i=!1,o=!1){this.from=t,this.to=e,this.tree=n,this.offset=r,this.open=(i?1:0)|(o?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(t,e=[],n=!1){let r=[new K(0,t.length,t,0,!1,n)];for(let i of e)i.to>t.length&&r.push(i);return r}static applyChanges(t,e,n=128){if(!e.length)return t;let r=[],i=1,o=t.length?t[0]:null;for(let s=0,a=0,l=0;;s++){let c=s<e.length?e[s]:null,h=c?c.fromA:1e9;if(h-a>=n)for(;o&&o.from<h;){let e=o;if(a>=e.from||h<=e.to||l){let t=Math.max(e.from,a)-l,n=Math.min(e.to,h)-l;e=t>=n?null:new K(t,n,e.tree,e.offset+l,s>0,!!c)}if(e&&r.push(e),o.to>h)break;o=i<t.length?t[i++]:null}if(!c)break;a=c.toA,l=c.toA-c.toB}return r}}class Z{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}}new P({perNode:!0});var tt=n(7268);const et=new P;class nt{constructor(t,e,n,r=[]){this.data=t,this.topNode=n,s.yy.prototype.hasOwnProperty("tree")||Object.defineProperty(s.yy.prototype,"tree",{get(){return it(this)}}),this.parser=e,this.extension=[ft.of(this),s.yy.languageData.of(((t,e,n)=>t.facet(rt(t,e,n))))].concat(r)}isActiveAt(t,e,n=-1){return rt(t,e,n)==this.data}findRegions(t){let e=t.facet(ft);if((null===e||void 0===e?void 0:e.data)==this.data)return[{from:0,to:t.doc.length}];if(!e||!e.allowsNesting)return[];let n=[],r=(t,e)=>{if(t.prop(et)==this.data)return void n.push({from:e,to:e+t.length});let i=t.prop(P.mounted);if(i){if(i.tree.prop(et)==this.data){if(i.overlay)for(let t of i.overlay)n.push({from:t.from+e,to:t.to+e});else n.push({from:e,to:e+t.length});return}if(i.overlay){let t=n.length;if(r(i.tree,i.overlay[0].from+e),n.length>t)return}}for(let n=0;n<t.children.length;n++){let i=t.children[n];i instanceof R&&r(i,t.positions[n]+e)}};return r(it(t),0),n}get allowsNesting(){return!0}}function rt(t,e,n){let r=t.facet(ft);if(!r)return null;let i=r.data;if(r.allowsNesting)for(let o=it(t).topNode;o;o=o.enter(e,n,!0,!1))i=o.type.prop(et)||i;return i}nt.setState=s.Py.define();function it(t){let e=t.field(nt.state,!1);return e?e.tree:R.empty}class ot{constructor(t,e=t.length){this.doc=t,this.length=e,this.cursorPos=0,this.string="",this.cursor=t.iter()}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,e){let n=this.cursorPos-this.string.length;return t<n||e>=this.cursorPos?this.doc.sliceString(t,e):this.string.slice(t-n,e-n)}}let st=null;class at{constructor(t,e,n=[],r,i,o,s,a){this.parser=t,this.state=e,this.fragments=n,this.tree=r,this.treeLen=i,this.viewport=o,this.skipped=s,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}startParse(){return this.parser.startParse(new ot(this.state.doc),this.fragments)}work(t,e){return null!=e&&e>=this.state.doc.length&&(e=void 0),this.tree!=R.empty&&this.isDone(null!==e&&void 0!==e?e:this.state.doc.length)?(this.takeTree(),!0):this.withContext((()=>{var n;let r=Date.now()+t;for(this.parse||(this.parse=this.startParse()),null!=e&&(null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&e<this.state.doc.length&&this.parse.stopAt(e);;){let t=this.parse.advance();if(t){if(this.fragments=this.withoutTempSkipped(K.addTree(t,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(n=this.parse.stoppedAt)&&void 0!==n?n:this.state.doc.length,this.tree=t,this.parse=null,!(this.treeLen<(null!==e&&void 0!==e?e:this.state.doc.length)))return!0;this.parse=this.startParse()}if(Date.now()>r)return!1}}))}takeTree(){let t,e;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext((()=>{for(;!(e=this.parse.advance()););})),this.treeLen=t,this.tree=e,this.fragments=this.withoutTempSkipped(K.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let e=st;st=this;try{return t()}finally{st=e}}withoutTempSkipped(t){for(let e;e=this.tempSkipped.pop();)t=lt(t,e.from,e.to);return t}changes(t,e){let{fragments:n,tree:r,treeLen:i,viewport:o,skipped:s}=this;if(this.takeTree(),!t.empty){let e=[];if(t.iterChangedRanges(((t,n,r,i)=>e.push({fromA:t,toA:n,fromB:r,toB:i}))),n=K.applyChanges(n,e),r=R.empty,i=0,o={from:t.mapPos(o.from,-1),to:t.mapPos(o.to,1)},this.skipped.length){s=[];for(let e of this.skipped){let n=t.mapPos(e.from,1),r=t.mapPos(e.to,-1);n<r&&s.push({from:n,to:r})}}}return new at(this.parser,e,n,r,i,o,s,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let e=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:e,to:r}=this.skipped[n];e<t.to&&r>t.from&&(this.fragments=lt(this.fragments,e,r),this.skipped.splice(n--,1))}return!(this.skipped.length>=e)&&(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,e){this.skipped.push({from:t,to:e})}static getSkippingParser(t){return new class extends class{startParse(t,e,n){return"string"==typeof t&&(t=new Z(t)),n=n?n.length?n.map((t=>new _(t.from,t.to))):[new _(0,0)]:[new _(0,t.length)],this.createParse(t,e||[],n)}parse(t,e,n){let r=this.startParse(t,e,n);for(;;){let t=r.advance();if(t)return t}}}{createParse(e,n,r){let i=r[0].from,o=r[r.length-1].to;return{parsedPos:i,advance(){let e=st;if(e){for(let t of r)e.tempSkipped.push(t);t&&(e.scheduleOn=e.scheduleOn?Promise.all([e.scheduleOn,t]):t)}return this.parsedPos=o,new R(N.none,[],[],o-i)},stoppedAt:null,stopAt(){}}}}}isDone(t){t=Math.min(t,this.state.doc.length);let e=this.fragments;return this.treeLen>=t&&e.length&&0==e[0].from&&e[0].to>=t}static get(){return st}}function lt(t,e,n){return K.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class ct{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged)return this;let e=this.context.changes(t.changes,t.state),n=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),e.viewport.to);return e.work(20,n)||e.takeTree(),new ct(e)}static init(t){let e=Math.min(3e3,t.doc.length),n=new at(t.facet(ft).parser,t,[],R.empty,0,{from:0,to:e},[],null);return n.work(20,e)||n.takeTree(),new ct(n)}}nt.state=s.QQ.define({create:ct.init,update(t,e){for(let n of e.effects)if(n.is(nt.setState))return n.value;return e.startState.facet(ft)!=e.state.facet(ft)?ct.init(e.state):t.apply(e)}});let ht=t=>{let e=setTimeout((()=>t()),500);return()=>clearTimeout(e)};"undefined"!=typeof requestIdleCallback&&(ht=t=>{let e=-1,n=setTimeout((()=>{e=requestIdleCallback(t,{timeout:400})}),100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const ut=o.lg.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let e=this.view.state.field(nt.state).context;(e.updateViewport(t.view.viewport)||this.view.viewport.to>e.treeLen)&&this.scheduleWork(),t.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(e)}scheduleWork(){if(this.working)return;let{state:t}=this.view,e=t.field(nt.state);e.tree==e.context.tree&&e.context.isDone(t.doc.length)||(this.working=ht(this.work))}work(t){this.working=null;let e=Date.now();if(this.chunkEnd<e&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=e+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:r}}=this.view,i=n.field(nt.state);if(i.tree==i.context.tree&&i.context.isDone(r+1e5))return;let o=Math.min(this.chunkBudget,100,t?Math.max(25,t.timeRemaining()-5):1e9),s=i.context.treeLen<r&&n.doc.length>r+1e3,a=i.context.work(o,r+(s?0:1e5));this.chunkBudget-=Date.now()-e,(a||this.chunkBudget<=0)&&(i.context.takeTree(),this.view.dispatch({effects:nt.setState.of(new ct(i.context))})),this.chunkBudget>0&&(!a||s)&&this.scheduleWork(),this.checkAsyncSchedule(i.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then((()=>this.scheduleWork())).catch((t=>(0,o.OO)(this.view.state,t))).then((()=>this.workScheduled--)),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return this.working||this.workScheduled>0}},{eventHandlers:{focus(){this.scheduleWork()}}}),ft=s.r$.define({combine:t=>t.length?t[0]:null,enables:[nt.state,ut]});const dt=s.r$.define(),pt=s.r$.define({combine:t=>{if(!t.length)return"  ";if(!/^(?: +|\t+)$/.test(t[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return t[0]}});function mt(t){let e=t.facet(pt);return 9==e.charCodeAt(0)?t.tabSize*e.length:e.length}function gt(t,e){let n="",r=t.tabSize;if(9==t.facet(pt).charCodeAt(0))for(;e>=r;)n+="\t",e-=r;for(let i=0;i<e;i++)n+=" ";return n}function vt(t,e){t instanceof s.yy&&(t=new yt(t));for(let r of t.state.facet(dt)){let n=r(t,e);if(null!=n)return n}let n=it(t.state);return n?function(t,e,n){return xt(e.resolveInner(n).enterUnfinishedNodesBefore(n),n,t)}(t,n,e):null}class yt{constructor(t,e={}){this.state=t,this.options=e,this.unit=mt(t)}lineAt(t,e=1){let n=this.state.doc.lineAt(t),{simulateBreak:r}=this.options;return null!=r&&r>=n.from&&r<=n.to?(e<0?r<t:r<=t)?{text:n.text.slice(r-n.from),from:r}:{text:n.text.slice(0,r-n.from),from:n.from}:n}textAfterPos(t,e=1){if(this.options.simulateDoubleBreak&&t==this.options.simulateBreak)return"";let{text:n,from:r}=this.lineAt(t,e);return n.slice(t-r,Math.min(n.length,t+100-r))}column(t,e=1){let{text:n,from:r}=this.lineAt(t,e),i=this.countColumn(n,t-r),o=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return o>-1&&(i+=o-this.countColumn(n,n.search(/\S|$/))),i}countColumn(t,e=t.length){return(0,tt.IS)(t,this.state.tabSize,e)}lineIndent(t,e=1){let{text:n,from:r}=this.lineAt(t,e),i=this.options.overrideIndentation;if(i){let t=i(r);if(t>-1)return t}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const bt=new P;function wt(t){let e=t.type.prop(bt);if(e)return e;let n,r=t.firstChild;if(r&&(n=r.type.prop(P.closedBy))){let e=t.lastChild,r=e&&n.indexOf(e.name)>-1;return t=>Ct(t,!0,1,void 0,r&&!function(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}(t)?e.from:void 0)}return null==t.parent?kt:null}function xt(t,e,n){for(;t;t=t.parent){let r=wt(t);if(r)return r(new St(n,e,t))}return null}function kt(){return 0}class St extends yt{constructor(t,e,n){super(t.state,t.options),this.base=t,this.pos=e,this.node=n}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let t=this.state.doc.lineAt(this.node.from);for(;;){let e=this.node.resolve(t.from);for(;e.parent&&e.parent.from==e.from;)e=e.parent;if(Ot(e,this.node))break;t=this.state.doc.lineAt(e.from)}return this.lineIndent(t.from)}continue(){let t=this.node.parent;return t?xt(t,this.pos,this.base):0}}function Ot(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function Ct(t,e,n,r,i){let o=t.textAfter,s=o.match(/^\s*/)[0].length,a=r&&o.slice(s,s+r.length)==r||i==t.pos+s,l=e?function(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,o=t.state.doc.lineAt(n.from),s=null==i||i<=o.from?o.to:Math.min(o.to,i);for(let a=n.to;;){let t=e.childAfter(a);if(!t||t==r)return null;if(!t.type.isSkipped)return t.from<s?n:null;a=t.to}}(t):null;return l?a?t.column(l.from):t.column(l.to):t.baseIndent+(a?0:t.unit*n)}function jt(){return s.yy.transactionFilter.of((t=>{if(!t.docChanged||!t.isUserEvent("input.type"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,i=n.lineAt(r);if(r>i.from+200)return t;let o=n.sliceString(i.from,r);if(!e.some((t=>t.test(o))))return t;let{state:s}=t,a=-1,l=[];for(let{head:c}of s.selection.ranges){let t=s.doc.lineAt(c);if(t.from==a)continue;a=t.from;let e=vt(s,t.from);if(null==e)continue;let n=/^\s*/.exec(t.text)[0],r=gt(s,e);n!=r&&l.push({from:t.from,to:t.from+n.length,insert:r})}return l.length?[t,{changes:l,sequential:!0}]:t}))}const At=s.r$.define(),Et=new P;function Mt(t,e,n){for(let r of t.facet(At)){let i=r(t,e,n);if(i)return i}return function(t,e,n){let r=it(t);if(0==r.length)return null;let i=null;for(let o=r.resolveInner(n);o;o=o.parent){if(o.to<=n||o.from>n)continue;if(i&&o.from<e)break;let r=o.type.prop(Et);if(r){let s=r(o,t);s&&s.from<=n&&s.from>=e&&s.to>n&&(i=s)}}return i}(t,e,n)}var Tt=n(5192);class _t extends Tt.uU{compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}eq(t){return!1}destroy(t){}}_t.prototype.elementClass="",_t.prototype.toDOM=void 0,_t.prototype.mapMode=s.gc.TrackBefore,_t.prototype.startSide=_t.prototype.endSide=-1,_t.prototype.point=!0;const Pt=s.r$.define(),Dt={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Tt.Xs.empty,lineMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Nt=s.r$.define();function It(t){return[Lt(),Nt.of(Object.assign(Object.assign({},Dt),t))]}const Bt=o.tk.baseTheme({".cm-gutters":{display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#999",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"}}),Rt=s.r$.define({combine:t=>t.some((t=>t))});function Lt(t){let e=[qt,Bt];return t&&!1===t.fixed&&e.push(Rt.of(!0)),e}const qt=o.lg.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=t.state.facet(Nt).map((e=>new Wt(t,e)));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!t.state.facet(Rt),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<.8*(n.to-n.from))}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(Rt)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let n=Tt.Xs.iter(this.view.state.facet(Pt),this.view.viewport.from),r=[],i=this.gutters.map((t=>new Ht(t,this.view.viewport,-this.view.documentPadding.top)));for(let s of this.view.viewportLineBlocks){let t;if(Array.isArray(s.type)){for(let e of s.type)if(e.type==o.kH.Text){t=e;break}}else t=s.type==o.kH.Text?s:void 0;if(t){r.length&&(r=[]),zt(n,r,s.from);for(let e of i)e.line(this.view,t,r)}}for(let o of i)o.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(Nt),n=t.state.facet(Nt),r=t.docChanged||t.heightChanged||t.viewportChanged||!Tt.Xs.eq(t.startState.facet(Pt),t.state.facet(Pt),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let i of this.gutters)i.update(t)&&(r=!0);else{r=!0;let i=[];for(let r of n){let n=e.indexOf(r);n<0?i.push(new Wt(this.view,r)):(this.gutters[n].update(t),i.push(this.gutters[n]))}for(let t of this.gutters)t.dom.remove(),i.indexOf(t)<0&&t.destroy();for(let t of i)this.dom.appendChild(t.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:o.BF.scrollMargins.from((t=>0!=t.gutters.length&&t.fixed?t.view.textDirection==o.Nm.LTR?{left:t.dom.offsetWidth}:{right:t.dom.offsetWidth}:null))});function Ft(t){return Array.isArray(t)?t:[t]}function zt(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class Ht{constructor(t,e,n){this.gutter=t,this.height=n,this.localMarkers=[],this.i=0,this.cursor=Tt.Xs.iter(t.markers,e.from)}line(t,e,n){this.localMarkers.length&&(this.localMarkers=[]),zt(this.cursor,this.localMarkers,e.from);let r=n.length?this.localMarkers.concat(n):this.localMarkers,i=this.gutter.config.lineMarker(t,e,r);i&&r.unshift(i);let o=this.gutter;if(0==r.length&&!o.config.renderEmptyElements)return;let s=e.top-this.height;if(this.i==o.elements.length){let n=new Vt(t,e.height,s,r);o.elements.push(n),o.dom.appendChild(n.dom)}else o.elements[this.i].update(t,e.height,s,r);this.height=e.bottom,this.i++}finish(){let t=this.gutter;for(;t.elements.length>this.i;){let e=t.elements.pop();t.dom.removeChild(e.dom),e.destroy()}}}class Wt{constructor(t,e){this.view=t,this.config=e,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in e.domEventHandlers)this.dom.addEventListener(n,(r=>{let i=t.lineBlockAtHeight(r.clientY-t.documentTop);e.domEventHandlers[n](t,i,r)&&r.preventDefault()}));this.markers=Ft(e.markers(t)),e.initialSpacer&&(this.spacer=new Vt(t,0,0,[e.initialSpacer(t)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(t){let e=this.markers;if(this.markers=Ft(this.config.markers(t.view)),this.spacer&&this.config.updateSpacer){let e=this.config.updateSpacer(this.spacer.markers[0],t);e!=this.spacer.markers[0]&&this.spacer.update(t.view,0,0,[e])}let n=t.view.viewport;return!Tt.Xs.eq(this.markers,e,n.from,n.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(t)}destroy(){for(let t of this.elements)t.destroy()}}class Vt{constructor(t,e,n,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.update(t,e,n,r)}update(t,e,n,r){this.height!=e&&(this.dom.style.height=(this.height=e)+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),function(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}(this.markers,r)||this.setMarkers(t,r)}setMarkers(t,e){let n="cm-gutterElement",r=this.dom.firstChild;for(let i=0,o=0;;){let s=o,a=i<e.length?e[i++]:null,l=!1;if(a){let t=a.elementClass;t&&(n+=" "+t);for(let e=o;e<this.markers.length;e++)if(this.markers[e].compare(a)){s=e,l=!0;break}}else s=this.markers.length;for(;o<s;){let t=this.markers[o++];if(t.toDOM){t.destroy(r);let e=r.nextSibling;r.remove(),r=e}}if(!a)break;a.toDOM&&(l?r=r.nextSibling:this.dom.insertBefore(a.toDOM(t),r)),l&&o++}this.dom.className=n,this.markers=e}destroy(){this.setMarkers(null,[])}}const Ut=s.r$.define(),$t=s.r$.define({combine:t=>(0,s.BO)(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(t,e){let n=Object.assign({},t);for(let r in e){let t=n[r],i=e[r];n[r]=t?(e,n,r)=>t(e,n,r)||i(e,n,r):i}return n}})});class Xt extends _t{constructor(t){super(),this.number=t}eq(t){return this.number==t.number}toDOM(){return document.createTextNode(this.number)}}function Jt(t,e){return t.state.facet($t).formatNumber(e,t.state)}const Yt=Nt.compute([$t],(t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:t=>t.state.facet(Ut),lineMarker:(t,e,n)=>n.some((t=>t.toDOM))?null:new Xt(Jt(t,t.state.doc.lineAt(e.from).number)),lineMarkerChange:t=>t.startState.facet($t)!=t.state.facet($t),initialSpacer:t=>new Xt(Jt(t,Qt(t.state.doc.lines))),updateSpacer(t,e){let n=Jt(e.view,Qt(e.view.state.doc.lines));return n==t.number?t:new Xt(n)},domEventHandlers:t.facet($t).domEventHandlers})));function Gt(t={}){return[$t.of(t),Lt(),Yt]}function Qt(t){let e=9;for(;e<t;)e=10*e+9;return e}const Kt=new class extends _t{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},Zt=Pt.compute(["selection"],(t=>{let e=[],n=-1;for(let r of t.selection.ranges)if(r.empty){let i=t.doc.lineAt(r.head).from;i>n&&(n=i,e.push(Kt.range(i)))}return Tt.Xs.of(e)}));function te(){return Zt}function ee(t,e){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);return n>=r?void 0:{from:n,to:r}}const ne=s.Py.define({map:ee}),re=s.Py.define({map:ee});function ie(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some((t=>t.from<=n&&t.to>=n))||e.push(t.lineBlockAt(n));return e}const oe=s.QQ.define({create:()=>o.p.none,update(t,e){t=t.map(e.changes);for(let n of e.effects)n.is(ne)&&!ae(t,n.value.from,n.value.to)?t=t.update({add:[pe.range(n.value.from,n.value.to)]}):n.is(re)&&(t=t.update({filter:(t,e)=>n.value.from!=t||n.value.to!=e,filterFrom:n.value.from,filterTo:n.value.to}));if(e.selection){let n=!1,{head:r}=e.selection.main;t.between(r,r,((t,e)=>{t<r&&e>r&&(n=!0)})),n&&(t=t.update({filterFrom:r,filterTo:r,filter:(t,e)=>e<=r||t>=r}))}return t},provide:t=>o.tk.decorations.from(t)});function se(t,e,n){var r;let i=null;return null===(r=t.field(oe,!1))||void 0===r||r.between(e,n,((t,e)=>{(!i||i.from>t)&&(i={from:t,to:e})})),i}function ae(t,e,n){let r=!1;return t.between(e,e,((t,i)=>{t==e&&i==n&&(r=!0)})),r}function le(t,e){return t.field(oe,!1)?e:e.concat(s.Py.appendConfig.of(de()))}function ce(t,e,n=!0){let r=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return o.tk.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${t.state.phrase("to")} ${i}.`)}const he=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:t=>{for(let e of ie(t)){let n=Mt(t.state,e.from,e.to);if(n)return t.dispatch({effects:le(t.state,[ne.of(n),ce(t,n)])}),!0}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:t=>{if(!t.state.field(oe,!1))return!1;let e=[];for(let n of ie(t)){let r=se(t.state,n.from,n.to);r&&e.push(re.of(r),ce(t,r,!1))}return e.length&&t.dispatch({effects:e}),e.length>0}},{key:"Ctrl-Alt-[",run:t=>{let{state:e}=t,n=[];for(let r=0;r<e.doc.length;){let i=t.lineBlockAt(r),o=Mt(e,i.from,i.to);o&&n.push(ne.of(o)),r=(o?t.lineBlockAt(o.to):i).to+1}return n.length&&t.dispatch({effects:le(t.state,n)}),!!n.length}},{key:"Ctrl-Alt-]",run:t=>{let e=t.state.field(oe,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,((t,e)=>{n.push(re.of({from:t,to:e}))})),t.dispatch({effects:n}),!0}}],ue={placeholderDOM:null,placeholderText:"\u2026"},fe=s.r$.define({combine:t=>(0,s.BO)(t,ue)});function de(t){let e=[oe,ye];return t&&e.push(fe.of(t)),e}const pe=o.p.replace({widget:new class extends o.l9{toDOM(t){let{state:e}=t,n=e.facet(fe),r=e=>{let n=t.lineBlockAt(t.posAtDOM(e.target)),r=se(t.state,n.from,n.to);r&&t.dispatch({effects:re.of(r)}),e.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(t,r);let i=document.createElement("span");return i.textContent=n.placeholderText,i.setAttribute("aria-label",e.phrase("folded code")),i.title=e.phrase("unfold"),i.className="cm-foldPlaceholder",i.onclick=r,i}}}),me={openText:"\u2304",closedText:"\u203a",markerDOM:null,domEventHandlers:{}};class ge extends _t{constructor(t,e){super(),this.config=t,this.open=e}eq(t){return this.config==t.config&&this.open==t.open}toDOM(t){if(this.config.markerDOM)return this.config.markerDOM(this.open);let e=document.createElement("span");return e.textContent=this.open?this.config.openText:this.config.closedText,e.title=t.state.phrase(this.open?"Fold line":"Unfold line"),e}}function ve(t={}){let e=Object.assign(Object.assign({},me),t),n=new ge(e,!0),r=new ge(e,!1),i=o.lg.fromClass(class{constructor(t){this.from=t.viewport.from,this.markers=this.buildMarkers(t)}update(t){(t.docChanged||t.viewportChanged||t.startState.facet(ft)!=t.state.facet(ft)||t.startState.field(oe,!1)!=t.state.field(oe,!1))&&(this.markers=this.buildMarkers(t.view))}buildMarkers(t){let e=new Tt.f_;for(let i of t.viewportLineBlocks){let o=se(t.state,i.from,i.to)?r:Mt(t.state,i.from,i.to)?n:null;o&&e.add(i.from,i.from,o)}return e.finish()}}),{domEventHandlers:s}=e;return[i,It({class:"cm-foldGutter",markers(t){var e;return(null===(e=t.plugin(i))||void 0===e?void 0:e.markers)||Tt.Xs.empty},initialSpacer:()=>new ge(e,!1),domEventHandlers:Object.assign(Object.assign({},s),{click:(t,e,n)=>{if(s.click&&s.click(t,e,n))return!0;let r=se(t.state,e.from,e.to);if(r)return t.dispatch({effects:re.of(r)}),!0;let i=Mt(t.state,e.from,e.to);return!!i&&(t.dispatch({effects:ne.of(i)}),!0)}})}),de()]}const ye=o.tk.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}}),be=o.tk.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),we="()[]{}",xe=s.r$.define({combine:t=>(0,s.BO)(t,{afterCursor:!0,brackets:we,maxScanDistance:1e4})}),ke=o.p.mark({class:"cm-matchingBracket"}),Se=o.p.mark({class:"cm-nonmatchingBracket"}),Oe=[s.QQ.define({create:()=>o.p.none,update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet(xe);for(let i of e.state.selection.ranges){if(!i.empty)continue;let t=Ae(e.state,i.head,-1,r)||i.head>0&&Ae(e.state,i.head-1,1,r)||r.afterCursor&&(Ae(e.state,i.head,1,r)||i.head<e.state.doc.length&&Ae(e.state,i.head+1,-1,r));if(!t)continue;let o=t.matched?ke:Se;n.push(o.range(t.start.from,t.start.to)),t.end&&n.push(o.range(t.end.from,t.end.to))}return o.p.set(n,!0)},provide:t=>o.tk.decorations.from(t)}),be];function Ce(t={}){return[xe.of(t),Oe]}function je(t,e,n){let r=t.prop(e<0?P.openedBy:P.closedBy);if(r)return r;if(1==t.name.length){let r=n.indexOf(t.name);if(r>-1&&r%2==(e<0?1:0))return[n[r+e]]}return null}function Ae(t,e,n,r={}){let i=r.maxScanDistance||1e4,o=r.brackets||we,s=it(t),a=s.resolveInner(e,n);for(let l=a;l;l=l.parent){let r=je(l.type,n,o);if(r&&l.from<l.to)return Ee(t,e,n,l,r,o)}return function(t,e,n,r,i,o,s){let a=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=s.indexOf(a);if(l<0||l%2==0!=n>0)return null;let c={from:n<0?e-1:e,to:n>0?e+1:e},h=t.doc.iterRange(e,n>0?t.doc.length:0),u=0;for(let f=0;!h.next().done&&f<=o;){let t=h.value;n<0&&(f+=t.length);let o=e+f*n;for(let e=n>0?0:t.length-1,a=n>0?t.length:-1;e!=a;e+=n){let a=s.indexOf(t[e]);if(!(a<0||r.resolve(o+e,1).type!=i))if(a%2==0==n>0)u++;else{if(1==u)return{start:c,end:{from:o+e,to:o+e+1},matched:a>>1==l>>1};u--}}n>0&&(f+=t.length)}return h.done?{start:c,matched:!1}:null}(t,e,n,s,a.type,i,o)}function Ee(t,e,n,r,i,o){let s=r.parent,a={from:r.from,to:r.to},l=0,c=null===s||void 0===s?void 0:s.cursor;if(c&&(n<0?c.childBefore(r.from):c.childAfter(r.to)))do{if(n<0?c.to<=r.from:c.from>=r.to){if(0==l&&i.indexOf(c.type.name)>-1&&c.from<c.to)return{start:a,end:{from:c.from,to:c.to},matched:!0};if(je(c.type,n,o))l++;else if(je(c.type,-n,o)&&(l--,0==l))return{start:a,end:c.from==c.to?void 0:{from:c.from,to:c.to},matched:!1}}}while(n<0?c.prevSibling():c.nextSibling());return{start:a,matched:!1}}function Me(t,e){return s.jT.create(t.ranges.map(e),t.mainIndex)}function Te(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function _e({state:t,dispatch:e},n){let r=Me(t.selection,n);return!r.eq(t.selection)&&(e(Te(t,r)),!0)}function Pe(t,e){return s.jT.cursor(e?t.to:t.from)}function De(t,e){return _e(t,(n=>n.empty?t.moveByChar(n,e):Pe(n,e)))}const Ne=t=>De(t,t.textDirection!=o.Nm.LTR),Ie=t=>De(t,t.textDirection==o.Nm.LTR);function Be(t,e){return _e(t,(n=>n.empty?t.moveByGroup(n,e):Pe(n,e)))}function Re(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function Le(t,e,n){let r,i,o=it(t).resolveInner(e.head),a=n?P.closedBy:P.openedBy;for(let s=e.head;;){let e=n?o.childAfter(s):o.childBefore(s);if(!e)break;Re(t,e,a)?o=e:s=n?e.to:e.from}return i=o.type.prop(a)&&(r=n?Ae(t,o.from,1):Ae(t,o.to,-1))&&r.matched?n?r.end.to:r.end.from:n?o.to:o.from,s.jT.cursor(i,n?-1:1)}function qe(t,e){return _e(t,(n=>{if(!n.empty)return Pe(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)}))}const Fe=t=>qe(t,!1),ze=t=>qe(t,!0);function He(t,e){let{state:n}=t,r=Me(n.selection,(n=>n.empty?t.moveVertically(n,e,t.dom.clientHeight):Pe(n,e)));if(r.eq(n.selection))return!1;let i=t.coordsAtPos(n.selection.main.head),s=t.scrollDOM.getBoundingClientRect();return t.dispatch(Te(n,r),{effects:i&&i.top>s.top&&i.bottom<s.bottom?o.tk.scrollIntoView(r.main.head,{y:"start",yMargin:i.top-s.top}):void 0}),!0}const We=t=>He(t,!1),Ve=t=>He(t,!0);function Ue(t,e,n){let r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let n=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;n&&e.head!=r.from+n&&(i=s.jT.cursor(r.from+n))}return i}const $e=t=>_e(t,(e=>Ue(t,e,!0))),Xe=t=>_e(t,(e=>Ue(t,e,!1)));function Je(t,e,n){let r=!1,i=Me(t.selection,(e=>{let i=Ae(t,e.head,-1)||Ae(t,e.head,1)||e.head>0&&Ae(t,e.head-1,1)||e.head<t.doc.length&&Ae(t,e.head+1,-1);if(!i||!i.end)return e;r=!0;let o=i.start.from==e.head?i.end.to:i.end.from;return n?s.jT.range(e.anchor,o):s.jT.cursor(o)}));return!!r&&(e(Te(t,i)),!0)}function Ye(t,e){let n=Me(t.state.selection,(t=>{let n=e(t);return s.jT.range(t.anchor,n.head,n.goalColumn)}));return!n.eq(t.state.selection)&&(t.dispatch(Te(t.state,n)),!0)}function Ge(t,e){return Ye(t,(n=>t.moveByChar(n,e)))}const Qe=t=>Ge(t,t.textDirection!=o.Nm.LTR),Ke=t=>Ge(t,t.textDirection==o.Nm.LTR);function Ze(t,e){return Ye(t,(n=>t.moveByGroup(n,e)))}function tn(t,e){return Ye(t,(n=>t.moveVertically(n,e)))}const en=t=>tn(t,!1),nn=t=>tn(t,!0);function rn(t,e){return Ye(t,(n=>t.moveVertically(n,e,t.dom.clientHeight)))}const on=t=>rn(t,!1),sn=t=>rn(t,!0),an=t=>Ye(t,(e=>Ue(t,e,!0))),ln=t=>Ye(t,(e=>Ue(t,e,!1))),cn=({state:t,dispatch:e})=>(e(Te(t,{anchor:0})),!0),hn=({state:t,dispatch:e})=>(e(Te(t,{anchor:t.doc.length})),!0),un=({state:t,dispatch:e})=>(e(Te(t,{anchor:t.selection.main.anchor,head:0})),!0),fn=({state:t,dispatch:e})=>(e(Te(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0);function dn({state:t,dispatch:e},n){if(t.readOnly)return!1;let r="delete.selection",i=t.changeByRange((t=>{let{from:e,to:i}=t;if(e==i){let t=n(e);t<e?r="delete.backward":t>e&&(r="delete.forward"),e=Math.min(e,t),i=Math.max(i,t)}return e==i?{range:t}:{changes:{from:e,to:i},range:s.jT.cursor(e)}}));return!i.changes.empty&&(e(t.update(i,{scrollIntoView:!0,userEvent:r})),!0)}function pn(t,e,n){if(t instanceof o.tk)for(let r of t.pluginField(o.BF.atomicRanges))r.between(e,e,((t,r)=>{t<e&&r>e&&(e=n?r:t)}));return e}const mn=(t,e)=>dn(t,(n=>{let r,i,{state:o}=t,s=o.doc.lineAt(n);if(!e&&n>s.from&&n<s.from+200&&!/[^ \t]/.test(r=s.text.slice(0,n-s.from))){if("\t"==r[r.length-1])return n-1;let t=(0,tt.IS)(r,o.tabSize)%mt(o)||mt(o);for(let e=0;e<t&&" "==r[r.length-1-e];e++)n--;i=n}else i=(0,tt.cp)(s.text,n-s.from,e,e)+s.from,i==n&&s.number!=(e?o.doc.lines:1)&&(i+=e?1:-1);return pn(t,i,e)})),gn=t=>mn(t,!1),vn=t=>mn(t,!0),yn=(t,e)=>dn(t,(n=>{let r=n,{state:i}=t,o=i.doc.lineAt(r),s=i.charCategorizer(r);for(let t=null;;){if(r==(e?o.to:o.from)){r==n&&o.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let a=(0,tt.cp)(o.text,r-o.from,e)+o.from,l=o.text.slice(Math.min(r,a)-o.from,Math.max(r,a)-o.from),c=s(l);if(null!=t&&c!=t)break;" "==l&&r==n||(t=c),r=a}return pn(t,r,e)})),bn=t=>yn(t,!1),wn=t=>dn(t,(e=>{let n=t.lineBlockAt(e).to;return pn(t,e<n?n:Math.min(t.state.doc.length,e+1),!0)}));function xn(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),o=t.doc.lineAt(r.to);if(r.empty||r.to!=o.from||(o=t.doc.lineAt(r.to-1)),n>=i.number){let t=e[e.length-1];t.to=o.to,t.ranges.push(r)}else e.push({from:i.from,to:o.to,ranges:[r]});n=o.number+1}return e}function kn(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let o of xn(t)){if(n?o.to==t.doc.length:0==o.from)continue;let e=t.doc.lineAt(n?o.to+1:o.from-1),a=e.length+1;if(n){r.push({from:o.to,to:e.to},{from:o.from,insert:e.text+t.lineBreak});for(let e of o.ranges)i.push(s.jT.range(Math.min(t.doc.length,e.anchor+a),Math.min(t.doc.length,e.head+a)))}else{r.push({from:e.from,to:o.from},{from:o.to,insert:t.lineBreak+e.text});for(let t of o.ranges)i.push(s.jT.range(t.anchor-a,t.head-a))}}return!!r.length&&(e(t.update({changes:r,scrollIntoView:!0,selection:s.jT.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0)}function Sn(t,e,n){if(t.readOnly)return!1;let r=[];for(let i of xn(t))n?r.push({from:i.from,insert:t.doc.slice(i.from,i.to)+t.lineBreak}):r.push({from:i.to,insert:t.lineBreak+t.doc.slice(i.from,i.to)});return e(t.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const On=Cn(!1);function Cn(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange((n=>{let{from:r,to:i}=n,o=e.doc.lineAt(r),a=!t&&r==i&&function(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n,r=it(t).resolveInner(e),i=r.childBefore(e),o=r.childAfter(e);return i&&o&&i.to<=e&&o.from>=e&&(n=i.type.prop(P.closedBy))&&n.indexOf(o.name)>-1&&t.doc.lineAt(i.to).from==t.doc.lineAt(o.from).from?{from:i.to,to:o.from}:null}(e,r);t&&(r=i=(i<=o.to?o:e.doc.lineAt(i)).to);let l=new yt(e,{simulateBreak:r,simulateDoubleBreak:!!a}),c=vt(l,r);for(null==c&&(c=/^\s*/.exec(e.doc.lineAt(r).text)[0].length);i<o.to&&/\s/.test(o.text[i-o.from]);)i++;a?({from:r,to:i}=a):r>o.from&&r<o.from+100&&!/\S/.test(o.text.slice(0,r))&&(r=o.from);let h=["",gt(e,c)];return a&&h.push(gt(e,l.lineIndent(o.from,-1))),{changes:{from:r,to:i,insert:tt.xv.of(h)},range:s.jT.cursor(r+1+h[1].length)}}));return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function jn(t,e){let n=-1;return t.changeByRange((r=>{let i=[];for(let s=r.from;s<=r.to;){let o=t.doc.lineAt(s);o.number>n&&(r.empty||r.to>o.from)&&(e(o,i,r),n=o.number),s=o.to+1}let o=t.changes(i);return{changes:i,range:s.jT.range(o.mapPos(r.anchor,1),o.mapPos(r.head,1))}}))}const An=({state:t,dispatch:e})=>!t.readOnly&&(e(t.update(jn(t,((e,n)=>{n.push({from:e.from,insert:t.facet(pt)})})),{userEvent:"input.indent"})),!0),En=({state:t,dispatch:e})=>!t.readOnly&&(e(t.update(jn(t,((e,n)=>{let r=/^\s*/.exec(e.text)[0];if(!r)return;let i=(0,tt.IS)(r,t.tabSize),o=0,s=gt(t,Math.max(0,i-mt(t)));for(;o<r.length&&o<s.length&&r.charCodeAt(o)==s.charCodeAt(o);)o++;n.push({from:e.from+o,to:e.from+r.length,insert:s.slice(o)})})),{userEvent:"delete.dedent"})),!0),Mn=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:t=>_e(t,(e=>Le(t.state,e,t.textDirection!=o.Nm.LTR))),shift:t=>Ye(t,(e=>Le(t.state,e,t.textDirection!=o.Nm.LTR)))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:t=>_e(t,(e=>Le(t.state,e,t.textDirection==o.Nm.LTR))),shift:t=>Ye(t,(e=>Le(t.state,e,t.textDirection==o.Nm.LTR)))},{key:"Alt-ArrowUp",run:({state:t,dispatch:e})=>kn(t,e,!1)},{key:"Shift-Alt-ArrowUp",run:({state:t,dispatch:e})=>Sn(t,e,!1)},{key:"Alt-ArrowDown",run:({state:t,dispatch:e})=>kn(t,e,!0)},{key:"Shift-Alt-ArrowDown",run:({state:t,dispatch:e})=>Sn(t,e,!0)},{key:"Escape",run:({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=s.jT.create([n.main]):n.main.empty||(r=s.jT.create([s.jT.cursor(n.main.head)])),!!r&&(e(Te(t,r)),!0)}},{key:"Mod-Enter",run:Cn(!0)},{key:"Alt-l",mac:"Ctrl-l",run:({state:t,dispatch:e})=>{let n=xn(t).map((({from:e,to:n})=>s.jT.range(e,Math.min(n+1,t.doc.length))));return e(t.update({selection:s.jT.create(n),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:t,dispatch:e})=>{let n=Me(t.selection,(e=>{var n;let r=it(t).resolveInner(e.head,1);for(;!(r.from<e.from&&r.to>=e.to||r.to>e.to&&r.from<=e.from)&&(null===(n=r.parent)||void 0===n?void 0:n.parent);)r=r.parent;return s.jT.range(r.to,r.from)}));return e(Te(t,n)),!0},preventDefault:!0},{key:"Mod-[",run:En},{key:"Mod-]",run:An},{key:"Mod-Alt-\\",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new yt(t,{overrideIndentation:t=>{let e=n[t];return null==e?-1:e}}),i=jn(t,((e,i,o)=>{let s=vt(r,e.from);if(null==s)return;/\S/.test(e.text)||(s=0);let a=/^\s*/.exec(e.text)[0],l=gt(t,s);(a!=l||o.from<e.from+a.length)&&(n[e.from]=s,i.push({from:e.from,to:e.from+a.length,insert:l}))}));return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(xn(e).map((({from:t,to:n})=>(t>0?t--:n<e.doc.length&&n++,{from:t,to:n})))),r=Me(e.selection,(e=>t.moveVertically(e,!0))).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:t,dispatch:e})=>Je(t,e,!1)}].concat([{key:"ArrowLeft",run:Ne,shift:Qe,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:t=>Be(t,t.textDirection!=o.Nm.LTR),shift:t=>Ze(t,t.textDirection!=o.Nm.LTR)},{mac:"Cmd-ArrowLeft",run:Xe,shift:ln},{key:"ArrowRight",run:Ie,shift:Ke,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:t=>Be(t,t.textDirection==o.Nm.LTR),shift:t=>Ze(t,t.textDirection==o.Nm.LTR)},{mac:"Cmd-ArrowRight",run:$e,shift:an},{key:"ArrowUp",run:Fe,shift:en,preventDefault:!0},{mac:"Cmd-ArrowUp",run:cn,shift:un},{mac:"Ctrl-ArrowUp",run:We,shift:on},{key:"ArrowDown",run:ze,shift:nn,preventDefault:!0},{mac:"Cmd-ArrowDown",run:hn,shift:fn},{mac:"Ctrl-ArrowDown",run:Ve,shift:sn},{key:"PageUp",run:We,shift:on},{key:"PageDown",run:Ve,shift:sn},{key:"Home",run:Xe,shift:ln},{key:"Mod-Home",run:cn,shift:un},{key:"End",run:$e,shift:an},{key:"Mod-End",run:hn,shift:fn},{key:"Enter",run:On},{key:"Mod-a",run:({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:gn,shift:gn},{key:"Delete",run:vn},{key:"Mod-Backspace",mac:"Alt-Backspace",run:bn},{key:"Mod-Delete",mac:"Alt-Delete",run:t=>yn(t,!0)},{mac:"Mod-Backspace",run:t=>dn(t,(e=>{let n=t.lineBlockAt(e).from;return pn(t,e>n?n:Math.max(0,e-1),!1)}))},{mac:"Mod-Delete",run:wn}].concat([{key:"Ctrl-b",run:Ne,shift:Qe,preventDefault:!0},{key:"Ctrl-f",run:Ie,shift:Ke},{key:"Ctrl-p",run:Fe,shift:en},{key:"Ctrl-n",run:ze,shift:nn},{key:"Ctrl-a",run:t=>_e(t,(e=>s.jT.cursor(t.lineBlockAt(e.head).from,1))),shift:t=>Ye(t,(e=>s.jT.cursor(t.lineBlockAt(e.head).from)))},{key:"Ctrl-e",run:t=>_e(t,(e=>s.jT.cursor(t.lineBlockAt(e.head).to,-1))),shift:t=>Ye(t,(e=>s.jT.cursor(t.lineBlockAt(e.head).to)))},{key:"Ctrl-d",run:vn},{key:"Ctrl-h",run:gn},{key:"Ctrl-k",run:wn},{key:"Ctrl-Alt-h",run:bn},{key:"Ctrl-o",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange((t=>({changes:{from:t.from,to:t.to,insert:tt.xv.of(["",""])},range:s.jT.cursor(t.from)})));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange((e=>{if(!e.empty||0==e.from||e.from==t.doc.length)return{range:e};let n=e.from,r=t.doc.lineAt(n),i=n==r.from?n-1:(0,tt.cp)(r.text,n-r.from,!1)+r.from,o=n==r.to?n+1:(0,tt.cp)(r.text,n-r.from,!0)+r.from;return{changes:{from:i,to:o,insert:t.doc.slice(n,o).append(t.doc.slice(i,n))},range:s.jT.cursor(o)}}));return!n.changes.empty&&(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:Ve}].map((t=>({mac:t.key,run:t.run,shift:t.shift}))))),Tn={key:"Tab",run:An,shift:En},_n={brackets:["(","[","{","'",'"'],before:")]}'\":;>"},Pn=s.Py.define({map(t,e){let n=e.mapPos(t,-1,s.gc.TrackAfter);return null==n?void 0:n}}),Dn=s.Py.define({map:(t,e)=>e.mapPos(t)}),Nn=new class extends Tt.uU{};Nn.startSide=1,Nn.endSide=-1;const In=s.QQ.define({create:()=>Tt.Xs.empty,update(t,e){if(e.selection){let n=e.state.doc.lineAt(e.selection.main.head).from,r=e.startState.doc.lineAt(e.startState.selection.main.head).from;n!=e.changes.mapPos(r,-1)&&(t=Tt.Xs.empty)}t=t.map(e.changes);for(let n of e.effects)n.is(Pn)?t=t.update({add:[Nn.range(n.value,n.value+1)]}):n.is(Dn)&&(t=t.update({filter:t=>t!=n.value}));return t}});function Bn(){return[zn,In]}const Rn="()[]{}<>";function Ln(t){for(let e=0;e<Rn.length;e+=2)if(Rn.charCodeAt(e)==t)return Rn.charAt(e+1);return(0,tt.bg)(t<128?t:t+1)}function qn(t,e){return t.languageDataAt("closeBrackets",e)[0]||_n}const Fn="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),zn=o.tk.inputHandler.of(((t,e,n,r)=>{if((Fn?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(r.length>2||2==r.length&&1==(0,tt.nZ)((0,tt.gm)(r,0))||e!=i.from||n!=i.to)return!1;let o=function(t,e){let n=qn(t,t.selection.main.head),r=n.brackets||_n.brackets;for(let i of r){let o=Ln((0,tt.gm)(i,0));if(e==i)return o==i?Xn(t,i,r.indexOf(i+i+i)>-1):Un(t,i,o,n.before||_n.before);if(e==o&&Wn(t,t.selection.main.from))return $n(t,i,o)}return null}(t.state,r);return!!o&&(t.dispatch(o),!0)})),Hn=[{key:"Backspace",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=qn(t,t.selection.main.head).brackets||_n.brackets,r=null,i=t.changeByRange((e=>{if(e.empty){let r=function(t,e){let n=t.sliceString(e-2,e);return(0,tt.nZ)((0,tt.gm)(n,0))==n.length?n:n.slice(1)}(t.doc,e.head);for(let i of n)if(i==r&&Vn(t.doc,e.head)==Ln((0,tt.gm)(i,0)))return{changes:{from:e.head-i.length,to:e.head+i.length},range:s.jT.cursor(e.head-i.length),userEvent:"delete.backward"}}return{range:r=e}}));return r||e(t.update(i,{scrollIntoView:!0})),!r}}];function Wn(t,e){let n=!1;return t.field(In).between(0,t.doc.length,(t=>{t==e&&(n=!0)})),n}function Vn(t,e){let n=t.sliceString(e,e+2);return n.slice(0,(0,tt.nZ)((0,tt.gm)(n,0)))}function Un(t,e,n,r){let i=null,o=t.changeByRange((o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:n,from:o.to}],effects:Pn.of(o.to+e.length),range:s.jT.range(o.anchor+e.length,o.head+e.length)};let a=Vn(t.doc,o.head);return!a||/\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:e+n,from:o.head},effects:Pn.of(o.head+e.length),range:s.jT.cursor(o.head+e.length)}:{range:i=o}}));return i?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function $n(t,e,n){let r=null,i=t.selection.ranges.map((e=>e.empty&&Vn(t.doc,e.head)==n?s.jT.cursor(e.head+n.length):r=e));return r?null:t.update({selection:s.jT.create(i,t.selection.mainIndex),scrollIntoView:!0,effects:t.selection.ranges.map((({from:t})=>Dn.of(t)))})}function Xn(t,e,n){let r=null,i=t.changeByRange((i=>{if(!i.empty)return{changes:[{insert:e,from:i.from},{insert:e,from:i.to}],effects:Pn.of(i.to+e.length),range:s.jT.range(i.anchor+e.length,i.head+e.length)};let o=i.head,a=Vn(t.doc,o);if(a==e){if(Jn(t,o))return{changes:{insert:e+e,from:o},effects:Pn.of(o+e.length),range:s.jT.cursor(o+e.length)};if(Wn(t,o)){let r=n&&t.sliceDoc(o,o+3*e.length)==e+e+e;return{range:s.jT.cursor(o+e.length*(r?3:1)),effects:Dn.of(o)}}}else{if(n&&t.sliceDoc(o-2*e.length,o)==e+e&&Jn(t,o-2*e.length))return{changes:{insert:e+e+e+e,from:o},effects:Pn.of(o+e.length),range:s.jT.cursor(o+e.length)};if(t.charCategorizer(o)(a)!=s.D0.Word){let n=t.sliceDoc(o-1,o);if(n!=e&&t.charCategorizer(o)(n)!=s.D0.Word&&!function(t,e,n){let r=it(t).resolveInner(e,-1);for(let i=0;i<5;i++){if(t.sliceDoc(r.from,r.from+n.length)==n)return!0;let i=r.to==e&&r.parent;if(!i)break;r=i}return!1}(t,o,e))return{changes:{insert:e+e,from:o},effects:Pn.of(o+e.length),range:s.jT.cursor(o+e.length)}}}return{range:r=i}}));return r?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function Jn(t,e){let n=it(t).resolveInner(e+1);return n.parent&&n.from==e}const Yn=s.r$.define({combine(t){let e,n;for(let r of t)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}});function Gn(t,e){let n=t.plugin(Qn),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}const Qn=o.lg.fromClass(class{constructor(t){this.input=t.state.facet(er),this.specs=this.input.filter((t=>t)),this.panels=this.specs.map((e=>e(t)));let e=t.state.facet(Yn);this.top=new Kn(t,!0,e.topContainer),this.bottom=new Kn(t,!1,e.bottomContainer),this.top.sync(this.panels.filter((t=>t.top))),this.bottom.sync(this.panels.filter((t=>!t.top)));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(Yn);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Kn(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Kn(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(er);if(n!=this.input){let e=n.filter((t=>t)),r=[],i=[],o=[],s=[];for(let n of e){let e,a=this.specs.indexOf(n);a<0?(e=n(t.view),s.push(e)):(e=this.panels[a],e.update&&e.update(t)),r.push(e),(e.top?i:o).push(e)}this.specs=e,this.panels=r,this.top.sync(i),this.bottom.sync(o);for(let t of s)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}else for(let r of this.panels)r.update&&r.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:o.BF.scrollMargins.from((t=>({top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()})))});class Kn{constructor(t,e,n){this.view=t,this.top=e,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(t){for(let e of this.panels)e.destroy&&t.indexOf(e)<0&&e.destroy();this.panels=t,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let t=this.dom.firstChild;for(let e of this.panels)if(e.dom.parentNode==this.dom){for(;t!=e.dom;)t=Zn(t);t=t.nextSibling}else this.dom.insertBefore(e.dom,t);for(;t;)t=Zn(t)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let t of this.classes.split(" "))t&&this.container.classList.remove(t);for(let t of(this.classes=this.view.themeClasses).split(" "))t&&this.container.classList.add(t)}}}function Zn(t){let e=t.nextSibling;return t.remove(),e}const tr=o.tk.baseTheme({".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"}}),er=s.r$.define({enables:[Qn,tr]});function nr(){var t=arguments[0];"string"==typeof t&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&"object"==typeof n&&null==n.nodeType&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];"string"==typeof i?t.setAttribute(r,i):null!=i&&(t[r]=i)}e++}for(;e<arguments.length;e++)rr(t,arguments[e]);return t}function rr(t,e){if("string"==typeof e)t.appendChild(document.createTextNode(e));else if(null==e);else if(null!=e.nodeType)t.appendChild(e);else{if(!Array.isArray(e))throw new RangeError("Unsupported child node: "+e);for(var n=0;n<e.length;n++)rr(t,e[n])}}const ir="function"==typeof String.prototype.normalize?t=>t.normalize("NFKD"):t=>t;class or{constructor(t,e,n=0,r=t.length,i){this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=t.iterRange(n,r),this.bufferStart=n,this.normalize=i?t=>i(ir(t)):ir,this.query=this.normalize(e)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return(0,tt.gm)(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let t=this.peek();if(t<0)return this.done=!0,this;let e=(0,tt.bg)(t),n=this.bufferStart+this.bufferPos;this.bufferPos+=(0,tt.nZ)(t);let r=this.normalize(e);for(let i=0,o=n;;i++){let t=r.charCodeAt(i),s=this.match(t,o);if(s)return this.value=s,this;if(i==r.length-1)break;o==n&&i<e.length&&e.charCodeAt(i)==t&&o++}}}match(t,e){let n=null;for(let r=0;r<this.matches.length;r+=2){let i=this.matches[r],o=!1;this.query.charCodeAt(i)==t&&(i==this.query.length-1?n={from:this.matches[r+1],to:e+1}:(this.matches[r]++,o=!0)),o||(this.matches.splice(r,2),r-=2)}return this.query.charCodeAt(0)==t&&(1==this.query.length?n={from:e,to:e+1}:this.matches.push(1,e)),n}}"undefined"!=typeof Symbol&&(or.prototype[Symbol.iterator]=function(){return this});const sr={from:-1,to:-1,match:/.*/.exec("")},ar="gm"+(null==/x/.unicode?"":"u");class lr{constructor(t,e,n,r=0,i=t.length){if(this.to=i,this.curLine="",this.done=!1,this.value=sr,/\\[sWDnr]|\n|\r|\[\^/.test(e))return new ur(t,e,n,r,i);this.re=new RegExp(e,ar+((null===n||void 0===n?void 0:n.ignoreCase)?"i":"")),this.iter=t.iter();let o=t.lineAt(r);this.curLineStart=o.from,this.matchPos=r,this.getLine(this.curLineStart)}getLine(t){this.iter.next(t),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let t=this.matchPos-this.curLineStart;;){this.re.lastIndex=t;let e=this.matchPos<=this.to&&this.re.exec(this.curLine);if(e){let n=this.curLineStart+e.index,r=n+e[0].length;if(this.matchPos=r+(n==r?1:0),n==this.curLine.length&&this.nextLine(),n<r||n>this.value.to)return this.value={from:n,to:r,match:e},this;t=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),t=0}}}}const cr=new WeakMap;class hr{constructor(t,e){this.from=t,this.text=e}get to(){return this.from+this.text.length}static get(t,e,n){let r=cr.get(t);if(!r||r.from>=n||r.to<=e){let r=new hr(e,t.sliceString(e,n));return cr.set(t,r),r}if(r.from==e&&r.to==n)return r;let{text:i,from:o}=r;return o>e&&(i=t.sliceString(e,o)+i,o=e),r.to<n&&(i+=t.sliceString(r.to,n)),cr.set(t,new hr(o,i)),new hr(e,i.slice(e-o,n-o))}}class ur{constructor(t,e,n,r,i){this.text=t,this.to=i,this.done=!1,this.value=sr,this.matchPos=r,this.re=new RegExp(e,ar+((null===n||void 0===n?void 0:n.ignoreCase)?"i":"")),this.flat=hr.get(t,r,this.chunkEnd(r+5e3))}chunkEnd(t){return t>=this.to?this.to:this.text.lineAt(t).to}next(){for(;;){let t=this.re.lastIndex=this.matchPos-this.flat.from,e=this.re.exec(this.flat.text);if(e&&!e[0]&&e.index==t&&(this.re.lastIndex=t+1,e=this.re.exec(this.flat.text)),e&&this.flat.to<this.to&&e.index+e[0].length>this.flat.text.length-10&&(e=null),e){let t=this.flat.from+e.index,n=t+e[0].length;return this.value={from:t,to:n,match:e},this.matchPos=n+(t==n?1:0),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=hr.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function fr(t){let e=nr("input",{class:"cm-textfield",name:"line"});function n(){let n=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!n)return;let{state:r}=t,i=r.doc.lineAt(r.selection.main.head),[,o,a,l,c]=n,h=l?+l.slice(1):0,u=a?+a:i.number;if(a&&c){let t=u/100;o&&(t=t*("-"==o?-1:1)+i.number/r.doc.lines),u=Math.round(r.doc.lines*t)}else a&&o&&(u=u*("-"==o?-1:1)+i.number);let f=r.doc.line(Math.max(1,Math.min(r.doc.lines,u)));t.dispatch({effects:dr.of(!1),selection:s.jT.cursor(f.from+Math.max(0,Math.min(h,f.length))),scrollIntoView:!0}),t.focus()}return{dom:nr("form",{class:"cm-gotoLine",onkeydown:e=>{27==e.keyCode?(e.preventDefault(),t.dispatch({effects:dr.of(!1)}),t.focus()):13==e.keyCode&&(e.preventDefault(),n())},onsubmit:t=>{t.preventDefault(),n()}},nr("label",t.state.phrase("Go to line"),": ",e)," ",nr("button",{class:"cm-button",type:"submit"},t.state.phrase("go"))),pos:-10}}"undefined"!=typeof Symbol&&(lr.prototype[Symbol.iterator]=ur.prototype[Symbol.iterator]=function(){return this});const dr=s.Py.define(),pr=s.QQ.define({create:()=>!0,update(t,e){for(let n of e.effects)n.is(dr)&&(t=n.value);return t},provide:t=>er.from(t,(t=>t?fr:null))}),mr=o.tk.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),gr={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100},vr=s.r$.define({combine:t=>(0,s.BO)(t,gr,{highlightWordAroundCursor:(t,e)=>t||e,minSelectionLength:Math.min,maxMatches:Math.min})});function yr(t){let e=[kr,xr];return t&&e.push(vr.of(t)),e}const br=o.p.mark({class:"cm-selectionMatch"}),wr=o.p.mark({class:"cm-selectionMatch cm-selectionMatch-main"}),xr=o.lg.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(vr),{state:n}=t,r=n.selection;if(r.ranges.length>1)return o.p.none;let i,a=r.main,l=null;if(a.empty){if(!e.highlightWordAroundCursor)return o.p.none;let t=n.wordAt(a.head);if(!t)return o.p.none;l=n.charCategorizer(a.head),i=n.sliceDoc(t.from,t.to)}else{let t=a.to-a.from;if(t<e.minSelectionLength||t>200)return o.p.none;if(i=n.sliceDoc(a.from,a.to).trim(),!i)return o.p.none}let c=[];for(let h of t.visibleRanges){let t=new or(n.doc,i,h.from,h.to);for(;!t.next().done;){let{from:r,to:i}=t.value;if((!l||(0==r||l(n.sliceDoc(r-1,r))!=s.D0.Word)&&(i==n.doc.length||l(n.sliceDoc(i,i+1))!=s.D0.Word))&&(l&&r<=a.from&&i>=a.to?c.push(wr.range(r,i)):(r>=a.to||i<=a.from)&&c.push(br.range(r,i)),c.length>e.maxMatches))return o.p.none}}return o.p.set(c)}},{decorations:t=>t.decorations}),kr=o.tk.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}});const Sr=s.r$.define({combine(t){var e;return{top:t.reduce(((t,e)=>null!==t&&void 0!==t?t:e.top),void 0)||!1,caseSensitive:t.reduce(((t,e)=>null!==t&&void 0!==t?t:e.caseSensitive||e.matchCase),void 0)||!1,createPanel:(null===(e=t.find((t=>t.createPanel)))||void 0===e?void 0:e.createPanel)||(t=>new $r(t))}}});class Or{constructor(t){this.search=t.search,this.caseSensitive=!!t.caseSensitive,this.regexp=!!t.regexp,this.replace=t.replace||"",this.valid=!!this.search&&(!this.regexp||function(t){try{return new RegExp(t,ar),!0}catch(e){return!1}}(this.search))}eq(t){return this.search==t.search&&this.replace==t.replace&&this.caseSensitive==t.caseSensitive&&this.regexp==t.regexp}create(){return this.regexp?new Ar(this):new jr(this)}}class Cr{constructor(t){this.spec=t}}class jr extends Cr{constructor(t){super(t),this.unquoted=t.search.replace(/\\([nrt\\])/g,((t,e)=>"n"==e?"\n":"r"==e?"\r":"t"==e?"\t":"\\"))}cursor(t,e=0,n=t.length){return new or(t,this.unquoted,e,n,this.spec.caseSensitive?void 0:t=>t.toLowerCase())}nextMatch(t,e,n){let r=this.cursor(t,n).nextOverlapping();return r.done&&(r=this.cursor(t,0,e).nextOverlapping()),r.done?null:r.value}prevMatchInRange(t,e,n){for(let r=n;;){let n=Math.max(e,r-1e4-this.unquoted.length),i=this.cursor(t,n,r),o=null;for(;!i.nextOverlapping().done;)o=i.value;if(o)return o;if(n==e)return null;r-=1e4}}prevMatch(t,e,n){return this.prevMatchInRange(t,0,e)||this.prevMatchInRange(t,n,t.length)}getReplacement(t){return this.spec.replace}matchAll(t,e){let n=this.cursor(t),r=[];for(;!n.next().done;){if(r.length>=e)return null;r.push(n.value)}return r}highlight(t,e,n,r){let i=this.cursor(t,Math.max(0,e-this.unquoted.length),Math.min(n+this.unquoted.length,t.length));for(;!i.next().done;)r(i.value.from,i.value.to)}}class Ar extends Cr{cursor(t,e=0,n=t.length){return new lr(t,this.spec.search,this.spec.caseSensitive?void 0:{ignoreCase:!0},e,n)}nextMatch(t,e,n){let r=this.cursor(t,n).next();return r.done&&(r=this.cursor(t,0,e).next()),r.done?null:r.value}prevMatchInRange(t,e,n){for(let r=1;;r++){let i=Math.max(e,n-1e4*r),o=this.cursor(t,i,n),s=null;for(;!o.next().done;)s=o.value;if(s&&(i==e||s.from>i+10))return s;if(i==e)return null}}prevMatch(t,e,n){return this.prevMatchInRange(t,0,e)||this.prevMatchInRange(t,n,t.length)}getReplacement(t){return this.spec.replace.replace(/\$([$&\d+])/g,((e,n)=>"$"==n?"$":"&"==n?t.match[0]:"0"!=n&&+n<t.match.length?t.match[n]:e))}matchAll(t,e){let n=this.cursor(t),r=[];for(;!n.next().done;){if(r.length>=e)return null;r.push(n.value)}return r}highlight(t,e,n,r){let i=this.cursor(t,Math.max(0,e-250),Math.min(n+250,t.length));for(;!i.next().done;)r(i.value.from,i.value.to)}}const Er=s.Py.define(),Mr=s.Py.define(),Tr=s.QQ.define({create:t=>new _r(Hr(t).create(),null),update(t,e){for(let n of e.effects)n.is(Er)?t=new _r(n.value.create(),t.panel):n.is(Mr)&&(t=new _r(t.query,n.value?zr:null));return t},provide:t=>er.from(t,(t=>t.panel))});class _r{constructor(t,e){this.query=t,this.panel=e}}const Pr=o.p.mark({class:"cm-searchMatch"}),Dr=o.p.mark({class:"cm-searchMatch cm-searchMatch-selected"}),Nr=o.lg.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(Tr))}update(t){let e=t.state.field(Tr);(e!=t.startState.field(Tr)||t.docChanged||t.selectionSet)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return o.p.none;let{view:n}=this,r=new Tt.f_;for(let i=0,o=n.visibleRanges,s=o.length;i<s;i++){let{from:e,to:a}=o[i];for(;i<s-1&&a>o[i+1].from-500;)a=o[++i].to;t.highlight(n.state.doc,e,a,((t,e)=>{let i=n.state.selection.ranges.some((n=>n.from==t&&n.to==e));r.add(t,e,i?Dr:Pr)}))}return r.finish()}},{decorations:t=>t.decorations});function Ir(t){return e=>{let n=e.state.field(Tr,!1);return n&&n.query.spec.valid?t(e,n):Wr(e)}}const Br=Ir(((t,{query:e})=>{let{from:n,to:r}=t.state.selection.main,i=e.nextMatch(t.state.doc,n,r);return!(!i||i.from==n&&i.to==r)&&(t.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:Yr(t,i),userEvent:"select.search"}),!0)})),Rr=Ir(((t,{query:e})=>{let{state:n}=t,{from:r,to:i}=n.selection.main,o=e.prevMatch(n.doc,r,i);return!!o&&(t.dispatch({selection:{anchor:o.from,head:o.to},scrollIntoView:!0,effects:Yr(t,o),userEvent:"select.search"}),!0)})),Lr=Ir(((t,{query:e})=>{let n=e.matchAll(t.state.doc,1e3);return!(!n||!n.length)&&(t.dispatch({selection:s.jT.create(n.map((t=>s.jT.range(t.from,t.to)))),userEvent:"select.search.matches"}),!0)})),qr=Ir(((t,{query:e})=>{let{state:n}=t,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let o=e.nextMatch(n.doc,r,r);if(!o)return!1;let s,a,l=[];if(o.from==r&&o.to==i&&(a=n.toText(e.getReplacement(o)),l.push({from:o.from,to:o.to,insert:a}),o=e.nextMatch(n.doc,o.from,o.to)),o){let t=0==l.length||l[0].from>=o.to?0:o.to-o.from-a.length;s={anchor:o.from-t,head:o.to-t}}return t.dispatch({changes:l,selection:s,scrollIntoView:!!s,effects:o?Yr(t,o):void 0,userEvent:"input.replace"}),!0})),Fr=Ir(((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state.doc,1e9).map((t=>{let{from:n,to:r}=t;return{from:n,to:r,insert:e.getReplacement(t)}}));return!!n.length&&(t.dispatch({changes:n,userEvent:"input.replace.all"}),!0)}));function zr(t){return t.state.facet(Sr).createPanel(t)}function Hr(t,e){var n;let r=t.selection.main,i=r.empty||r.to>r.from+100?"":t.sliceDoc(r.from,r.to),o=null!==(n=null===e||void 0===e?void 0:e.caseSensitive)&&void 0!==n?n:t.facet(Sr).caseSensitive;return e&&!i?e:new Or({search:i.replace(/\n/g,"\\n"),caseSensitive:o})}const Wr=t=>{let e=t.state.field(Tr,!1);if(e&&e.panel){let n=Gn(t,zr);if(!n)return!1;let r=n.dom.querySelector("[name=search]");if(r!=t.root.activeElement){let n=Hr(t.state,e.query.spec);n.valid&&t.dispatch({effects:Er.of(n)}),r.focus(),r.select()}}else t.dispatch({effects:[Mr.of(!0),e?Er.of(Hr(t.state,e.query.spec)):s.Py.appendConfig.of(Qr)]});return!0},Vr=t=>{let e=t.state.field(Tr,!1);if(!e||!e.panel)return!1;let n=Gn(t,zr);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:Mr.of(!1)}),!0},Ur=[{key:"Mod-f",run:Wr,scope:"editor search-panel"},{key:"F3",run:Br,shift:Rr,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Br,shift:Rr,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:Vr,scope:"editor search-panel"},{key:"Mod-Shift-l",run:({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,o=[],a=0;for(let l=new or(t.doc,t.sliceDoc(r,i));!l.next().done;){if(o.length>1e3)return!1;l.value.from==r&&(a=o.length),o.push(s.jT.range(l.value.from,l.value.to))}return e(t.update({selection:s.jT.create(o,a),userEvent:"select.search.matches"})),!0}},{key:"Alt-g",run:t=>{let e=Gn(t,fr);if(!e){let n=[dr.of(!0)];null==t.state.field(pr,!1)&&n.push(s.Py.appendConfig.of([pr,mr])),t.dispatch({effects:n}),e=Gn(t,fr)}return e&&e.dom.querySelector("input").focus(),!0}},{key:"Mod-d",run:({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some((t=>t.from===t.to)))return(({state:t,dispatch:e})=>{let{selection:n}=t,r=s.jT.create(n.ranges.map((e=>t.wordAt(e.head)||s.jT.cursor(e.head))),n.mainIndex);return!r.eq(n)&&(e(t.update({selection:r})),!0)})({state:t,dispatch:e});let r=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some((e=>t.sliceDoc(e.from,e.to)!=r)))return!1;let i=function(t,e){let{main:n,ranges:r}=t.selection,i=t.wordAt(n.head),o=i&&i.from==n.from&&i.to==n.to;for(let s=!1,a=new or(t.doc,e,r[r.length-1].to);;){if(a.next(),!a.done){if(s&&r.some((t=>t.from==a.value.from)))continue;if(o){let e=t.wordAt(a.value.from);if(!e||e.from!=a.value.from||e.to!=a.value.to)continue}return a.value}if(s)return null;a=new or(t.doc,e,0,Math.max(0,r[r.length-1].from-1)),s=!0}}(t,r);return!!i&&(e(t.update({selection:t.selection.addRange(s.jT.range(i.from,i.to),!1),effects:o.tk.scrollIntoView(i.to)})),!0)},preventDefault:!0}];class $r{constructor(t){this.view=t;let e=this.query=t.state.field(Tr).query.spec;function n(t,e,n){return nr("button",{class:"cm-button",name:t,onclick:e,type:"button"},n)}this.commit=this.commit.bind(this),this.searchField=nr("input",{value:e.search,placeholder:Xr(t,"Find"),"aria-label":Xr(t,"Find"),class:"cm-textfield",name:"search",onchange:this.commit,onkeyup:this.commit}),this.replaceField=nr("input",{value:e.replace,placeholder:Xr(t,"Replace"),"aria-label":Xr(t,"Replace"),class:"cm-textfield",name:"replace",onchange:this.commit,onkeyup:this.commit}),this.caseField=nr("input",{type:"checkbox",name:"case",checked:e.caseSensitive,onchange:this.commit}),this.reField=nr("input",{type:"checkbox",name:"re",checked:e.regexp,onchange:this.commit}),this.dom=nr("div",{onkeydown:t=>this.keydown(t),class:"cm-search"},[this.searchField,n("next",(()=>Br(t)),[Xr(t,"next")]),n("prev",(()=>Rr(t)),[Xr(t,"previous")]),n("select",(()=>Lr(t)),[Xr(t,"all")]),nr("label",null,[this.caseField,Xr(t,"match case")]),nr("label",null,[this.reField,Xr(t,"regexp")]),...t.state.readOnly?[]:[nr("br"),this.replaceField,n("replace",(()=>qr(t)),[Xr(t,"replace")]),n("replaceAll",(()=>Fr(t)),[Xr(t,"replace all")]),nr("button",{name:"close",onclick:()=>Vr(t),"aria-label":Xr(t,"close"),type:"button"},["\xd7"])]])}commit(){let t=new Or({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,replace:this.replaceField.value});t.eq(this.query)||(this.query=t,this.view.dispatch({effects:Er.of(t)}))}keydown(t){(0,o.$1)(this.view,t,"search-panel")?t.preventDefault():13==t.keyCode&&t.target==this.searchField?(t.preventDefault(),(t.shiftKey?Rr:Br)(this.view)):13==t.keyCode&&t.target==this.replaceField&&(t.preventDefault(),qr(this.view))}update(t){for(let e of t.transactions)for(let t of e.effects)t.is(Er)&&!t.value.eq(this.query)&&this.setQuery(t.value)}setQuery(t){this.query=t,this.searchField.value=t.search,this.replaceField.value=t.replace,this.caseField.checked=t.caseSensitive,this.reField.checked=t.regexp}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Sr).top}}function Xr(t,e){return t.state.phrase(e)}const Jr=/[\s\.,:;?!]/;function Yr(t,{from:e,to:n}){let r=t.state.doc.lineAt(e).from,i=t.state.doc.lineAt(n).to,s=Math.max(r,e-30),a=Math.min(i,n+30),l=t.state.sliceDoc(s,a);if(s!=r)for(let o=0;o<30;o++)if(!Jr.test(l[o+1])&&Jr.test(l[o])){l=l.slice(o);break}if(a!=i)for(let o=l.length-1;o>l.length-30;o--)if(!Jr.test(l[o-1])&&Jr.test(l[o])){l=l.slice(0,o);break}return o.tk.announce.of(`${t.state.phrase("current match")}. ${l} ${t.state.phrase("on line")} ${t.state.doc.lineAt(e).number}`)}const Gr=o.tk.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Qr=[Tr,s.Wl.lowest(Nr),Gr],Kr="undefined"!=typeof navigator&&!/Edge\/(\d+)/.exec(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),Zr="-10000px";class ti{constructor(t,e,n){this.facet=e,this.createTooltipView=n,this.input=t.state.facet(e),this.tooltips=this.input.filter((t=>t)),this.tooltipViews=this.tooltips.map(n)}update(t){let e=t.state.facet(this.facet),n=e.filter((t=>t));if(e===this.input){for(let e of this.tooltipViews)e.update&&e.update(t);return!1}let r=[];for(let i=0;i<n.length;i++){let e=n[i],o=-1;if(e){for(let t=0;t<this.tooltips.length;t++){let n=this.tooltips[t];n&&n.create==e.create&&(o=t)}if(o<0)r[i]=this.createTooltipView(e);else{let e=r[i]=this.tooltipViews[o];e.update&&e.update(t)}}}for(let i of this.tooltipViews)r.indexOf(i)<0&&i.dom.remove();return this.input=e,this.tooltips=n,this.tooltipViews=r,!0}}function ei(){return{top:0,left:0,bottom:innerHeight,right:innerWidth}}const ni=s.r$.define({combine:t=>{var e,n,r;return{position:Kr?"absolute":(null===(e=t.find((t=>t.position)))||void 0===e?void 0:e.position)||"fixed",parent:(null===(n=t.find((t=>t.parent)))||void 0===n?void 0:n.parent)||null,tooltipSpace:(null===(r=t.find((t=>t.tooltipSpace)))||void 0===r?void 0:r.tooltipSpace)||ei}}}),ri=o.lg.fromClass(class{constructor(t){var e;this.view=t,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let n=t.state.facet(ni);this.position=n.position,this.parent=n.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new ti(t,si,(t=>this.createTooltip(t))),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver((t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()}),{threshold:[1]}):null,this.observeIntersection(),null===(e=t.dom.ownerDocument.defaultView)||void 0===e||e.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout((()=>{this.measureTimeout=-1,this.maybeMeasure()}),50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(ni);if(r.position!=this.position){this.position=r.position;for(let t of this.manager.tooltipViews)t.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let t of this.manager.tooltipViews)this.container.appendChild(t.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t){let e=t.create(this.view);if(e.dom.classList.add("cm-tooltip"),t.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let t=document.createElement("div");t.className="cm-tooltip-arrow",e.dom.appendChild(t)}return e.dom.style.position=this.position,e.dom.style.top=Zr,this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var t,e;null===(t=this.view.dom.ownerDocument.defaultView)||void 0===t||t.removeEventListener("resize",this.measureSoon);for(let{dom:n}of this.manager.tooltipViews)n.remove();null===(e=this.intersectionObserver)||void 0===e||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=this.view.dom.getBoundingClientRect();return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map((t=>this.view.coordsAtPos(t.pos))),size:this.manager.tooltipViews.map((({dom:t})=>t.getBoundingClientRect())),space:this.view.state.facet(ni).tooltipSpace(this.view)}}writeMeasure(t){let{editor:e,space:n}=t,r=[];for(let i=0;i<this.manager.tooltips.length;i++){let s=this.manager.tooltips[i],a=this.manager.tooltipViews[i],{dom:l}=a,c=t.pos[i],h=t.size[i];if(!c||c.bottom<=Math.max(e.top,n.top)||c.top>=Math.min(e.bottom,n.bottom)||c.right<Math.max(e.left,n.left)-.1||c.left>Math.min(e.right,n.right)+.1){l.style.top=Zr;continue}let u=s.arrow?a.dom.querySelector(".cm-tooltip-arrow"):null,f=u?7:0,d=h.right-h.left,p=h.bottom-h.top,m=a.offset||oi,g=this.view.textDirection==o.Nm.LTR,v=h.width>n.right-n.left?g?n.left:n.right-h.width:g?Math.min(c.left-(u?14:0)+m.x,n.right-d):Math.max(n.left,c.left-d+(u?14:0)-m.x),y=!!s.above;!s.strictSide&&(y?c.top-(h.bottom-h.top)-m.y<n.top:c.bottom+(h.bottom-h.top)+m.y>n.bottom)&&y==n.bottom-c.bottom>c.top-n.top&&(y=!y);let b=y?c.top-p-f-m.y:c.bottom+f+m.y,w=v+d;if(!0!==a.overlap)for(let t of r)t.left<w&&t.right>v&&t.top<b+p&&t.bottom>b&&(b=y?t.top-p-2-f:t.bottom+f+2);"absolute"==this.position?(l.style.top=b-t.parent.top+"px",l.style.left=v-t.parent.left+"px"):(l.style.top=b+"px",l.style.left=v+"px"),u&&(u.style.left=c.left+(g?m.x:-m.x)-(v+14-7)+"px"),!0!==a.overlap&&r.push({left:v,top:b,right:w,bottom:b+p}),l.classList.toggle("cm-tooltip-above",y),l.classList.toggle("cm-tooltip-below",!y),a.positioned&&a.positioned()}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=Zr}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),ii=o.tk.baseTheme({".cm-tooltip":{zIndex:100},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),oi={x:0,y:0},si=s.r$.define({enables:[ri,ii]}),ai=s.r$.define();class li{constructor(t){this.view=t,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new ti(t,ai,(t=>this.createHostedView(t)))}static create(t){return new li(t)}createHostedView(t){let e=t.create(this.view);return e.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(e.dom),this.mounted&&e.mount&&e.mount(this.view),e}mount(t){for(let e of this.manager.tooltipViews)e.mount&&e.mount(t);this.mounted=!0}positioned(){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned()}update(t){this.manager.update(t)}}const ci=si.compute([ai],(t=>{let e=t.facet(ai).filter((t=>t));return 0===e.length?null:{pos:Math.min(...e.map((t=>t.pos))),end:Math.max(...e.filter((t=>null!=t.end)).map((t=>t.end))),create:li.create,above:e[0].above,arrow:e.some((t=>t.arrow))}}));class hi{constructor(t,e,n,r,i){this.view=t,this.source=e,this.field=n,this.setHover=r,this.hoverTime=i,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:t.dom,time:0},this.checkHover=this.checkHover.bind(this),t.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),t.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout((()=>this.startHover()),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let t=Date.now()-this.lastMove.time;t<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-t):this.startHover()}startHover(){var t;clearTimeout(this.restartTimeout);let{lastMove:e}=this,n=this.view.contentDOM.contains(e.target)?this.view.posAtCoords(e):null;if(null==n)return;let r=this.view.coordsAtPos(n);if(null==r||e.y<r.top||e.y>r.bottom||e.x<r.left-this.view.defaultCharacterWidth||e.x>r.right+this.view.defaultCharacterWidth)return;let i=this.view.bidiSpans(this.view.state.doc.lineAt(n)).find((t=>t.from<=n&&t.to>=n)),s=i&&i.dir==o.Nm.RTL?-1:1,a=this.source(this.view,n,e.x<r.left?-s:s);if(null===(t=a)||void 0===t?void 0:t.then){let t=this.pending={pos:n};a.then((e=>{this.pending==t&&(this.pending=null,e&&this.view.dispatch({effects:this.setHover.of(e)}))}),(t=>(0,o.OO)(this.view.state,t,"hover tooltip")))}else a&&this.view.dispatch({effects:this.setHover.of(a)})}mousemove(t){var e;this.lastMove={x:t.clientX,y:t.clientY,target:t.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let n=this.active;if(n&&!function(t){for(let e=t;e;e=e.parentNode)if(1==e.nodeType&&e.classList.contains("cm-tooltip"))return!0;return!1}(this.lastMove.target)||this.pending){let{pos:r}=n||this.pending,i=null!==(e=null===n||void 0===n?void 0:n.end)&&void 0!==e?e:r;(r==i?this.view.posAtCoords(this.lastMove)==r:function(t,e,n,r,i,o){let s=document.createRange(),a=t.domAtPos(e),l=t.domAtPos(n);s.setEnd(l.node,l.offset),s.setStart(a.node,a.offset);let c=s.getClientRects();s.detach();for(let h=0;h<c.length;h++){let t=c[h];if(Math.max(t.top-i,i-t.bottom,t.left-r,r-t.right)<=o)return!0}return!1}(this.view,r,i,t.clientX,t.clientY,6))||(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function ui(t,e={}){let n=s.Py.define(),r=s.QQ.define({create:()=>null,update(t,r){if(t&&e.hideOnChange&&(r.docChanged||r.selection))return null;for(let e of r.effects){if(e.is(n))return e.value;if(e.is(fi))return null}if(t&&r.docChanged){let e=r.changes.mapPos(t.pos,-1,s.gc.TrackDel);if(null==e)return null;let n=Object.assign(Object.create(null),t);return n.pos=e,null!=t.end&&(n.end=r.changes.mapPos(t.end)),n}return t},provide:t=>ai.from(t)});return[r,o.lg.define((i=>new hi(i,t,r,n,e.hoverTime||300))),ci]}const fi=s.Py.define();class di{constructor(t,e,n){this.state=t,this.pos=e,this.explicit=n,this.abortListeners=[]}tokenBefore(t){let e=it(this.state).resolveInner(this.pos,-1);for(;e&&t.indexOf(e.name)<0;)e=e.parent;return e?{from:e.from,to:this.pos,text:this.state.sliceDoc(e.from,this.pos),type:e.type}:null}matchBefore(t){let e=this.state.doc.lineAt(this.pos),n=Math.max(e.from,this.pos-250),r=e.text.slice(n-e.from,this.pos-e.from),i=r.search(yi(t,!1));return i<0?null:{from:n+i,to:this.pos,text:r.slice(i)}}get aborted(){return null==this.abortListeners}addEventListener(t,e){"abort"==t&&this.abortListeners&&this.abortListeners.push(e)}}function pi(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function mi(t){let e=t.map((t=>"string"==typeof t?{label:t}:t)),[n,r]=e.every((t=>/^\w+$/.test(t.label)))?[/\w*$/,/\w+$/]:function(t){let e=Object.create(null),n=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let t=1;t<i.length;t++)n[i[t]]=!0}let r=pi(e)+pi(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}(e);return t=>{let i=t.matchBefore(r);return i||t.explicit?{from:i?i.from:t.pos,options:e,span:n}:null}}class gi{constructor(t,e,n){this.completion=t,this.source=e,this.match=n}}function vi(t){return t.selection.main.head}function yi(t,e){var n;let{source:r}=t,i=e&&"^"!=r[0],o="$"!=r[r.length-1];return i||o?new RegExp(`${i?"^":""}(?:${r})${o?"$":""}`,null!==(n=t.flags)&&void 0!==n?n:t.ignoreCase?"i":""):t}const bi=s.q6.define();function wi(t,e){let n=e.completion.apply||e.completion.label,r=e.source;"string"==typeof n?t.dispatch({changes:{from:r.from,to:r.to,insert:n},selection:{anchor:r.from+n.length},userEvent:"input.complete",annotations:bi.of(e.completion)}):n(t,e.completion,r.from,r.to)}const xi=new WeakMap;function ki(t){if(!Array.isArray(t))return t;let e=xi.get(t);return e||xi.set(t,e=mi(t)),e}class Si{constructor(t){this.pattern=t,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let e=0;e<t.length;){let n=(0,tt.gm)(t,e),r=(0,tt.nZ)(n);this.chars.push(n);let i=t.slice(e,e+r),o=i.toUpperCase();this.folded.push((0,tt.gm)(o==i?i.toLowerCase():o,0)),e+=r}this.astral=t.length!=this.chars.length}match(t){if(0==this.pattern.length)return[0];if(t.length<this.pattern.length)return null;let{chars:e,folded:n,any:r,precise:i,byWord:o}=this;if(1==e.length){let r=(0,tt.gm)(t,0);return r==e[0]?[0,0,(0,tt.nZ)(r)]:r==n[0]?[-200,0,(0,tt.nZ)(r)]:null}let s=t.indexOf(this.pattern);if(0==s)return[0,0,this.pattern.length];let a=e.length,l=0;if(s<0){for(let i=0,o=Math.min(t.length,200);i<o&&l<a;){let o=(0,tt.gm)(t,i);o!=e[l]&&o!=n[l]||(r[l++]=i),i+=(0,tt.nZ)(o)}if(l<a)return null}let c=0,h=0,u=!1,f=0,d=-1,p=-1,m=/[a-z]/.test(t),g=!0;for(let v=0,y=Math.min(t.length,200),b=0;v<y&&h<a;){let r=(0,tt.gm)(t,v);s<0&&(c<a&&r==e[c]&&(i[c++]=v),f<a&&(r==e[f]||r==n[f]?(0==f&&(d=v),p=v+1,f++):f=0));let l,y=r<255?r>=48&&r<=57||r>=97&&r<=122?2:r>=65&&r<=90?1:0:(l=(0,tt.bg)(r))!=l.toLowerCase()?1:l!=l.toUpperCase()?2:0;(!v||1==y&&m||0==b&&0!=y)&&(e[h]==r||n[h]==r&&(u=!0)?o[h++]=v:o.length&&(g=!1)),b=y,v+=(0,tt.nZ)(r)}return h==a&&0==o[0]&&g?this.result((u?-200:0)-100,o,t):f==a&&0==d?[-200-t.length,0,p]:s>-1?[-700-t.length,s,s+this.pattern.length]:f==a?[-900-t.length,d,p]:h==a?this.result((u?-200:0)-100-700+(g?0:-1100),o,t):2==e.length?null:this.result((r[0]?-700:0)-200-1100,r,t)}result(t,e,n){let r=[t-n.length],i=1;for(let o of e){let t=o+(this.astral?(0,tt.nZ)((0,tt.gm)(n,o)):1);i>1&&r[i-1]==o?r[i-1]=t:(r[i++]=o,r[i++]=t)}return r}}const Oi=s.r$.define({combine:t=>(0,s.BO)(t,{activateOnTyping:!0,override:null,maxRenderedOptions:100,defaultKeymap:!0,optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[]},{defaultKeymap:(t,e)=>t&&e,icons:(t,e)=>t&&e,optionClass:(t,e)=>n=>function(t,e){return t?e?t+" "+e:t:e}(t(n),e(n)),addToOptions:(t,e)=>t.concat(e)})});function Ci(t,e,n){if(t<=n)return{from:0,to:t};if(e<=t>>1){let t=Math.floor(e/n);return{from:t*n,to:(t+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class ji{constructor(t,e){this.view=t,this.stateField=e,this.info=null,this.placeInfo={read:()=>this.measureInfo(),write:t=>this.positionInfo(t),key:this};let n=t.state.field(e),{options:r,selected:i}=n.open,o=t.state.facet(Oi);this.optionContent=function(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(t){let e=document.createElement("div");return e.classList.add("cm-completionIcon"),t.type&&e.classList.add(...t.type.split(/\s+/g).map((t=>"cm-completionIcon-"+t))),e.setAttribute("aria-hidden","true"),e},position:20}),e.push({render(t,e,n){let r=document.createElement("span");r.className="cm-completionLabel";let{label:i}=t,o=0;for(let s=1;s<n.length;){let t=n[s++],e=n[s++];t>o&&r.appendChild(document.createTextNode(i.slice(o,t)));let a=r.appendChild(document.createElement("span"));a.appendChild(document.createTextNode(i.slice(t,e))),a.className="cm-completionMatchedText",o=e}return o<i.length&&r.appendChild(document.createTextNode(i.slice(o))),r},position:50},{render(t){if(!t.detail)return null;let e=document.createElement("span");return e.className="cm-completionDetail",e.textContent=t.detail,e},position:80}),e.sort(((t,e)=>t.position-e.position)).map((t=>t.render))}(o),this.optionClass=o.optionClass,this.range=Ci(r.length,i,o.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.dom.addEventListener("mousedown",(e=>{for(let n,i=e.target;i&&i!=this.dom;i=i.parentNode)if("LI"==i.nodeName&&(n=/-(\d+)$/.exec(i.id))&&+n[1]<r.length)return wi(t,r[+n[1]]),void e.preventDefault()})),this.list=this.dom.appendChild(this.createListBox(r,n.id,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfo)}))}mount(){this.updateSel()}update(t){t.state.field(this.stateField)!=t.startState.field(this.stateField)&&this.updateSel()}positioned(){this.info&&this.view.requestMeasure(this.placeInfo)}updateSel(){let t=this.view.state.field(this.stateField),e=t.open;if((e.selected<this.range.from||e.selected>=this.range.to)&&(this.range=Ci(e.options.length,e.selected,this.view.state.facet(Oi).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e.options,t.id,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfo)}))),this.updateSelectedOption(e.selected)){this.info&&(this.info.remove(),this.info=null);let t=e.options[e.selected];t.completion.info&&(this.info=this.dom.appendChild(function(t,e){let n=document.createElement("div");n.className="cm-tooltip cm-completionInfo";let{info:r}=t.completion;if("string"==typeof r)n.textContent=r;else{let i=r(t.completion);i.then?i.then((t=>n.appendChild(t)),(t=>(0,o.OO)(e.state,t,"completion info"))):n.appendChild(i)}return n}(t,this.view)),this.view.requestMeasure(this.placeInfo))}}updateSelectedOption(t){let e=null;for(let n=this.list.firstChild,r=this.range.from;n;n=n.nextSibling,r++)r==t?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),e=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected");return e&&function(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect();r.top<n.top?t.scrollTop-=n.top-r.top:r.bottom>n.bottom&&(t.scrollTop+=r.bottom-n.bottom)}(this.list,e),e}measureInfo(){let t=this.dom.querySelector("[aria-selected]");if(!t||!this.info)return null;let e=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),r=t.getBoundingClientRect();if(r.top>Math.min(innerHeight,e.bottom)-10||r.bottom<Math.max(0,e.top)+10)return null;let i=Math.max(0,Math.min(r.top,innerHeight-n.height))-e.top,s=this.view.textDirection==o.Nm.RTL,a=e.left,l=innerWidth-e.right;return s&&a<Math.min(n.width,l)?s=!1:!s&&l<Math.min(n.width,a)&&(s=!0),{top:i,left:s}}positionInfo(t){this.info&&(this.info.style.top=(t?t.top:-1e6)+"px",t&&(this.info.classList.toggle("cm-completionInfo-left",t.left),this.info.classList.toggle("cm-completionInfo-right",!t.left)))}createListBox(t,e,n){const r=document.createElement("ul");r.id=e,r.setAttribute("role","listbox");for(let i=n.from;i<n.to;i++){let{completion:n,match:o}=t[i];const s=r.appendChild(document.createElement("li"));s.id=e+"-"+i,s.setAttribute("role","option");let a=this.optionClass(n);a&&(s.className=a);for(let t of this.optionContent){let e=t(n,this.view.state,o);e&&s.appendChild(e)}}return n.from&&r.classList.add("cm-completionListIncompleteTop"),n.to<t.length&&r.classList.add("cm-completionListIncompleteBottom"),r}}function Ai(t){return 100*(t.boost||0)+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}class Ei{constructor(t,e,n,r,i){this.options=t,this.attrs=e,this.tooltip=n,this.timestamp=r,this.selected=i}setSelected(t,e){return t==this.selected||t>=this.options.length?this:new Ei(this.options,_i(e,t),this.tooltip,this.timestamp,t)}static build(t,e,n,r,i){let o=function(t,e){let n=[],r=0;for(let s of t)if(s.hasResult())if(!1===s.result.filter)for(let t of s.result.options)n.push(new gi(t,s,[1e9-r++]));else{let t,r=new Si(e.sliceDoc(s.from,s.to));for(let e of s.result.options)(t=r.match(e.label))&&(null!=e.boost&&(t[0]+=e.boost),n.push(new gi(e,s,t)))}n.sort(Di);let i=[],o=null;for(let s of n.sort(Di)){if(300==i.length)break;o&&o.label==s.completion.label&&o.detail==s.completion.detail&&o.type==s.completion.type&&o.apply==s.completion.apply?Ai(s.completion)>Ai(o)&&(i[i.length-1]=s):i.push(s),o=s.completion}return i}(t,e);if(!o.length)return null;let s=0;if(r&&r.selected){let t=r.options[r.selected].completion;for(let e=0;e<o.length&&!s;e++)o[e].completion==t&&(s=e)}return new Ei(o,_i(n,s),{pos:t.reduce(((t,e)=>e.hasResult()?Math.min(t,e.from):t),1e8),create:(a=zi,t=>new ji(t,a)),above:i.aboveCursor},r?r.timestamp:Date.now(),s);var a}map(t){return new Ei(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:t.mapPos(this.tooltip.pos)}),this.timestamp,this.selected)}}class Mi{constructor(t,e,n){this.active=t,this.id=e,this.open=n}static start(){return new Mi(Pi,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(t){let{state:e}=t,n=e.facet(Oi),r=(n.override||e.languageDataAt("autocomplete",vi(e)).map(ki)).map((e=>(this.active.find((t=>t.source==e))||new Ii(e,this.active.some((t=>0!=t.state))?1:0)).update(t,n)));r.length==this.active.length&&r.every(((t,e)=>t==this.active[e]))&&(r=this.active);let i=t.selection||r.some((e=>e.hasResult()&&t.changes.touchesRange(e.from,e.to)))||!function(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult;)n++;for(;r<e.length&&!e[r].hasResult;)r++;let i=n==t.length,o=r==e.length;if(i||o)return i==o;if(t[n++].result!=e[r++].result)return!1}}(r,this.active)?Ei.build(r,e,this.id,this.open,n):this.open&&t.docChanged?this.open.map(t.changes):this.open;!i&&r.every((t=>1!=t.state))&&r.some((t=>t.hasResult()))&&(r=r.map((t=>t.hasResult()?new Ii(t.source,0):t)));for(let o of t.effects)o.is(Fi)&&(i=i&&i.setSelected(o.value,this.id));return r==this.active&&i==this.open?this:new Mi(r,this.id,i)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:Ti}}const Ti={"aria-autocomplete":"list","aria-expanded":"false"};function _i(t,e){return{"aria-autocomplete":"list","aria-expanded":"true","aria-activedescendant":t+"-"+e,"aria-controls":t}}const Pi=[];function Di(t,e){let n=e.match[0]-t.match[0];return n||t.completion.label.localeCompare(e.completion.label)}function Ni(t){return t.isUserEvent("input.type")?"input":t.isUserEvent("delete.backward")?"delete":null}class Ii{constructor(t,e,n=-1){this.source=t,this.state=e,this.explicitPos=n}hasResult(){return!1}update(t,e){let n=Ni(t),r=this;n?r=r.handleUserEvent(t,n,e):t.docChanged?r=r.handleChange(t):t.selection&&0!=r.state&&(r=new Ii(r.source,0));for(let i of t.effects)if(i.is(Ri))r=new Ii(r.source,1,i.value?vi(t.state):-1);else if(i.is(Li))r=new Ii(r.source,0);else if(i.is(qi))for(let t of i.value)t.source==r.source&&(r=t);return r}handleUserEvent(t,e,n){return"delete"!=e&&n.activateOnTyping?new Ii(this.source,1):this.map(t.changes)}handleChange(t){return t.changes.touchesRange(vi(t.startState))?new Ii(this.source,0):this.map(t.changes)}map(t){return t.empty||this.explicitPos<0?this:new Ii(this.source,this.state,t.mapPos(this.explicitPos))}}class Bi extends Ii{constructor(t,e,n,r,i,o){super(t,2,e),this.result=n,this.from=r,this.to=i,this.span=o}hasResult(){return!0}handleUserEvent(t,e,n){let r=t.changes.mapPos(this.from),i=t.changes.mapPos(this.to,1),o=vi(t.state);if((this.explicitPos<0?o<=r:o<this.from)||o>i||"delete"==e&&vi(t.startState)==this.from)return new Ii(this.source,"input"==e&&n.activateOnTyping?1:0);let s=this.explicitPos<0?-1:t.changes.mapPos(this.explicitPos);return this.span&&(r==i||this.span.test(t.state.sliceDoc(r,i)))?new Bi(this.source,s,this.result,r,i,this.span):new Ii(this.source,1,s)}handleChange(t){return t.changes.touchesRange(this.from,this.to)?new Ii(this.source,0):this.map(t.changes)}map(t){return t.empty?this:new Bi(this.source,this.explicitPos<0?-1:t.mapPos(this.explicitPos),this.result,t.mapPos(this.from),t.mapPos(this.to,1),this.span)}}const Ri=s.Py.define(),Li=s.Py.define(),qi=s.Py.define({map:(t,e)=>t.map((t=>t.map(e)))}),Fi=s.Py.define(),zi=s.QQ.define({create:()=>Mi.start(),update:(t,e)=>t.update(e),provide:t=>[si.from(t,(t=>t.tooltip)),o.tk.contentAttributes.from(t,(t=>t.attrs))]});function Hi(t,e="option"){return n=>{let r=n.state.field(zi,!1);if(!r||!r.open||Date.now()-r.open.timestamp<75)return!1;let i,o=1;"page"==e&&(i=function(t,e){let n=t.plugin(ri);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}(n,r.open.tooltip))&&(o=Math.max(2,Math.floor(i.dom.offsetHeight/i.dom.querySelector("li").offsetHeight)-1));let s=r.open.selected+o*(t?1:-1),{length:a}=r.open.options;return s<0?s="page"==e?0:a-1:s>=a&&(s="page"==e?a-1:0),n.dispatch({effects:Fi.of(s)}),!0}}class Wi{constructor(t,e){this.active=t,this.context=e,this.time=Date.now(),this.updates=[],this.done=void 0}}const Vi=o.lg.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let e of t.state.field(zi).active)1==e.state&&this.startQuery(e)}update(t){let e=t.state.field(zi);if(!t.selectionSet&&!t.docChanged&&t.startState.field(zi)==e)return;let n=t.transactions.some((t=>(t.selection||t.docChanged)&&!Ni(t)));for(let i=0;i<this.running.length;i++){let e=this.running[i];if(n||e.updates.length+t.transactions.length>50&&e.time-Date.now()>1e3){for(let t of e.context.abortListeners)try{t()}catch(r){(0,o.OO)(this.view.state,r)}e.context.abortListeners=null,this.running.splice(i--,1)}else e.updates.push(...t.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=e.active.some((t=>1==t.state&&!this.running.some((e=>e.active.source==t.source))))?setTimeout((()=>this.startUpdate()),50):-1,0!=this.composing)for(let i of t.transactions)"input"==Ni(i)?this.composing=2:2==this.composing&&i.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:t}=this.view,e=t.field(zi);for(let n of e.active)1!=n.state||this.running.some((t=>t.active.source==n.source))||this.startQuery(n)}startQuery(t){let{state:e}=this.view,n=vi(e),r=new di(e,n,t.explicitPos==n),i=new Wi(t,r);this.running.push(i),Promise.resolve(t.source(r)).then((t=>{i.context.aborted||(i.done=t||null,this.scheduleAccept())}),(t=>{this.view.dispatch({effects:Li.of(null)}),(0,o.OO)(this.view.state,t)}))}scheduleAccept(){this.running.every((t=>void 0!==t.done))?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout((()=>this.accept()),50))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(Oi);for(let r=0;r<this.running.length;r++){let i=this.running[r];if(void 0===i.done)continue;if(this.running.splice(r--,1),i.done){let r=new Bi(i.active.source,i.active.explicitPos,i.done,i.done.from,null!==(t=i.done.to)&&void 0!==t?t:vi(i.updates.length?i.updates[0].startState:this.view.state),i.done.span&&!1!==i.done.filter?yi(i.done.span,!0):null);for(let t of i.updates)r=r.update(t,n);if(r.hasResult()){e.push(r);continue}}let o=this.view.state.field(zi).active.find((t=>t.source==i.active.source));if(o&&1==o.state)if(null==i.done){let t=new Ii(i.active.source,0);for(let e of i.updates)t=t.update(e,n);1!=t.state&&e.push(t)}else this.startQuery(o)}e.length&&this.view.dispatch({effects:qi.of(e)})}},{eventHandlers:{compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout((()=>this.view.dispatch({effects:Ri.of(!1)})),20),this.composing=0}}}),Ui=o.tk.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xb7\xb7\xb7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"300px"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25cb'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25cc'"}},".cm-completionIcon-variable":{"&:after":{content:"'\ud835\udc65'"}},".cm-completionIcon-constant":{"&:after":{content:"'\ud835\udc36'"}},".cm-completionIcon-type":{"&:after":{content:"'\ud835\udc61'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222a'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25a1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\ud83d\udd11\ufe0e'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25a2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});function $i(t={}){return[zi,Oi.of(t),Vi,Ji,Ui]}const Xi=[{key:"Ctrl-Space",run:t=>!!t.state.field(zi,!1)&&(t.dispatch({effects:Ri.of(!0)}),!0)},{key:"Escape",run:t=>{let e=t.state.field(zi,!1);return!(!e||!e.active.some((t=>0!=t.state)))&&(t.dispatch({effects:Li.of(null)}),!0)}},{key:"ArrowDown",run:Hi(!0)},{key:"ArrowUp",run:Hi(!1)},{key:"PageDown",run:Hi(!0,"page")},{key:"PageUp",run:Hi(!1,"page")},{key:"Enter",run:t=>{let e=t.state.field(zi,!1);return!(t.state.readOnly||!e||!e.open||Date.now()-e.open.timestamp<75)&&(wi(t,e.open.options[e.open.selected]),!0)}}],Ji=s.Wl.highest(o.$f.computeN([Oi],(t=>t.facet(Oi).defaultKeymap?[Xi]:[])));function Yi(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return!!i&&(r(n.update(i)),!0)}}const Gi=Yi(no,0),Qi=Yi(eo,0),Ki=Yi(((t,e)=>eo(t,e,function(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to),o=e.length-1;o>=0&&e[o].to>r.from?e[o].to=i.to:e.push({from:r.from,to:i.to})}return e}(e))),0),Zi=[{key:"Mod-/",run:t=>{let e=to(t.state);return e.line?Gi(t):!!e.block&&Ki(t)}},{key:"Alt-A",run:Qi}];function to(t,e=t.selection.main.head){let n=t.languageDataAt("commentTokens",e);return n.length?n[0]:{}}function eo(t,e,n=e.selection.ranges){let r=n.map((t=>to(e,t.from).block));if(!r.every((t=>t)))return null;let i=n.map(((t,n)=>function(t,{open:e,close:n},r,i){let o,s,a=t.sliceDoc(r-50,r),l=t.sliceDoc(i,i+50),c=/\s*$/.exec(a)[0].length,h=/^\s*/.exec(l)[0].length,u=a.length-c;if(a.slice(u-e.length,u)==e&&l.slice(h,h+n.length)==n)return{open:{pos:r-c,margin:c&&1},close:{pos:i+h,margin:h&&1}};i-r<=100?o=s=t.sliceDoc(r,i):(o=t.sliceDoc(r,r+50),s=t.sliceDoc(i-50,i));let f=/^\s*/.exec(o)[0].length,d=/\s*$/.exec(s)[0].length,p=s.length-d-n.length;return o.slice(f,f+e.length)==e&&s.slice(p,p+n.length)==n?{open:{pos:r+f+e.length,margin:/\s/.test(o.charAt(f+e.length))?1:0},close:{pos:i-d-n.length,margin:/\s/.test(s.charAt(p-1))?1:0}}:null}(e,r[n],t.from,t.to)));if(2!=t&&!i.every((t=>t)))return{changes:e.changes(n.map(((t,e)=>i[e]?[]:[{from:t.from,insert:r[e].open+" "},{from:t.to,insert:" "+r[e].close}])))};if(1!=t&&i.some((t=>t))){let t=[];for(let e,n=0;n<i.length;n++)if(e=i[n]){let i=r[n],{open:o,close:s}=e;t.push({from:o.pos-i.open.length,to:o.pos+o.margin},{from:s.pos-s.margin,to:s.pos+i.close.length})}return{changes:t}}return null}function no(t,e,n=e.selection.ranges){let r=[],i=-1;for(let{from:o,to:s}of n){let t=r.length,n=1e9;for(let a=o;a<=s;){let t=e.doc.lineAt(a);if(t.from>i&&(o==s||s>t.from)){i=t.from;let o=to(e,a).line;if(!o)continue;let s=/^\s*/.exec(t.text)[0].length,l=s==t.length,c=t.text.slice(s,s+o.length)==o?s:-1;s<t.text.length&&s<n&&(n=s),r.push({line:t,comment:c,token:o,indent:s,empty:l,single:!1})}a=t.to+1}if(n<1e9)for(let e=t;e<r.length;e++)r[e].indent<r[e].line.text.length&&(r[e].indent=n);r.length==t+1&&(r[t].single=!0)}if(2!=t&&r.some((t=>t.comment<0&&(!t.empty||t.single)))){let t=[];for(let{line:e,token:i,indent:o,empty:s,single:a}of r)!a&&s||t.push({from:e.from+o,insert:i+" "});let n=e.changes(t);return{changes:n,selection:e.selection.map(n,1)}}if(1!=t&&r.some((t=>t.comment>=0))){let t=[];for(let{line:e,comment:n,token:i}of r)if(n>=0){let r=e.from+n,o=r+i.length;" "==e.text[o-e.from]&&o++,t.push({from:r,to:o})}return{changes:t}}return null}const ro=2e3;function io(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),i=n-r.from,o=i>ro?-1:i==r.length?function(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}(t,e.clientX):(0,tt.IS)(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:o,off:i}}function oo(t,e){let n=io(t,e),r=t.state.selection;return n?{update(t){if(t.docChanged){let e=t.changes.mapPos(t.startState.doc.line(n.line).from),i=t.state.doc.lineAt(e);n={line:i.number,col:n.col,off:Math.min(n.off,i.length)},r=r.map(t.changes)}},get(e,i,o){let a=io(t,e);if(!a)return r;let l=function(t,e,n){let r=Math.min(e.line,n.line),i=Math.max(e.line,n.line),o=[];if(e.off>ro||n.off>ro||e.col<0||n.col<0){let a=Math.min(e.off,n.off),l=Math.max(e.off,n.off);for(let e=r;e<=i;e++){let n=t.doc.line(e);n.length<=l&&o.push(s.jT.range(n.from+a,n.to+l))}}else{let a=Math.min(e.col,n.col),l=Math.max(e.col,n.col);for(let e=r;e<=i;e++){let n=t.doc.line(e),r=(0,tt.Gz)(n.text,a,t.tabSize,!0);if(r>-1){let e=(0,tt.Gz)(n.text,l,t.tabSize);o.push(s.jT.range(n.from+r,n.from+e))}}}return o}(t.state,n,a);return l.length?o?s.jT.create(l.concat(r.ranges)):s.jT.create(l):r}}:null}function so(t){let e=(null===t||void 0===t?void 0:t.eventFilter)||(t=>t.altKey&&0==t.button);return o.tk.mouseSelectionStyle.of(((t,n)=>e(n)?oo(t,n):null))}var ao=n(7207);let lo=0;class co{constructor(t,e,n){this.set=t,this.base=e,this.modified=n,this.id=lo++}static define(t){if(null===t||void 0===t?void 0:t.base)throw new Error("Can not derive from a modified tag");let e=new co([],null,[]);if(e.set.push(e),t)for(let n of t.set)e.set.push(n);return e}static defineModifier(){let t=new uo;return e=>e.modified.indexOf(t)>-1?e:uo.get(e.base||e,e.modified.concat(t).sort(((t,e)=>t.id-e.id)))}}let ho=0;class uo{constructor(){this.instances=[],this.id=ho++}static get(t,e){if(!e.length)return t;let n=e[0].instances.find((n=>{return n.base==t&&(r=e,i=n.modified,r.length==i.length&&r.every(((t,e)=>t==i[e])));var r,i}));if(n)return n;let r=[],i=new co(r,t,e);for(let s of e)s.instances.push(i);let o=fo(e);for(let s of t.set)for(let t of o)r.push(uo.get(s,t));return i}}function fo(t){let e=[t];for(let n=0;n<t.length;n++)for(let r of fo(t.slice(0,n).concat(t.slice(n+1))))e.push(r);return e}const po=new P,mo=s.r$.define({combine:t=>t.length?yo.combinedMatch(t):null}),go=s.r$.define({combine:t=>t.length?t[0].match:null});function vo(t){return t.facet(mo)||t.facet(go)}class yo{constructor(t,e){let n;function r(t){let e=ao.V.newName();return(n||(n=Object.create(null)))["."+e]=t,e}this.map=Object.create(null),this.all="string"==typeof e.all?e.all:e.all?r(e.all):null;for(let o of t){let t=(o.class||r(Object.assign({},o,{tag:null})))+(this.all?" "+this.all:""),e=o.tag;if(Array.isArray(e))for(let n of e)this.map[n.id]=t;else this.map[e.id]=t}this.module=n?new ao.V(n):null,this.scope=e.scope||null,this.match=this.match.bind(this);let i=[wo];this.module&&i.push(o.tk.styleModule.of(this.module)),this.extension=i.concat(mo.of(this)),this.fallback=i.concat(go.of(this))}match(t,e){if(this.scope&&e!=this.scope)return null;for(let n of t.set){let e=this.map[n.id];if(void 0!==e)return n!=t&&(this.map[t.id]=e),e}return this.map[t.id]=this.all}static combinedMatch(t){if(1==t.length)return t[0].match;let e=t.some((t=>t.scope))?void 0:Object.create(null);return(n,r)=>{let i=e&&e[n.id];if(void 0!==i)return i;let o=null;for(let e of t){let t=e.match(n,r);t&&(o=o?o+" "+t:t)}return e&&(e[n.id]=o),o}}static define(t,e){return new yo(t,e||{})}static get(t,e,n){let r=vo(t);return r&&r(e,n||N.none)}}class bo{constructor(t){this.markCache=Object.create(null),this.tree=it(t.state),this.decorations=this.buildDeco(t,vo(t.state))}update(t){let e=it(t.state),n=vo(t.state),r=n!=t.startState.facet(mo);e.length<t.view.viewport.to&&!r&&e.type==this.tree.type?this.decorations=this.decorations.map(t.changes):(e!=this.tree||t.viewportChanged||r)&&(this.tree=e,this.decorations=this.buildDeco(t.view,n))}buildDeco(t,e){if(!e||!this.tree.length)return o.p.none;let n=new Tt.f_;for(let{from:r,to:i}of t.visibleRanges)So(this.tree,r,i,e,((t,e,r)=>{n.add(t,e,this.markCache[r]||(this.markCache[r]=o.p.mark({class:r})))}));return n.finish()}}const wo=s.Wl.high(o.lg.fromClass(bo,{decorations:t=>t.decorations})),xo=[""];class ko{constructor(t,e,n){this.at=t,this.style=e,this.span=n,this.class=""}startSpan(t,e){e!=this.class&&(this.flush(t),t>this.at&&(this.at=t),this.class=e)}flush(t){t>this.at&&this.class&&this.span(this.at,t,this.class)}highlightRange(t,e,n,r,i,o){let{type:s,from:a,to:l}=t;if(a>=n||l<=e)return;xo[i]=s.name,s.isTop&&(o=s);let c=r,h=s.prop(po),u=!1;for(;h;){if(!h.context||Oo(h.context,xo,i)){for(let t of h.tags){let e=this.style(t,o);e&&(c&&(c+=" "),c+=e,1==h.mode?r+=(r?" ":"")+e:0==h.mode&&(u=!0))}break}h=h.next}if(this.startSpan(t.from,c),u)return;let f=t.tree&&t.tree.prop(P.mounted);if(f&&f.overlay){let s=t.node.enter(f.overlay[0].from+a,1),h=t.firstChild();for(let u=0,d=a;;u++){let p=u<f.overlay.length?f.overlay[u]:null,m=p?p.from+a:l,g=Math.max(e,d),v=Math.min(n,m);if(g<v&&h)for(;t.from<v&&(this.highlightRange(t,g,v,r,i+1,o),this.startSpan(Math.min(n,t.to),c),!(t.to>=m)&&t.nextSibling()););if(!p||m>n)break;d=p.to+a,d>e&&(this.highlightRange(s.cursor,Math.max(e,p.from+a),Math.min(n,d),r,i,f.tree.type),this.startSpan(d,c))}h&&t.parent()}else if(t.firstChild()){do{if(!(t.to<=e)){if(t.from>=n)break;this.highlightRange(t,e,n,r,i+1,o),this.startSpan(Math.min(n,t.to),c)}}while(t.nextSibling());t.parent()}}}function So(t,e,n,r,i){let o=new ko(e,r,i);o.highlightRange(t.cursor(),e,n,"",0,t.type),o.flush(n)}function Oo(t,e,n){if(t.length>n-1)return!1;for(let r=n-1,i=t.length-1;i>=0;i--,r--){let n=t[i];if(n&&n!=e[r])return!1}return!0}const Co=co.define,jo=Co(),Ao=Co(),Eo=Co(Ao),Mo=Co(Ao),To=Co(),_o=Co(To),Po=Co(To),Do=Co(),No=Co(Do),Io=Co(),Bo=Co(),Ro=Co(),Lo=Co(Ro),qo=Co(),Fo={comment:jo,lineComment:Co(jo),blockComment:Co(jo),docComment:Co(jo),name:Ao,variableName:Co(Ao),typeName:Eo,tagName:Co(Eo),propertyName:Mo,attributeName:Co(Mo),className:Co(Ao),labelName:Co(Ao),namespace:Co(Ao),macroName:Co(Ao),literal:To,string:_o,docString:Co(_o),character:Co(_o),attributeValue:Co(_o),number:Po,integer:Co(Po),float:Co(Po),bool:Co(To),regexp:Co(To),escape:Co(To),color:Co(To),url:Co(To),keyword:Io,self:Co(Io),null:Co(Io),atom:Co(Io),unit:Co(Io),modifier:Co(Io),operatorKeyword:Co(Io),controlKeyword:Co(Io),definitionKeyword:Co(Io),moduleKeyword:Co(Io),operator:Bo,derefOperator:Co(Bo),arithmeticOperator:Co(Bo),logicOperator:Co(Bo),bitwiseOperator:Co(Bo),compareOperator:Co(Bo),updateOperator:Co(Bo),definitionOperator:Co(Bo),typeOperator:Co(Bo),controlOperator:Co(Bo),punctuation:Ro,separator:Co(Ro),bracket:Lo,angleBracket:Co(Lo),squareBracket:Co(Lo),paren:Co(Lo),brace:Co(Lo),content:Do,heading:No,heading1:Co(No),heading2:Co(No),heading3:Co(No),heading4:Co(No),heading5:Co(No),heading6:Co(No),contentSeparator:Co(Do),list:Co(Do),quote:Co(Do),emphasis:Co(Do),strong:Co(Do),link:Co(Do),monospace:Co(Do),strikethrough:Co(Do),inserted:Co(),deleted:Co(),changed:Co(),invalid:Co(),meta:qo,documentMeta:Co(qo),annotation:Co(qo),processingInstruction:Co(qo),definition:co.defineModifier(),constant:co.defineModifier(),function:co.defineModifier(),standard:co.defineModifier(),local:co.defineModifier(),special:co.defineModifier()},zo=yo.define([{tag:Fo.link,textDecoration:"underline"},{tag:Fo.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Fo.emphasis,fontStyle:"italic"},{tag:Fo.strong,fontWeight:"bold"},{tag:Fo.strikethrough,textDecoration:"line-through"},{tag:Fo.keyword,color:"#708"},{tag:[Fo.atom,Fo.bool,Fo.url,Fo.contentSeparator,Fo.labelName],color:"#219"},{tag:[Fo.literal,Fo.inserted],color:"#164"},{tag:[Fo.string,Fo.deleted],color:"#a11"},{tag:[Fo.regexp,Fo.escape,Fo.special(Fo.string)],color:"#e40"},{tag:Fo.definition(Fo.variableName),color:"#00f"},{tag:Fo.local(Fo.variableName),color:"#30a"},{tag:[Fo.typeName,Fo.namespace],color:"#085"},{tag:Fo.className,color:"#167"},{tag:[Fo.special(Fo.variableName),Fo.macroName],color:"#256"},{tag:Fo.definition(Fo.propertyName),color:"#00c"},{tag:Fo.comment,color:"#940"},{tag:Fo.meta,color:"#7a757a"},{tag:Fo.invalid,color:"#f00"}]);class Ho{constructor(t,e,n){this.from=t,this.to=e,this.diagnostic=n}}class Wo{constructor(t,e,n){this.diagnostics=t,this.panel=e,this.selected=n}static init(t,e,n){let r=o.p.set(t.map((t=>t.from==t.to||t.from==t.to-1&&n.doc.lineAt(t.from).to==t.from?o.p.widget({widget:new rs(t),diagnostic:t}).range(t.from):o.p.mark({attributes:{class:"cm-lintRange cm-lintRange-"+t.severity},diagnostic:t}).range(t.from,t.to))),!0);return new Wo(r,e,Vo(r))}}function Vo(t,e=null,n=0){let r=null;return t.between(n,1e9,((t,n,{spec:i})=>{if(!e||i.diagnostic==e)return r=new Ho(t,n,i.diagnostic),!1})),r}function Uo(t,e){return t.field(Yo,!1)?e:e.concat(s.Py.appendConfig.of([Yo,o.tk.decorations.compute([Yo],(t=>{let{selected:e,panel:n}=t.field(Yo);return e&&n&&e.from!=e.to?o.p.set([Go.range(e.from,e.to)]):o.p.none})),ui(Qo),ls]))}const $o=s.Py.define(),Xo=s.Py.define(),Jo=s.Py.define(),Yo=s.QQ.define({create:()=>new Wo(o.p.none,null,null),update(t,e){if(e.docChanged){let n=t.diagnostics.map(e.changes),r=null;if(t.selected){let i=e.changes.mapPos(t.selected.from,1);r=Vo(n,t.selected.diagnostic,i)||Vo(n,null,i)}t=new Wo(n,t.panel,r)}for(let n of e.effects)n.is($o)?t=Wo.init(n.value,t.panel,e.state):n.is(Xo)?t=new Wo(t.diagnostics,n.value?os.open:null,t.selected):n.is(Jo)&&(t=new Wo(t.diagnostics,t.panel,n.value));return t},provide:t=>[er.from(t,(t=>t.panel)),o.tk.decorations.from(t,(t=>t.diagnostics))]});const Go=o.p.mark({class:"cm-lintRange cm-lintRange-active"});function Qo(t,e,n){let{diagnostics:r}=t.state.field(Yo),i=[],o=2e8,s=0;return r.between(e-(n<0?1:0),e+(n>0?1:0),((t,r,{spec:a})=>{e>=t&&e<=r&&(t==r||(e>t||n>0)&&(e<r||n<0))&&(i.push(a.diagnostic),o=Math.min(t,o),s=Math.max(r,s))})),i.length?{pos:o,end:s,above:t.state.doc.lineAt(o).to<s,create:()=>({dom:Ko(t,i)})}:null}function Ko(t,e){return nr("ul",{class:"cm-tooltip-lint"},e.map((e=>ns(t,e,!1))))}const Zo=t=>{let e=t.state.field(Yo,!1);return!(!e||!e.panel)&&(t.dispatch({effects:Xo.of(!1)}),!0)},ts=[{key:"Mod-Shift-m",run:t=>{let e=t.state.field(Yo,!1);e&&e.panel||t.dispatch({effects:Uo(t.state,[Xo.of(!0)])});let n=Gn(t,os.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0}},{key:"F8",run:t=>{let e=t.state.field(Yo,!1);if(!e)return!1;let n=t.state.selection.main,r=e.diagnostics.iter(n.to+1);return!(!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to))&&(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)}}];function es(t){let e=[];if(t)t:for(let{name:n}of t){for(let t=0;t<n.length;t++){let r=n[t];if(/[a-zA-Z]/.test(r)&&!e.some((t=>t.toLowerCase()==r.toLowerCase()))){e.push(r);continue t}}e.push("")}return e}function ns(t,e,n){var r;let i=n?es(e.actions):[];return nr("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},nr("span",{class:"cm-diagnosticText"},e.message),null===(r=e.actions)||void 0===r?void 0:r.map(((n,r)=>{let o=r=>{r.preventDefault();let i=Vo(t.state.field(Yo).diagnostics,e);i&&n.apply(t,i.from,i.to)},{name:s}=n,a=i[r]?s.indexOf(i[r]):-1,l=a<0?s:[s.slice(0,a),nr("u",s.slice(a,a+1)),s.slice(a+1)];return nr("button",{type:"button",class:"cm-diagnosticAction",onclick:o,onmousedown:o,"aria-label":` Action: ${s}${a<0?"":` (access key "${i[r]})"`}.`},l)})),e.source&&nr("div",{class:"cm-diagnosticSource"},e.source))}class rs extends o.l9{constructor(t){super(),this.diagnostic=t}eq(t){return t.diagnostic==this.diagnostic}toDOM(){return nr("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class is{constructor(t,e){this.diagnostic=e,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=ns(t,e,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class os{constructor(t){this.view=t,this.items=[];this.list=nr("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:e=>{if(27==e.keyCode)Zo(this.view),this.view.focus();else if(38==e.keyCode||33==e.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==e.keyCode||34==e.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==e.keyCode)this.moveSelection(0);else if(35==e.keyCode)this.moveSelection(this.items.length-1);else if(13==e.keyCode)this.view.focus();else{if(!(e.keyCode>=65&&e.keyCode<=90&&this.selectedIndex>=0))return;{let{diagnostic:n}=this.items[this.selectedIndex],r=es(n.actions);for(let i=0;i<r.length;i++)if(r[i].toUpperCase().charCodeAt(0)==e.keyCode){let e=Vo(this.view.state.field(Yo).diagnostics,n);e&&n.actions[i].apply(t,e.from,e.to)}}}e.preventDefault()},onclick:t=>{for(let e=0;e<this.items.length;e++)this.items[e].dom.contains(t.target)&&this.moveSelection(e)}}),this.dom=nr("div",{class:"cm-panel-lint"},this.list,nr("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>Zo(this.view)},"\xd7")),this.update()}get selectedIndex(){let t=this.view.state.field(Yo).selected;if(!t)return-1;for(let e=0;e<this.items.length;e++)if(this.items[e].diagnostic==t.diagnostic)return e;return-1}update(){let{diagnostics:t,selected:e}=this.view.state.field(Yo),n=0,r=!1,i=null;for(t.between(0,this.view.state.doc.length,((t,o,{spec:s})=>{let a,l=-1;for(let e=n;e<this.items.length;e++)if(this.items[e].diagnostic==s.diagnostic){l=e;break}l<0?(a=new is(this.view,s.diagnostic),this.items.splice(n,0,a),r=!0):(a=this.items[l],l>n&&(this.items.splice(n,l-n),r=!0)),e&&a.diagnostic==e.diagnostic?a.dom.hasAttribute("aria-selected")||(a.dom.setAttribute("aria-selected","true"),i=a):a.dom.hasAttribute("aria-selected")&&a.dom.removeAttribute("aria-selected"),n++}));n<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();0==this.items.length&&(this.items.push(new is(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),i?(this.list.setAttribute("aria-activedescendant",i.id),this.view.requestMeasure({key:this,read:()=>({sel:i.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:t,panel:e})=>{t.top<e.top?this.list.scrollTop-=e.top-t.top:t.bottom>e.bottom&&(this.list.scrollTop+=t.bottom-e.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let t=this.list.firstChild;function e(){let e=t;t=e.nextSibling,e.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;t!=n.dom;)e();t=n.dom.nextSibling}else this.list.insertBefore(n.dom,t);for(;t;)e()}moveSelection(t){if(this.selectedIndex<0)return;let e=Vo(this.view.state.field(Yo).diagnostics,this.items[t].diagnostic);e&&this.view.dispatch({selection:{anchor:e.from,head:e.to},scrollIntoView:!0,effects:Jo.of(e)})}static open(t){return new os(t)}}function ss(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function as(t){return ss(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const ls=o.tk.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:as("#d11")},".cm-lintRange-warning":{backgroundImage:as("orange")},".cm-lintRange-info":{backgroundImage:as("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});const cs=[Gt(),te(),(0,o.AE)(),f(),ve(),(0,o.Uw)(),(0,o.qr)(),s.yy.allowMultipleSelections.of(!0),jt(),zo.fallback,Ce(),Bn(),$i(),so(),(0,o.ZO)(),yr(),o.$f.of([...Hn,...Mn,...Ur,...E,...he,...Zi,...Xi,...ts])],hs="#e06c75",us="#abb2bf",fs="#7d8799",ds="#d19a66",ps="#2c313a",ms="#282c34",gs="#353a42",vs="#528bff",ys=[o.tk.theme({"&":{color:us,backgroundColor:ms},".cm-content":{caretColor:vs},"&.cm-focused .cm-cursor":{borderLeftColor:vs},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:"#3E4451"},".cm-panels":{backgroundColor:"#21252b",color:us},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:ps},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847",outline:"1px solid #515a6b"},".cm-gutters":{backgroundColor:ms,color:fs,border:"none"},".cm-activeLineGutter":{backgroundColor:ps},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:gs},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:gs,borderBottomColor:gs},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:ps,color:us}}},{dark:!0}),yo.define([{tag:Fo.keyword,color:"#c678dd"},{tag:[Fo.name,Fo.deleted,Fo.character,Fo.propertyName,Fo.macroName],color:hs},{tag:[Fo.function(Fo.variableName),Fo.labelName],color:"#61afef"},{tag:[Fo.color,Fo.constant(Fo.name),Fo.standard(Fo.name)],color:ds},{tag:[Fo.definition(Fo.name),Fo.separator],color:us},{tag:[Fo.typeName,Fo.className,Fo.number,Fo.changed,Fo.annotation,Fo.modifier,Fo.self,Fo.namespace],color:"#e5c07b"},{tag:[Fo.operator,Fo.operatorKeyword,Fo.url,Fo.escape,Fo.regexp,Fo.link,Fo.special(Fo.string)],color:"#56b6c2"},{tag:[Fo.meta,Fo.comment],color:fs},{tag:Fo.strong,fontWeight:"bold"},{tag:Fo.emphasis,fontStyle:"italic"},{tag:Fo.strikethrough,textDecoration:"line-through"},{tag:Fo.link,color:fs,textDecoration:"underline"},{tag:Fo.heading,fontWeight:"bold",color:hs},{tag:[Fo.atom,Fo.bool,Fo.special(Fo.variableName)],color:ds},{tag:[Fo.processingInstruction,Fo.string,Fo.inserted],color:"#98c379"},{tag:Fo.invalid,color:"#ffffff"}])];var bs=o.tk.theme({"&":{backgroundColor:"#fff"}},{dark:!1});function ws(t){var{value:e,selection:n,onChange:r,onUpdate:a,extensions:l=[],autoFocus:c,theme:h="light",height:u="",minHeight:f="",maxHeight:d="",placeholder:p="",width:m="",minWidth:g="",maxWidth:v="",editable:y=!0,indentWithTab:b=!0,basicSetup:w=!0,root:x}=t,[k,S]=(0,i.useState)(t.container),[O,C]=(0,i.useState)(),[j,A]=(0,i.useState)(),E=o.tk.theme({"&":{height:u,minHeight:f,maxHeight:d,width:m,minWidth:g,maxWidth:v}}),M=[o.tk.updateListener.of((t=>{if(t.docChanged&&"function"===typeof r){var e=t.state.doc.toString();r(e,t)}})),E];switch(b&&M.unshift(o.$f.of([Tn])),w&&M.unshift(cs),p&&M.unshift((0,o.W$)(p)),h){case"light":M.push(bs);break;case"dark":M.push(ys);break;default:M.push(h)}return!1===y&&M.push(o.tk.editable.of(!1)),a&&"function"===typeof a&&M.push(o.tk.updateListener.of(a)),M=M.concat(l),(0,i.useEffect)((()=>{if(k&&!j){var t=s.yy.create({doc:e,selection:n,extensions:M});if(A(t),!O){var r=new o.tk({state:t,parent:k,root:x});C(r)}}}),[k,j]),(0,i.useEffect)((()=>()=>{O&&(O.destroy(),C(void 0))}),[O]),(0,i.useEffect)((()=>{c&&O&&O.focus()}),[c,O]),(0,i.useEffect)((()=>{var t=O?O.state.doc.toString():"";O&&e!==t&&O.dispatch({changes:{from:0,to:t.length,insert:e||""}})}),[e,O]),(0,i.useEffect)((()=>{O&&O.dispatch({effects:s.Py.reconfigure.of(M)})}),[h,l,u,f,d,m,p,g,v,y,b,w]),{state:j,setState:A,view:O,setView:C,container:k,setContainer:S}}var xs=n(2322),ks=["className","value","selection","extensions","onChange","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","root"],Ss=i.forwardRef(((t,e)=>{var{className:n,value:o="",selection:s,extensions:a=[],onChange:l,onUpdate:c,autoFocus:h,theme:u="light",height:f,minHeight:d,maxHeight:p,width:m,minWidth:g,maxWidth:v,basicSetup:y,placeholder:b,indentWithTab:w,editable:x,root:k}=t,S=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,ks),O=(0,i.useRef)(null),{state:C,view:j,container:A,setContainer:E}=ws({container:O.current,root:k,value:o,autoFocus:h,theme:u,height:f,minHeight:d,maxHeight:p,width:m,minWidth:g,maxWidth:v,basicSetup:y,placeholder:b,indentWithTab:w,editable:x,selection:s,onChange:l,onUpdate:c,extensions:a});if((0,i.useImperativeHandle)(e,(()=>({editor:A,state:C,view:j})),[A,C,j]),(0,i.useEffect)((()=>{E(O.current)}),[]),"string"!==typeof o)throw new Error("value must be typeof string but got "+typeof o);var M="string"===typeof u?"cm-theme-"+u:"cm-theme";return(0,xs.jsx)("div",r({ref:O,className:M+(n?" "+n:"")},S))}));Ss.displayName="CodeMirror"},6277:function(t,e,n){"use strict";function r(t){var e,n,i="";if("string"===typeof t||"number"===typeof t)i+=t;else if("object"===typeof t)if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=r(t[e]))&&(i&&(i+=" "),i+=n);else for(e in t)t[e]&&(i&&(i+=" "),i+=e);return i}function i(){for(var t,e,n=0,i="";n<arguments.length;)(t=arguments[n++])&&(e=r(t))&&(i&&(i+=" "),i+=e);return i}n.r(e),n.d(e,{default:function(){return i}})},7452:function(t,e,n){!function(e,r,i){var o;t.exports=(o=n(7359),n(8139),n(9174),n(6844),n(9951),function(){var t=o,e=t.lib.BlockCipher,n=t.algo,r=[],i=[],s=[],a=[],l=[],c=[],h=[],u=[],f=[],d=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var n=0,o=0;for(e=0;e<256;e++){var p=o^o<<1^o<<2^o<<3^o<<4;p=p>>>8^255&p^99,r[n]=p,i[p]=n;var m=t[n],g=t[m],v=t[g],y=257*t[p]^16843008*p;s[n]=y<<24|y>>>8,a[n]=y<<16|y>>>16,l[n]=y<<8|y>>>24,c[n]=y,y=16843009*v^65537*g^257*m^16843008*n,h[p]=y<<24|y>>>8,u[p]=y<<16|y>>>16,f[p]=y<<8|y>>>24,d[p]=y,n?(n=m^t[t[t[v^m]]],o^=t[t[o]]):n=o=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],m=n.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,n=t.sigBytes/4,i=4*((this._nRounds=n+6)+1),o=this._keySchedule=[],s=0;s<i;s++)s<n?o[s]=e[s]:(c=o[s-1],s%n?n>6&&s%n==4&&(c=r[c>>>24]<<24|r[c>>>16&255]<<16|r[c>>>8&255]<<8|r[255&c]):(c=r[(c=c<<8|c>>>24)>>>24]<<24|r[c>>>16&255]<<16|r[c>>>8&255]<<8|r[255&c],c^=p[s/n|0]<<24),o[s]=o[s-n]^c);for(var a=this._invKeySchedule=[],l=0;l<i;l++){if(s=i-l,l%4)var c=o[s];else c=o[s-4];a[l]=l<4||s<=4?c:h[r[c>>>24]]^u[r[c>>>16&255]]^f[r[c>>>8&255]]^d[r[255&c]]}}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,s,a,l,c,r)},decryptBlock:function(t,e){var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n,this._doCryptBlock(t,e,this._invKeySchedule,h,u,f,d,i),n=t[e+1],t[e+1]=t[e+3],t[e+3]=n},_doCryptBlock:function(t,e,n,r,i,o,s,a){for(var l=this._nRounds,c=t[e]^n[0],h=t[e+1]^n[1],u=t[e+2]^n[2],f=t[e+3]^n[3],d=4,p=1;p<l;p++){var m=r[c>>>24]^i[h>>>16&255]^o[u>>>8&255]^s[255&f]^n[d++],g=r[h>>>24]^i[u>>>16&255]^o[f>>>8&255]^s[255&c]^n[d++],v=r[u>>>24]^i[f>>>16&255]^o[c>>>8&255]^s[255&h]^n[d++],y=r[f>>>24]^i[c>>>16&255]^o[h>>>8&255]^s[255&u]^n[d++];c=m,h=g,u=v,f=y}m=(a[c>>>24]<<24|a[h>>>16&255]<<16|a[u>>>8&255]<<8|a[255&f])^n[d++],g=(a[h>>>24]<<24|a[u>>>16&255]<<16|a[f>>>8&255]<<8|a[255&c])^n[d++],v=(a[u>>>24]<<24|a[f>>>16&255]<<16|a[c>>>8&255]<<8|a[255&h])^n[d++],y=(a[f>>>24]<<24|a[c>>>16&255]<<16|a[h>>>8&255]<<8|a[255&u])^n[d++],t[e]=m,t[e+1]=g,t[e+2]=v,t[e+3]=y},keySize:8});t.AES=e._createHelper(m)}(),o.AES)}()},9951:function(t,e,n){!function(e,r,i){var o;t.exports=(o=n(7359),n(6844),void(o.lib.Cipher||function(t){var e=o,n=e.lib,r=n.Base,i=n.WordArray,s=n.BufferedBlockAlgorithm,a=e.enc,l=(a.Utf8,a.Base64),c=e.algo.EvpKDF,h=n.Cipher=s.extend({cfg:r.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,n){this.cfg=this.cfg.extend(n),this._xformMode=t,this._key=e,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?b:v}return function(e){return{encrypt:function(n,r,i){return t(r).encrypt(e,n,r,i)},decrypt:function(n,r,i){return t(r).decrypt(e,n,r,i)}}}}()}),u=(n.StreamCipher=h.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),e.mode={}),f=n.BlockCipherMode=r.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),d=u.CBC=function(){var e=f.extend();function n(e,n,r){var i,o=this._iv;o?(i=o,this._iv=t):i=this._prevBlock;for(var s=0;s<r;s++)e[n+s]^=i[s]}return e.Encryptor=e.extend({processBlock:function(t,e){var r=this._cipher,i=r.blockSize;n.call(this,t,e,i),r.encryptBlock(t,e),this._prevBlock=t.slice(e,e+i)}}),e.Decryptor=e.extend({processBlock:function(t,e){var r=this._cipher,i=r.blockSize,o=t.slice(e,e+i);r.decryptBlock(t,e),n.call(this,t,e,i),this._prevBlock=o}}),e}(),p=(e.pad={}).Pkcs7={pad:function(t,e){for(var n=4*e,r=n-t.sigBytes%n,o=r<<24|r<<16|r<<8|r,s=[],a=0;a<r;a+=4)s.push(o);var l=i.create(s,r);t.concat(l)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},m=(n.BlockCipher=h.extend({cfg:h.cfg.extend({mode:d,padding:p}),reset:function(){var t;h.reset.call(this);var e=this.cfg,n=e.iv,r=e.mode;this._xformMode==this._ENC_XFORM_MODE?t=r.createEncryptor:(t=r.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==t?this._mode.init(this,n&&n.words):(this._mode=t.call(r,this,n&&n.words),this._mode.__creator=t)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t,e=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(e.pad(this._data,this.blockSize),t=this._process(!0)):(t=this._process(!0),e.unpad(t)),t},blockSize:4}),n.CipherParams=r.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}})),g=(e.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,n=t.salt;return(n?i.create([1398893684,1701076831]).concat(n).concat(e):e).toString(l)},parse:function(t){var e,n=l.parse(t),r=n.words;return 1398893684==r[0]&&1701076831==r[1]&&(e=i.create(r.slice(2,4)),r.splice(0,4),n.sigBytes-=16),m.create({ciphertext:n,salt:e})}},v=n.SerializableCipher=r.extend({cfg:r.extend({format:g}),encrypt:function(t,e,n,r){r=this.cfg.extend(r);var i=t.createEncryptor(n,r),o=i.finalize(e),s=i.cfg;return m.create({ciphertext:o,key:n,iv:s.iv,algorithm:t,mode:s.mode,padding:s.padding,blockSize:t.blockSize,formatter:r.format})},decrypt:function(t,e,n,r){return r=this.cfg.extend(r),e=this._parse(e,r.format),t.createDecryptor(n,r).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),y=(e.kdf={}).OpenSSL={execute:function(t,e,n,r){r||(r=i.random(8));var o=c.create({keySize:e+n}).compute(t,r),s=i.create(o.words.slice(e),4*n);return o.sigBytes=4*e,m.create({key:o,iv:s,salt:r})}},b=n.PasswordBasedCipher=v.extend({cfg:v.cfg.extend({kdf:y}),encrypt:function(t,e,n,r){var i=(r=this.cfg.extend(r)).kdf.execute(n,t.keySize,t.ivSize);r.iv=i.iv;var o=v.encrypt.call(this,t,e,i.key,r);return o.mixIn(i),o},decrypt:function(t,e,n,r){r=this.cfg.extend(r),e=this._parse(e,r.format);var i=r.kdf.execute(n,t.keySize,t.ivSize,e.salt);return r.iv=i.iv,v.decrypt.call(this,t,e,i.key,r)}})}()))}()},7359:function(t,e,n){t.exports=function(){var t=t||function(t,e){var r;if("undefined"!==typeof window&&window.crypto&&(r=window.crypto),"undefined"!==typeof self&&self.crypto&&(r=self.crypto),"undefined"!==typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!==typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&"undefined"!==typeof n.g&&n.g.crypto&&(r=n.g.crypto),!r)try{r=n(633)}catch(g){}var i=function(){if(r){if("function"===typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(g){}if("function"===typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(g){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),s={},a=s.lib={},l=a.Base={extend:function(t){var e=o(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},c=a.WordArray=l.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=n!=e?n:4*t.length},toString:function(t){return(t||u).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,i=t.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var s=n[o>>>2]>>>24-o%4*8&255;e[r+o>>>2]|=s<<24-(r+o)%4*8}else for(var a=0;a<i;a+=4)e[r+a>>>2]=n[a>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=l.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],n=0;n<t;n+=4)e.push(i());return new c.init(e,t)}}),h=s.enc={},u=h.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new c.init(n,e/2)}},f=h.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new c.init(n,e)}},d=h.Utf8={stringify:function(t){try{return decodeURIComponent(escape(f.stringify(t)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(t){return f.parse(unescape(encodeURIComponent(t)))}},p=a.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=d.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n,r=this._data,i=r.words,o=r.sigBytes,s=this.blockSize,a=o/(4*s),l=(a=e?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*s,h=t.min(4*l,o);if(l){for(var u=0;u<l;u+=s)this._doProcessBlock(i,u);n=i.splice(0,l),r.sigBytes-=h}return new c.init(n,h)},clone:function(){var t=l.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),m=(a.Hasher=p.extend({cfg:l.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new m.HMAC.init(t,n).finalize(e)}}}),s.algo={});return s}(Math);return t}()},8139:function(t,e,n){!function(e,r){var i;t.exports=(i=n(7359),function(){var t=i,e=t.lib.WordArray;function n(t,n,r){for(var i=[],o=0,s=0;s<n;s++)if(s%4){var a=r[t.charCodeAt(s-1)]<<s%4*2|r[t.charCodeAt(s)]>>>6-s%4*2;i[o>>>2]|=a<<24-o%4*8,o++}return e.create(i,o)}t.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,r=this._map;t.clamp();for(var i=[],o=0;o<n;o+=3)for(var s=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<n;a++)i.push(r.charAt(s>>>6*(3-a)&63));var l=r.charAt(64);if(l)for(;i.length%4;)i.push(l);return i.join("")},parse:function(t){var e=t.length,r=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<r.length;o++)i[r.charCodeAt(o)]=o}var s=r.charAt(64);if(s){var a=t.indexOf(s);-1!==a&&(e=a)}return n(t,e,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),i.enc.Base64)}()},8307:function(t,e,n){!function(e,r){var i;t.exports=(i=n(7359),i.enc.Utf8)}()},6844:function(t,e,n){!function(e,r,i){var o;t.exports=(o=n(7359),n(1637),n(6423),function(){var t=o,e=t.lib,n=e.Base,r=e.WordArray,i=t.algo,s=i.MD5,a=i.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:s,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n,i=this.cfg,o=i.hasher.create(),s=r.create(),a=s.words,l=i.keySize,c=i.iterations;a.length<l;){n&&o.update(n),n=o.update(t).finalize(e),o.reset();for(var h=1;h<c;h++)n=o.finalize(n),o.reset();s.concat(n)}return s.sigBytes=4*l,s}});t.EvpKDF=function(t,e,n){return a.create(n).compute(t,e)}}(),o.EvpKDF)}()},6423:function(t,e,n){!function(e,r){var i;t.exports=(i=n(7359),void function(){var t=i,e=t.lib.Base,n=t.enc.Utf8;t.algo.HMAC=e.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=n.parse(e));var r=t.blockSize,i=4*r;e.sigBytes>i&&(e=t.finalize(e)),e.clamp();for(var o=this._oKey=e.clone(),s=this._iKey=e.clone(),a=o.words,l=s.words,c=0;c<r;c++)a[c]^=1549556828,l[c]^=909522486;o.sigBytes=s.sigBytes=i,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,n=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(n))}})}())}()},9174:function(t,e,n){!function(e,r){var i;t.exports=(i=n(7359),function(t){var e=i,n=e.lib,r=n.WordArray,o=n.Hasher,s=e.algo,a=[];!function(){for(var e=0;e<64;e++)a[e]=4294967296*t.abs(t.sin(e+1))|0}();var l=s.MD5=o.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var n=0;n<16;n++){var r=e+n,i=t[r];t[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,s=t[e+0],l=t[e+1],d=t[e+2],p=t[e+3],m=t[e+4],g=t[e+5],v=t[e+6],y=t[e+7],b=t[e+8],w=t[e+9],x=t[e+10],k=t[e+11],S=t[e+12],O=t[e+13],C=t[e+14],j=t[e+15],A=o[0],E=o[1],M=o[2],T=o[3];A=c(A,E,M,T,s,7,a[0]),T=c(T,A,E,M,l,12,a[1]),M=c(M,T,A,E,d,17,a[2]),E=c(E,M,T,A,p,22,a[3]),A=c(A,E,M,T,m,7,a[4]),T=c(T,A,E,M,g,12,a[5]),M=c(M,T,A,E,v,17,a[6]),E=c(E,M,T,A,y,22,a[7]),A=c(A,E,M,T,b,7,a[8]),T=c(T,A,E,M,w,12,a[9]),M=c(M,T,A,E,x,17,a[10]),E=c(E,M,T,A,k,22,a[11]),A=c(A,E,M,T,S,7,a[12]),T=c(T,A,E,M,O,12,a[13]),M=c(M,T,A,E,C,17,a[14]),A=h(A,E=c(E,M,T,A,j,22,a[15]),M,T,l,5,a[16]),T=h(T,A,E,M,v,9,a[17]),M=h(M,T,A,E,k,14,a[18]),E=h(E,M,T,A,s,20,a[19]),A=h(A,E,M,T,g,5,a[20]),T=h(T,A,E,M,x,9,a[21]),M=h(M,T,A,E,j,14,a[22]),E=h(E,M,T,A,m,20,a[23]),A=h(A,E,M,T,w,5,a[24]),T=h(T,A,E,M,C,9,a[25]),M=h(M,T,A,E,p,14,a[26]),E=h(E,M,T,A,b,20,a[27]),A=h(A,E,M,T,O,5,a[28]),T=h(T,A,E,M,d,9,a[29]),M=h(M,T,A,E,y,14,a[30]),A=u(A,E=h(E,M,T,A,S,20,a[31]),M,T,g,4,a[32]),T=u(T,A,E,M,b,11,a[33]),M=u(M,T,A,E,k,16,a[34]),E=u(E,M,T,A,C,23,a[35]),A=u(A,E,M,T,l,4,a[36]),T=u(T,A,E,M,m,11,a[37]),M=u(M,T,A,E,y,16,a[38]),E=u(E,M,T,A,x,23,a[39]),A=u(A,E,M,T,O,4,a[40]),T=u(T,A,E,M,s,11,a[41]),M=u(M,T,A,E,p,16,a[42]),E=u(E,M,T,A,v,23,a[43]),A=u(A,E,M,T,w,4,a[44]),T=u(T,A,E,M,S,11,a[45]),M=u(M,T,A,E,j,16,a[46]),A=f(A,E=u(E,M,T,A,d,23,a[47]),M,T,s,6,a[48]),T=f(T,A,E,M,y,10,a[49]),M=f(M,T,A,E,C,15,a[50]),E=f(E,M,T,A,g,21,a[51]),A=f(A,E,M,T,S,6,a[52]),T=f(T,A,E,M,p,10,a[53]),M=f(M,T,A,E,x,15,a[54]),E=f(E,M,T,A,l,21,a[55]),A=f(A,E,M,T,b,6,a[56]),T=f(T,A,E,M,j,10,a[57]),M=f(M,T,A,E,v,15,a[58]),E=f(E,M,T,A,O,21,a[59]),A=f(A,E,M,T,m,6,a[60]),T=f(T,A,E,M,k,10,a[61]),M=f(M,T,A,E,d,15,a[62]),E=f(E,M,T,A,w,21,a[63]),o[0]=o[0]+A|0,o[1]=o[1]+E|0,o[2]=o[2]+M|0,o[3]=o[3]+T|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;n[i>>>5]|=128<<24-i%32;var o=t.floor(r/4294967296),s=r;n[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(i+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),e.sigBytes=4*(n.length+1),this._process();for(var a=this._hash,l=a.words,c=0;c<4;c++){var h=l[c];l[c]=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8)}return a},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function c(t,e,n,r,i,o,s){var a=t+(e&n|~e&r)+i+s;return(a<<o|a>>>32-o)+e}function h(t,e,n,r,i,o,s){var a=t+(e&r|n&~r)+i+s;return(a<<o|a>>>32-o)+e}function u(t,e,n,r,i,o,s){var a=t+(e^n^r)+i+s;return(a<<o|a>>>32-o)+e}function f(t,e,n,r,i,o,s){var a=t+(n^(e|~r))+i+s;return(a<<o|a>>>32-o)+e}e.MD5=o._createHelper(l),e.HmacMD5=o._createHmacHelper(l)}(Math),i.MD5)}()},2129:function(t,e,n){!function(e,r,i){var o;t.exports=(o=n(7359),n(9951),o.mode.ECB=function(){var t=o.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),t.Decryptor=t.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),t}(),o.mode.ECB)}()},4830:function(t,e,n){!function(e,r,i){var o;t.exports=(o=n(7359),n(9951),o.pad.Pkcs7)}()},1637:function(t,e,n){!function(e,r){var i;t.exports=(i=n(7359),function(){var t=i,e=t.lib,n=e.WordArray,r=e.Hasher,o=t.algo,s=[],a=o.SHA1=r.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],l=n[4],c=0;c<80;c++){if(c<16)s[c]=0|t[e+c];else{var h=s[c-3]^s[c-8]^s[c-14]^s[c-16];s[c]=h<<1|h>>>31}var u=(r<<5|r>>>27)+l+s[c];u+=c<20?1518500249+(i&o|~i&a):c<40?1859775393+(i^o^a):c<60?(i&o|i&a|o&a)-1894007588:(i^o^a)-899497514,l=a,a=o,o=i<<30|i>>>2,i=r,r=u}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+l|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),e[15+(r+64>>>9<<4)]=n,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}});t.SHA1=r._createHelper(a),t.HmacSHA1=r._createHmacHelper(a)}(),i.SHA1)}()},8277:function(){},8262:function(t,e,n){"use strict";var r=n(3586);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},3980:function(t,e,n){t.exports=n(8262)()},3586:function(t){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},978:function(t,e,n){var r;r=function(t,e){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return s}));var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"undefined"!=typeof window&&(this.image=new Image,this.resolve=null,this.video=document.createElement("video"),this.events())}return function(t,e,n){e&&r(t.prototype,e),n&&r(t,n)}(t,[{key:"events",value:function(){var t=this;this.video.addEventListener("loadeddata",(function(){return t.resolve&&t.resolve(!0)})),this.video.addEventListener("loadeddata",(function(){return t.resolve&&t.resolve(!1)})),this.image.onload=function(){return t.resolve&&t.resolve(!0)},this.image.onerror=function(){return t.resolve&&t.resolve(!1)}}},{key:"load",value:function(t){var e=this;return new Promise((function(n){t||n(!0),e.resolve=n,e.loading=!0,e.ended=!1,t.match(/\.(mp4|webm)/i)&&e.video.setAttribute("src",t),t.match(/\.(png|jp(e)?g|gif|webp)/i)&&(e.image.src=t,(e.image.width>0||e.image.height>0)&&n(!0))}))}},{key:"loadImage",value:function(t){var e=this,n=new Image,r=!1;n.onload=function(){r||e.pumpLoaded()},n.onerror=function(){r||e.pumpLoaded()},n.src=t,!1===r&&(n.width>0||n.height>0)&&(r=!0,this.pumpLoaded())}},{key:"loadVideo",value:function(t){var e=this,n=document.createElement("video");n.addEventListener("loadeddata",(function(){e.pumpLoaded()})),n.addEventListener("error",(function(){e.pumpLoaded()})),n.setAttribute("src",t)}},{key:"pumpLoaded",value:function(){this.loaded+=1,this.loaded===this.toLoad&&this.resolver(!0)}},{key:"startLoad",value:function(t){t.match(/\.(mp4|webm)/i)&&this.loadVideo(t),t.match(/\.(png|jp(e)?g|gif|webp)/i)&&this.loadImage(t)}},{key:"loadMultiple",value:function(t){var e=this;return this.loaded=0,this.toLoad=t.length,new Promise((function(n){e.resolver=n,t.forEach((function(t){e.startLoad(t)}))}))}}]),t}();function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;if(!e)return t.join(" ").trim();for(var n=[],r=t.length;r--;)e[t[r]]&&n.push(e[t[r]]);return n}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;return e&&e[t]||t}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return c})),n.d(e,"e",(function(){return h})),n.d(e,"d",(function(){return u})),n.d(e,"g",(function(){return f})),n.d(e,"f",(function(){return d}));var r=n(0);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a=function(t,e){"string"==typeof e&&t&&e.split(" ").forEach((function(e){t.classList.add(e)}))},l=function(t,e){"string"==typeof e&&t&&e.split(" ").forEach((function(e){t.classList.remove(e)}))},c=function(t){return"string"==typeof t&&t.split(" ")[0]||""},h=function(t){var e=Array.isArray(t)?t:[t];if(1===e.length)return e[0];for(var n=o({},e[0]),r=1;r<e.length;r+=1){for(var i in n)e[r][i]&&(n[i]=[n[i],e[r][i]].join(" "));for(var s in e[r])n[s]||(n[s]=e[r][s])}return n};function u(t){var e,n=t.rootElement,i=t.cssModule,o=t.disabled,s=t.organicArrows,a=t.className,l=t.total,c=t.current,h=t.infinite,u=t.animation,f=t.fillParent,d=[n];return u&&d.push("".concat(n,"--").concat(u)),!0===s&&d.push("".concat(n,"--organic-arrows")),!0===o&&d.push("".concat(n,"--disabled")),f&&d.push("".concat(n,"--fill-parent")),!1===h&&(0===c&&d.push("".concat(n,"--first")),c===l-1&&d.push("".concat(n,"--last"))),i&&i[n]&&(d=Object(r.b)(d,i)),a&&(e=d).push.apply(e,function(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(a.split(" "))),d.join(" ").trim().replace(/[\s]+/gi," ")}function f(t){var e=[];return(t.constructor===Array?t:[t]).forEach((function(t){var n=o({},t.props);t.props["data-src"]&&(n.source=t.props["data-src"]),t.props["data-slug"]&&(n.slug=t.props["data-slug"]),e.push(n)})),e}function d(t,e){return{boxA:Object(r.c)("".concat(t,"__boxA"),e),boxB:Object(r.c)("".concat(t,"__boxB"),e),box:Object(r.c)("".concat(t,"__box"),e),container:Object(r.c)("".concat(t,"__container"),e),wrapper:Object(r.c)("".concat(t,"__wrapper"),e),bar:Object(r.c)("".concat(t,"__bar"),e),barActive:Object(r.c)("".concat(t,"__bar--active"),e),barEnd:Object(r.c)("".concat(t,"__bar--end"),e),content:Object(r.c)("".concat(t,"__content"),e),contentStatic:Object(r.c)("".concat(t,"__content--static"),e),contentMoveLeft:Object(r.c)("".concat(t,"__content--moveLeft"),e),contentMoveRight:Object(r.c)("".concat(t,"__content--moveRight"),e),controlsHidden:Object(r.c)("".concat(t,"__controls--hidden"),e),controlsActive:Object(r.c)("".concat(t,"__controls--active"),e),animated:Object(r.c)("".concat(t,"--animated"),e),animatedMobile:Object(r.c)("".concat(t,"--animated-mobile"),e),contentExit:Object(r.c)("".concat(t,"__content--exit"),e),exit:Object(r.c)("".concat(t,"--exit"),e),active:Object(r.c)("".concat(t,"--active"),e),moveLeft:Object(r.c)("".concat(t,"--moveLeft"),e),moveRight:Object(r.c)("".concat(t,"--moveRight"),e),startUp:Object(r.c)("".concat(t,"__startUp"),e),bulletsLoading:Object(r.c)("".concat(t,"__bullets--loading"),e)}}},function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e,n){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function r(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.tolerance,i=void 0===r?0:r,o=n.propertyName;return new Promise((function(n){if(t){var r=null,s=e.charAt(0).toUpperCase()+e.slice(1),a=0;void 0!==t.style["Webkit"+s]&&(r="webkit"+s+"End"),void 0!==t.style.OTransition&&(r="o"+e+"End"),void 0!==t.style[e]&&(r=e+"end"),t.clearCssEndEvent&&t.clearCssEndEvent(),t.clearCssEndEvent=function(){t.removeEventListener(r,l)},t.addEventListener(r,l)}else n(!1);function l(e){if((e.srcElement||e.target)===t){if(a>=i){if(o&&o!==e.propertyName)return;t.removeEventListener(r,l),n(e)}a+=1}}}))}function i(t){window&&window.requestAnimationFrame((function(){window.requestAnimationFrame(t)}))}Object.defineProperty(e,"__esModule",{value:!0}),e.setCssEndEvent=r,e.beforeCssLayout=function(t){window&&window.requestAnimationFrame(t)},e.beforeNextCssLayout=i,e.beforeFutureCssLayout=function(t,e){!function t(e,n){window&&e&&Number.isInteger(e)&&e>0?window.requestAnimationFrame((function(){t(e-1,n)})):n()}(t+1,e)},e.onceNextCssLayout=function(){return new Promise((function(t){i(t)}))},e.onceTransitionEnd=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n){r(t,"transition",e).then(n)}))},e.onceAnimationEnd=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n){r(t,"animation",e).then(n)}))}}])},,function(t,e,n){t.exports=n(7)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return v}));var r=n(3),i=n.n(r),o=n(4),s=n(2),a=n.n(s),l=n(0),c=n(1);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g="awssld";function v(t){var e,n;return n=e=function(e){function n(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(e=function(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,d(n).call(this,t))).forceStop=!1,e.rootElement=t.rootElement||g,e.mergedStyles=Object(c.e)(t.cssModule),e.state={selected:0},e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(n,e),function(t,e,n){e&&f(t.prototype,e),n&&f(t,n)}(n,[{key:"componentWillReceiveProps",value:function(t){this.mergedStyles=Object(c.e)(t.cssModule),this.checkStartStatus(t)}},{key:"setInfo",value:function(t){this.currentInfo=t,t.currentIndex!==this.state.selected&&this.setState({selected:t.currentIndex})}},{key:"setTimer",value:function(t){var e=this;if(!0!==this.forceStop){var n=t.querySelector(".".concat(Object(c.c)(Object(l.c)("".concat(this.rootElement,"__timer"),this.mergedStyles)))),r=t.querySelector("div");r&&(n||(n=this.createBarElement(),r.appendChild(n)),n.classList.remove(Object(l.c)("".concat(this.rootElement,"__timer--animated"),this.mergedStyles)),Object(o.onceNextCssLayout)().then((function(){n.classList.remove(Object(l.c)("".concat(e.rootElement,"__timer--run"),e.mergedStyles)),n.classList.remove(Object(l.c)("".concat(e.rootElement,"__timer--fast"),e.mergedStyles)),Object(o.onceNextCssLayout)().then((function(){n.classList.add(Object(l.c)("".concat(e.rootElement,"__timer--animated"),e.mergedStyles)),Object(o.onceNextCssLayout)().then((function(){n.classList.add(Object(l.c)("".concat(e.rootElement,"__timer--run"),e.mergedStyles)),Object(o.onceTransitionEnd)(n).then((function(){e.clearBarAnimation(n),!0!==e.forceStop&&!1!==e.props.play&&e.goTonext()}))}))}))})))}}},{key:"getBarFromSlide",value:function(t){return t.querySelector(".".concat(Object(c.c)(Object(l.c)("".concat(this.rootElement,"__timer"),this.mergedStyles))))||null}},{key:"checkStartStatus",value:function(t){this.currentInfo&&this.props.play!==t.play&&(!0===t.play&&this.currentInfo&&this.setTimer(this.currentInfo.currentSlide),!1===t.play&&this.forceClearBar(this.currentInfo))}},{key:"createBarElement",value:function(){var t=document.createElement("div");return t.classList.add(Object(l.c)("".concat(this.rootElement,"__timer"),this.mergedStyles)),t.style.setProperty("--timer-delay","".concat(this.props.interval,"ms")),t.style.setProperty("--timer-height",this.props.timerHeight),t.style.setProperty("--timer-background-color",this.props.timerBackgroundColor),t}},{key:"clearBar",value:function(t){var e=this,n=this.getBarFromSlide(t.currentSlide);n&&(n.clearCssEndEvent&&n.clearCssEndEvent(),n.classList.add(Object(l.c)("".concat(this.rootElement,"__timer--fast"),this.mergedStyles)),Object(o.onceTransitionEnd)(n).then((function(){e.clearBarAnimation(n)})))}},{key:"clearBarAnimation",value:function(t){t.classList.remove(Object(l.c)("".concat(this.rootElement,"__timer--animated"),this.mergedStyles))}},{key:"restartBarAnimation",value:function(t){t.classList.remove(Object(l.c)("".concat(this.rootElement,"__timer--run"),this.mergedStyles)),t.classList.remove(Object(l.c)("".concat(this.rootElement,"__timer--fast"),this.mergedStyles))}},{key:"forceClearBar",value:function(t){var e=this.getBarFromSlide(t.currentSlide);this.restartBarAnimation(e)}},{key:"goTonext",value:function(){var t=this.currentInfo,e=t.currentIndex+1,n=e>t.slides-1?0:e;n!==this.state.selected?this.setState({selected:n}):this.forceClearBar(this.currentInfo)}},{key:"render",value:function(){var e=this,n=this.props,r=(n.inverval,n.play),o=n.cancelOnInteraction,s=(n.showTimer,n.onTransitionStart),a=n.onTransitionEnd,l=n.onFirstMount,c=n.onTransitionRequest,h=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(n,["inverval","play","cancelOnInteraction","showTimer","onTransitionStart","onTransitionEnd","onFirstMount","onTransitionRequest"]);return i.a.createElement(t,u({},h,{selected:this.state.selected,onFirstMount:function(t){l&&l(t),h.startupScreen||(e.setInfo(t),!0===r&&e.setTimer(t.currentSlide))},onTransitionStart:function(t){var n=e.getBarFromSlide(t.nextSlide);n&&e.restartBarAnimation(n),s&&s(t)},onTransitionRequest:function(t){e.clearBar(t),e.currentInfo=t,!0===o&&(e.forceStop=!0),c&&c(t)},onTransitionEnd:function(t){e.setInfo(t),!0===r&&e.setTimer(t.currentSlide),a&&a(t)}}))}}]),n}(r.Component),m(e,"propTypes",{interval:a.a.number,cssModule:a.a.any,play:a.a.bool,cancelOnInteraction:a.a.bool,timerHeight:a.a.string,timerBackgroundColor:a.a.string,showTimer:a.a.bool,onTransitionStart:a.a.func,onTransitionEnd:a.a.func,onTransitionRequest:a.a.func,rootElement:a.a.string}),m(e,"defaultProps",{interval:2e3,play:!1,cancelOnInteraction:!1,timerHeight:"6px",cssModule:null,timerBackgroundColor:"rgba(0, 0, 0, 0.15)",showTimer:!0,onTransitionStart:null,onTransitionEnd:null,onTransitionRequest:null,rootElement:g}),n}}])},t.exports=r(n(3980),n(2784))},1534:function(t,e,n){var r;r=function(t,e){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return s}));var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"undefined"!=typeof window&&(this.image=new Image,this.resolve=null,this.video=document.createElement("video"),this.events())}return function(t,e,n){e&&r(t.prototype,e),n&&r(t,n)}(t,[{key:"events",value:function(){var t=this;this.video.addEventListener("loadeddata",(function(){return t.resolve&&t.resolve(!0)})),this.video.addEventListener("loadeddata",(function(){return t.resolve&&t.resolve(!1)})),this.image.onload=function(){return t.resolve&&t.resolve(!0)},this.image.onerror=function(){return t.resolve&&t.resolve(!1)}}},{key:"load",value:function(t){var e=this;return new Promise((function(n){t||n(!0),e.resolve=n,e.loading=!0,e.ended=!1,t.match(/\.(mp4|webm)/i)&&e.video.setAttribute("src",t),t.match(/\.(png|jp(e)?g|gif|webp)/i)&&(e.image.src=t,(e.image.width>0||e.image.height>0)&&n(!0))}))}},{key:"loadImage",value:function(t){var e=this,n=new Image,r=!1;n.onload=function(){r||e.pumpLoaded()},n.onerror=function(){r||e.pumpLoaded()},n.src=t,!1===r&&(n.width>0||n.height>0)&&(r=!0,this.pumpLoaded())}},{key:"loadVideo",value:function(t){var e=this,n=document.createElement("video");n.addEventListener("loadeddata",(function(){e.pumpLoaded()})),n.addEventListener("error",(function(){e.pumpLoaded()})),n.setAttribute("src",t)}},{key:"pumpLoaded",value:function(){this.loaded+=1,this.loaded===this.toLoad&&this.resolver(!0)}},{key:"startLoad",value:function(t){t.match(/\.(mp4|webm)/i)&&this.loadVideo(t),t.match(/\.(png|jp(e)?g|gif|webp)/i)&&this.loadImage(t)}},{key:"loadMultiple",value:function(t){var e=this;return this.loaded=0,this.toLoad=t.length,new Promise((function(n){e.resolver=n,t.forEach((function(t){e.startLoad(t)}))}))}}]),t}();function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;if(!e)return t.join(" ").trim();for(var n=[],r=t.length;r--;)e[t[r]]&&n.push(e[t[r]]);return n}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;return e&&e[t]||t}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return c})),n.d(e,"e",(function(){return h})),n.d(e,"d",(function(){return u})),n.d(e,"g",(function(){return f})),n.d(e,"f",(function(){return d}));var r=n(0);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a=function(t,e){"string"==typeof e&&t&&e.split(" ").forEach((function(e){t.classList.add(e)}))},l=function(t,e){"string"==typeof e&&t&&e.split(" ").forEach((function(e){t.classList.remove(e)}))},c=function(t){return"string"==typeof t&&t.split(" ")[0]||""},h=function(t){var e=Array.isArray(t)?t:[t];if(1===e.length)return e[0];for(var n=o({},e[0]),r=1;r<e.length;r+=1){for(var i in n)e[r][i]&&(n[i]=[n[i],e[r][i]].join(" "));for(var s in e[r])n[s]||(n[s]=e[r][s])}return n};function u(t){var e,n=t.rootElement,i=t.cssModule,o=t.disabled,s=t.organicArrows,a=t.className,l=t.total,c=t.current,h=t.infinite,u=t.animation,f=t.fillParent,d=[n];return u&&d.push("".concat(n,"--").concat(u)),!0===s&&d.push("".concat(n,"--organic-arrows")),!0===o&&d.push("".concat(n,"--disabled")),f&&d.push("".concat(n,"--fill-parent")),!1===h&&(0===c&&d.push("".concat(n,"--first")),c===l-1&&d.push("".concat(n,"--last"))),i&&i[n]&&(d=Object(r.b)(d,i)),a&&(e=d).push.apply(e,function(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(a.split(" "))),d.join(" ").trim().replace(/[\s]+/gi," ")}function f(t){var e=[];return(t.constructor===Array?t:[t]).forEach((function(t){var n=o({},t.props);t.props["data-src"]&&(n.source=t.props["data-src"]),t.props["data-slug"]&&(n.slug=t.props["data-slug"]),e.push(n)})),e}function d(t,e){return{boxA:Object(r.c)("".concat(t,"__boxA"),e),boxB:Object(r.c)("".concat(t,"__boxB"),e),box:Object(r.c)("".concat(t,"__box"),e),container:Object(r.c)("".concat(t,"__container"),e),wrapper:Object(r.c)("".concat(t,"__wrapper"),e),bar:Object(r.c)("".concat(t,"__bar"),e),barActive:Object(r.c)("".concat(t,"__bar--active"),e),barEnd:Object(r.c)("".concat(t,"__bar--end"),e),content:Object(r.c)("".concat(t,"__content"),e),contentStatic:Object(r.c)("".concat(t,"__content--static"),e),contentMoveLeft:Object(r.c)("".concat(t,"__content--moveLeft"),e),contentMoveRight:Object(r.c)("".concat(t,"__content--moveRight"),e),controlsHidden:Object(r.c)("".concat(t,"__controls--hidden"),e),controlsActive:Object(r.c)("".concat(t,"__controls--active"),e),animated:Object(r.c)("".concat(t,"--animated"),e),animatedMobile:Object(r.c)("".concat(t,"--animated-mobile"),e),contentExit:Object(r.c)("".concat(t,"__content--exit"),e),exit:Object(r.c)("".concat(t,"--exit"),e),active:Object(r.c)("".concat(t,"--active"),e),moveLeft:Object(r.c)("".concat(t,"--moveLeft"),e),moveRight:Object(r.c)("".concat(t,"--moveRight"),e),startUp:Object(r.c)("".concat(t,"__startUp"),e),bulletsLoading:Object(r.c)("".concat(t,"__bullets--loading"),e)}}},function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e,n){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function r(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.tolerance,i=void 0===r?0:r,o=n.propertyName;return new Promise((function(n){if(t){var r=null,s=e.charAt(0).toUpperCase()+e.slice(1),a=0;void 0!==t.style["Webkit"+s]&&(r="webkit"+s+"End"),void 0!==t.style.OTransition&&(r="o"+e+"End"),void 0!==t.style[e]&&(r=e+"end"),t.clearCssEndEvent&&t.clearCssEndEvent(),t.clearCssEndEvent=function(){t.removeEventListener(r,l)},t.addEventListener(r,l)}else n(!1);function l(e){if((e.srcElement||e.target)===t){if(a>=i){if(o&&o!==e.propertyName)return;t.removeEventListener(r,l),n(e)}a+=1}}}))}function i(t){window&&window.requestAnimationFrame((function(){window.requestAnimationFrame(t)}))}Object.defineProperty(e,"__esModule",{value:!0}),e.setCssEndEvent=r,e.beforeCssLayout=function(t){window&&window.requestAnimationFrame(t)},e.beforeNextCssLayout=i,e.beforeFutureCssLayout=function(t,e){!function t(e,n){window&&e&&Number.isInteger(e)&&e>0?window.requestAnimationFrame((function(){t(e-1,n)})):n()}(t+1,e)},e.onceNextCssLayout=function(){return new Promise((function(t){i(t)}))},e.onceTransitionEnd=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n){r(t,"transition",e).then(n)}))},e.onceAnimationEnd=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n){r(t,"animation",e).then(n)}))}}])},function(t,e,n){t.exports=n(13)},,,,,,,,function(t,e,n){"use strict";n.r(e);var r=n(3),i=n.n(r),o=n(2),s=n.n(o),a=n(4),l=n(0),c=n(1);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=function(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?d(t):e}(this,f(e).call(this,t)),m(d(n),"bulletClick",(function(t){var e=t.currentTarget;e.classList.add(Object(l.c)("".concat(n.rootElement,"__bullets--loading"),n.props.cssModule));var r=parseInt(e.getAttribute("data-index"),10),i=!(n.props.selected>r);n.props.onClick({index:r,direction:i})})),n.rootElement=t.rootElement,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,t),function(t,e,n){e&&u(t.prototype,e),n&&u(t,n)}(e,[{key:"renderBullets",value:function(){var t=this,e=this.props,n=e.cssModule,r=e.selected,o=e.media;return(void 0===o?[]:o).map((function(e,o){var s=o===r?Object(l.c)("".concat(t.rootElement,"__bullets--active"),n):null;return i.a.createElement("button",{key:"bullet-".concat(o),"data-index":o,onClick:t.bulletClick,className:s},o)}))}},{key:"render",value:function(){var t=this.props,e=t.cssModule,n=t.rootElement;return i.a.createElement("nav",{className:Object(l.c)("".concat(n,"__bullets"),e)},this.renderBullets())}}]),e}(i.a.Component);function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,e){return!e||"object"!==v(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function k(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}m(g,"propTypes",{cssModule:s.a.object,rootElement:s.a.string.isRequired,media:s.a.array,onClick:s.a.func,selected:s.a.number}),m(g,"defaultProps",{cssModule:null,selected:0,media:[],onClick:function(){}});var S=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),b(this,w(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(e,t),function(t,e,n){e&&y(t.prototype,e),n&&y(t,n)}(e,[{key:"componentDidMount",value:function(){this.props.onMount({element:this.controls,next:this.next,prev:this.prev})}},{key:"render",value:function(){var t=this,e=this.props,n=e.rootElement,r=e.cssModule,o=e.organicArrows,s=e.buttonContentLeft,a=e.buttonContentRight,c=e.onNext,h=e.onPrev;return i.a.createElement("div",{ref:function(e){t.controls=e,t.props.onMount({element:t.controls,next:t.next||null,prev:t.prev||null})},className:[Object(l.c)("".concat(n,"__controls"),r),Object(l.c)("".concat(n,"__controls--hidden"),r)].join(" ")},i.a.createElement("button",{ref:function(e){t.next=e},"aria-label":"next",className:Object(l.c)("".concat(n,"__next"),r),onClick:c},o?i.a.createElement("span",{className:Object(l.c)("".concat(n,"__controls__arrow-right"),r)}):a),i.a.createElement("button",{ref:function(e){t.prev=e},"aria-label":"previous",className:Object(l.c)("".concat(n,"__prev"),r),onClick:h},o?i.a.createElement("span",{className:Object(l.c)("".concat(n,"__controls__arrow-left"),r)}):s))}}]),e}(i.a.Component);function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C(){return(C=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function A(t){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function E(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M(t,e){return(M=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function T(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}k(S,"propTypes",{cssModule:s.a.object,rootElement:s.a.string.isRequired,onMount:s.a.func.isRequired,onNext:s.a.func.isRequired,onPrev:s.a.func.isRequired,buttonContentLeft:s.a.node,buttonContentRight:s.a.node,organicArrows:s.a.bool}),k(S,"defaultProps",{cssModule:null,organicArrows:!0,buttonContentLeft:null,buttonContentRight:null});var _=function(t){function e(){var t,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=function(t,e){return!e||"object"!==O(e)&&"function"!=typeof e?E(t):e}(this,(t=A(e)).call.apply(t,[this].concat(i))),T(E(n),"state",{}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&M(t,e)}(e,t),function(t,e,n){e&&j(t.prototype,e),n&&j(t,n)}(e,[{key:"render",value:function(){var t=this.props,e=t.media,n=t.className,r=e.source,o=e.children,s=e.style,a=(e.loader,e["data-src"],e["data-alt"],e.className),l=(e.onTransitionEnd,e.onTransitionStartOut,e.onTransitionStartIn,e.onTransitionRequestOut,e.onTransitionRequestIn,function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(e,["source","children","style","loader","data-src","data-alt","className","onTransitionEnd","onTransitionStartOut","onTransitionStartIn","onTransitionRequestOut","onTransitionRequestIn"])),c=null;return r&&(c=r.match(/\.(mp4|webm)/)?i.a.createElement("video",{title:e.title||e["data-title"],src:r,type:"video/mp4",controls:!0}):i.a.createElement("img",{alt:e.alt||e.title||e["data-alt"]||null,src:r})),i.a.createElement("div",C({className:n,style:s||null},l),c,o&&i.a.createElement("div",{className:a},e.children))}}]),e}(i.a.Component);function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function D(){return(D=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function N(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function B(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(Object(n),!0).forEach((function(e){z(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function R(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function L(t){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function q(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F(t,e){return(F=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function z(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}T(_,"propTypes",{media:s.a.object.isRequired,className:s.a.string.isRequired});var H="awssld",W=new l.a,V=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=function(t,e){return!e||"object"!==P(e)&&"function"!=typeof e?q(t):e}(this,L(e).call(this,t)),z(q(n),"clickNext",(function(){var t=null===n.index?0:n.index+1;n.onTransitionRequest("next",t),n.goTo({index:t,direction:!0})})),z(q(n),"clickPrev",(function(){var t=n.index-1;n.onTransitionRequest("prev",t),n.goTo({index:t,direction:!1})})),z(q(n),"touchStart",(function(t){if(!n.animating&&null!==n.index){var e=t.nativeEvent;n.touchStartPoint=e.touches[0].clientX}})),z(q(n),"touchMove",(function(t){if(!n.animating&&n.touchStartPoint){var e=t.nativeEvent,r=e.touches[0].clientX-n.touchStartPoint,i=n[n.active],o=n[n.loader],s=!(r>0),a=Math.abs(r);!1!==n.touchEnabled?a>=10&&(!1===n.loading?n.goTo({index:s?n.index+1:n.index-1,direction:s,touch:!0}):!0===n.direction?(r+=10,Math.abs(r)>i.offsetWidth?r=-i.offsetWidth:r>0&&(r=0),i.style.transform="translate3d(".concat(r,"px, 0, 0)"),o.style.transform="translate3d(calc(100% + ".concat(r,"px), 0, 0)")):(r-=10,Math.abs(r)>i.offsetWidth?r=i.offsetWidth:r<0&&(r=0),i.style.transform="translate3d(".concat(r,"px, 0, 0)"),o.style.transform="translate3d(calc(-100% + ".concat(r,"px), 0, 0)"))):a>20&&(n.touchEnabled=!0,n.touchStartPoint=e.touches[0].clientX)}})),z(q(n),"touchEnd",(function(){!n.animating&&n.touchStartPoint&&n.loading&&(n.touchStartPoint=null,n.animating=!0,n.touchEnabled=!1,n.animateMobileEnd((function(){n.index=n.nextIndex,n.setState({index:n.index}),n.onTransitionEnd(),n.animating=!1,n.loading=!1,n.unchargeIndex()})))})),z(q(n),"bulletClick",(function(t){var e=t.currentTarget,r=parseInt(e.getAttribute("data-index"),10);n.goTo({index:r,direction:!(n.index>r)},(function(){Object(a.onceNextCssLayout)().then((function(){Object(c.a)(e,n.classNames.bulletsLoading)}))}))})),n.rootElement=t.rootElement||H,n.boxA=null,n.boxB=null,n.loaded=[],n.active="boxA",n.loader="boxB",n.nextIndex=null,n.loading=!1,n.media=null,n.started=!1,n.touchEnabled=!1,n.setupStartup(t),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&F(t,e)}(e,t),function(t,e,n){e&&R(t.prototype,e),n&&R(t,n)}(e,[{key:"componentDidMount",value:function(){var t=this;Object(c.a)(this.boxA,this.classNames.active),this.props.startupScreen&&(this.buttons&&(Object(c.a)(this.buttons.element,this.classNames.controlsHidden),Object(c.a)(this.buttons.element,this.classNames.controlsActive)),!0===this.props.startup&&this.media.length>0&&this.startup()),this.props.onFirstMount&&this.props.onFirstMount(B({},this.getInfo())),this.buttons&&Object(a.onceNextCssLayout)().then((function(){t.buttons&&t.buttons.element&&Object(c.b)(t.buttons.element,t.classNames.controlsHidden)}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){if(this.checkChildren(t),this.setupClassNames(Object(c.e)(t.cssModule)),t.name===this.props.name)if(!0!==t.startup||!1!==this.started)if(t.selected===this.props.selected)this.refreshSlider();else{var e=this.getIndex(t.selected),n=!0===t.infinite&&0===e&&this.index===this.media.length-1||!(this.index>e);this.goTo({index:e,direction:n})}else this.startup();else this.resetSlider(t.selected)}},{key:"onTransitionStart",value:function(){var t=this.media[this.index],e=this.media[this.nextIndex],n=B({},this.getInfo(),{nextSlide:this[this.loader],nextIndex:this.nextIndex,nextMedia:e});this.props.onTransitionStart&&this.props.onTransitionStart(n),t&&t.onTransitionStartOut&&t.onTransitionStartOut(n),e&&e.onTransitionStartIn&&e.onTransitionStartIn(n)}},{key:"onTransitionRequest",value:function(t,e){var n=this.media[this.index],r=this.checkIndex(e),i=this.media[r],o=B({eventName:t},this.getInfo(),{nextSlide:null,nextIndex:r,nextMedia:i});this.props.onTransitionRequest&&this.props.onTransitionRequest(o),n&&n.onTransitionRequestOut&&n.onTransitionRequestOut(o),i&&i.onTransitionRequestIn&&i.onTransitionRequestIn(o)}},{key:"onTransitionEnd",value:function(){var t=this.media[this.index],e=B({},this.getInfo());this.props.onTransitionEnd&&this.props.onTransitionEnd(e),t&&t.onTransitionEnd&&t.onTransitionEnd(e)}},{key:"getRootClassName",value:function(){var t=this.props,e=t.animation,n=t.className,r=t.cssModule,i=t.disabled,o=t.fillParent,s=t.infinite,a=t.organicArrows;return Object(c.d)({animation:e,className:n,cssModule:Object(c.e)(r),current:this.state.index,disabled:i,fillParent:o,infinite:s,organicArrows:a,rootElement:this.rootElement,total:this.media.length})}},{key:"setupStartup",value:function(t){if(this.checkChildren(t),this.setupClassNames(Object(c.e)(t.cssModule)),t.startupScreen){var e=this.getIndex(this.props.selected);this.index=null,this.state={index:this.index,boxA:{className:this.classNames.startUp,children:t.startupScreen},boxB:this.media[e]||null}}else this.started=!0,this.index=this.getIndex(this.props.selected),this.state={index:this.index,boxA:this.media[this.index]||null,boxB:null}}},{key:"getInfo",value:function(){return{slides:this.media.length,currentIndex:this.index,currentSlide:this[this.active],currentMedia:this.media[this.index],element:this.slider}}},{key:"getProgressBar",value:function(){if(!document)return{};var t=document.createElement("div");return t.className=this.classNames.bar,t}},{key:"setupClassNames",value:function(t){this.classNames=Object(c.f)(this.rootElement,t)}},{key:"getIndex",value:function(t){var e=0;return"number"==typeof t?t:("string"==typeof t&&this.media.forEach((function(n,r){n.slug===t&&(e=r)})),e)}},{key:"refreshSlider",value:function(){var t;if(!0!==this.loading&&!1!==this.props.startup&&null!==this.index){var e=this.index;this.setState((z(t={index:e},this.active,this.media[this.getIndex(e)]),z(t,this.loader,null),t))}}},{key:"startup",value:function(){var t=this;this.started=!0,setTimeout((function(){t.goTo({index:t.props.selected,direction:!0,touch:!1})}),this.props.startupDelay||75)}},{key:"resetSlider",value:function(){var t,e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.index=n,this.setState((z(t={index:n},this.active,this.media[this.getIndex(n)]),z(t,this.loader,null),t),(function(){e.props.onResetSlider&&e.props.onResetSlider(B({},e.getInfo()))}))}},{key:"checkChildren",value:function(t){t.children&&(t.children!==this.props.children||this.props.children&&!this.media)?this.media=Object(c.g)(t.children):t.media&&t.media.length?this.media=t.media:this.media||(this.media=[])}},{key:"startBarAnimation",value:function(t){var e=this,n=t.active;return new Promise((function(t){e.bar=e.getProgressBar(),n.appendChild(e.bar),Object(a.onceNextCssLayout)().then((function(){Object(a.onceNextCssLayout)().then((function(){Object(c.a)(e.bar,e.classNames.barActive),t()}))}))}))}},{key:"endBarAnimation",value:function(t){var e=this;this.bar&&Object(a.onceNextCssLayout)().then((function(){Object(a.onceTransitionEnd)(e.bar).then((function(){t()})),Object(c.a)(e.bar,e.classNames.barEnd)}))}},{key:"loadContent",value:function(t,e){var n=this;return new Promise((function(r,i){if(n.props.onLoadStart||e&&e.onLoadStart){var o=n.props.onLoadStart||e&&e.onLoadStart;return n.startBarAnimation({active:t}),void o(B({next:function(){n.endBarAnimation((function(){r(n.bar)}))},error:i},n.getInfo()))}if(e&&(e.source||e.preload)){var s=e.preload?e.preload:e.source&&[e.source]||[];return!0===n.checkLoadedUrls(s)?void r(null):(n.startBarAnimation({active:t}),void W.loadMultiple(s).then((function(){n.pushLoaded(s),n.endBarAnimation((function(){r(n.bar)}))})))}r(null)}))}},{key:"pushLoaded",value:function(t){this.loaded=[].concat(N(this.loaded),N(t))}},{key:"checkLoadedUrls",value:function(t){var e=this,n=!0;return t.forEach((function(t){e.loaded.includes(t)||(n=!1)})),n}},{key:"startAnimationMobile",value:function(){var t=this.direction,e=this[this.active],n=this[this.loader],r=t?this.classNames.contentMoveRight:this.classNames.contentMoveLeft,i=t?this.classNames.contentMoveLeft:this.classNames.contentMoveRight;this.props.onTransitionStart&&this.props.onTransitionStart(B({},this.getInfo(),{nextSlide:this[this.loader],nextIndex:this.nextIndex,nextMedia:this.media[this.nextIndex]}));var o=e.querySelector(".".concat(Object(c.c)(this.classNames.content)));Object(c.a)(o,i),Object(c.a)(o,this.classNames.contentExit);var s=n.querySelector(".".concat(Object(c.c)(this.classNames.content)));Object(c.a)(s,r),Object(c.a)(s,this.classNames.contentStatic),Object(c.a)(e,this.classNames.animated),Object(c.a)(n,this.classNames.animated)}},{key:"animateMobileEnd",value:function(t){var e=this,n=this.direction,r=this[this.active],i=this[this.loader],o=n?this.classNames.moveLeft:this.classNames.moveRight,s=n?this.classNames.contentMoveRight:this.classNames.contentMoveLeft,l=n?this.classNames.contentMoveLeft:this.classNames.contentMoveRight,h=i.querySelector(".".concat(Object(c.c)(this.classNames.content))),u=r.querySelector(".".concat(Object(c.c)(this.classNames.content)));Object(c.b)(h,this.classNames.contentStatic),Object(c.a)(i,this.classNames.animatedMobile),Object(c.a)(r,this.classNames.animatedMobile),Object(a.onceNextCssLayout)().then((function(){i.style.transform="translate3d(0, 0, 0)",r.style.transform="translate3d(".concat(e.direction?"-":"","100%, 0, 0)"),Object(a.onceTransitionEnd)(r).then((function(){e.loading&&(Object(c.b)(r,e.classNames.animated),Object(c.b)(i,e.classNames.animated),Object(c.a)(i,e.classNames.active),Object(c.b)(r,e.classNames.active),Object(c.b)(r,o),Object(c.b)(i,e.classNames.animatedMobile),Object(c.b)(r,e.classNames.animatedMobile),Object(c.b)(u,l),Object(c.b)(u,e.classNames.contentExit),Object(c.b)(h,s),e.buttons&&setTimeout((function(){e.buttons&&Object(c.b)(e.buttons.element,e.classNames.controlsActive)}),e.props.controlsReturnDelay),e.activeArrow&&(Object(c.b)(e.activeArrow,e.activeArrowClass),e.activeArrow=null,e.activeArrowClass=null),e.active="boxA"===e.active?"boxB":"boxA",e.loader="boxA"===e.active?"boxB":"boxA",t&&t())}))}))}},{key:"runAnimation",value:function(t){var e=this,n=t.active,r=t.media,i=t.contentExitMoveClass,o=t.contentEnterMoveClass,s=t.activeContentElement,l=t.loaderContentElement,h=t.loader,u=t.loaderPosition,f=t.exitPosition,d=t.callback,p=t.transitionDelay;this.loadContent(n,r).then((function(t){Object(c.a)(s,i),Object(c.a)(s,e.classNames.contentExit),Object(c.a)(l,o),Object(c.a)(l,e.classNames.contentStatic),setTimeout((function(){Object(a.onceNextCssLayout)().then((function(){Object(c.a)(n,e.classNames.animated),Object(c.a)(h,e.classNames.animated),Object(c.b)(l,e.classNames.contentStatic),Object(c.a)(n,e.classNames.exit),Object(c.a)(h,u),Object(c.a)(n,f),Object(a.onceAnimationEnd)(n).then((function(){Object(c.a)(h,e.classNames.active),Object(c.b)(h,u),Object(c.b)(h,e.classNames.animated),Object(c.b)(n,e.classNames.animated),Object(c.b)(n,e.classNames.active),Object(c.b)(n,f),Object(c.b)(n,e.classNames.exit),Object(c.b)(s,i),Object(c.b)(s,e.classNames.contentExit),Object(c.b)(l,o),t&&n.removeChild(t),e.buttons&&setTimeout((function(){e.buttons&&Object(c.b)(e.buttons.element,e.classNames.controlsActive)}),e.props.controlsReturnDelay),e.active="boxA"===e.active?"boxB":"boxA",e.loader="boxA"===e.active?"boxB":"boxA";var r=!e.activeArrow;e.activeArrow&&(Object(a.onceTransitionEnd)(e.activeArrow,{tolerance:null===e.index?0:2}).then((function(){e.releaseTransition()})),Object(c.b)(e.activeArrow,e.activeArrowClass),e.activeArrow=null,e.activeArrowClass=null),d({release:r})}))}))}),p)}))}},{key:"releaseTransition",value:function(){this.loading=!1}},{key:"startAnimation",value:function(t,e,n){var r=this.props.transitionDelay,i=this[this.active],o=this[this.loader],s=t?this.classNames.moveRight:this.classNames.moveLeft,a=t?this.classNames.moveLeft:this.classNames.moveRight,l=t?this.classNames.contentMoveRight:this.classNames.contentMoveLeft,h=t?this.classNames.contentMoveLeft:this.classNames.contentMoveRight,u=i.querySelector(".".concat(Object(c.c)(this.classNames.content))),f=o.querySelector(".".concat(Object(c.c)(this.classNames.content)));i.style.removeProperty("transform"),o.style.removeProperty("transform"),this.onTransitionStart();var d={active:i,media:e,contentExitMoveClass:h,contentEnterMoveClass:l,activeContentElement:u,loaderContentElement:f,loader:o,loaderPosition:s,exitPosition:a,callback:n,transitionDelay:r};this.runAnimation(d)}},{key:"goTo",value:function(t){var e=this,n=t.index,r=t.direction,i=t.touch,o=void 0!==i&&i,s=this.getIndex(n);!0!==this.loading&&n!==this.index?(this.loading=!0,this.direction=r,!0!==o?this.activateArrows(r,(function(){e.chargeIndex(s,(function(t){e.renderedLoader=!0,e.startAnimation(r,t,(function(t){var n=t.release,r=void 0===n||n;e.index=e.nextIndex,e.setState({index:e.index},(function(){e.onTransitionEnd(),!0===r&&e.releaseTransition()}))}))}))})):this.chargeIndex(s,(function(){e.activateArrows(r),e.startAnimationMobile()}))):this.props.onTransitionReject&&this.props.onTransitionReject(B({},this.getInfo(),{forceTransition:function(){e.goTo({index:n,direction:r,touch:o})}}))}},{key:"checkIndex",value:function(t){return t>this.media.length-1?0:t<0?this.media.length-1:t}},{key:"chargeIndex",value:function(t,e){this.nextIndex=this.checkIndex(t);var n={},r=this.media[this.nextIndex];n[this.loader]=B({loader:!0},r),this.setState(n,(function(){e(r)}))}},{key:"unchargeIndex",value:function(){var t={};t[this.loader]=null,this.setState(t,(function(){}))}},{key:"activateArrows",value:function(t,e){var n=t?"right":"left",r=Object(c.e)(this.props.cssModule),i=Object(c.c)(Object(l.c)("".concat(this.rootElement,"__controls__arrow-").concat(n),r));if(this.buttons){var o=t?this.buttons.next:this.buttons.prev;this.activeArrow=o.querySelector(".".concat(i))}!this.activeArrow||this.buttons&&this.buttons.element&&this.buttons.element.classList.contains(this.classNames.controlsActive)?e&&e():(this.activeArrowClass=Object(l.c)("".concat(this.rootElement,"__controls__arrow-").concat(n,"--active"),r),Object(a.onceTransitionEnd)(this.activeArrow,{tolerance:null===this.index?0:2}).then((function(){e&&e()})),this.buttons&&this.buttons.element&&(Object(c.a)(this.buttons.element,this.classNames.controlsActive),Object(c.a)(this.activeArrow,this.activeArrowClass)))}},{key:"renderBox",value:function(t){var e=this,n={};return this.props.mobileTouch&&(n.onTouchStart=this.touchStart,n.onTouchMove=this.touchMove,n.onTouchEnd=this.touchEnd),i.a.createElement("div",D({ref:function(n){e["box".concat(t)]=n},className:this.classNames.box},n),this.state["box".concat(t)]&&i.a.createElement(_,{media:this.state["box".concat(t)],className:this.classNames.content}))}},{key:"render",value:function(){var t=this,e=this.props,n=e.cssModule,r=e.organicArrows,o=e.bullets,s=e.style,a=e.customContent,l=e.buttons,h=e.buttonContentLeft,u=e.buttonContentRight,f=this.rootElement;return i.a.createElement("div",{ref:function(e){t.slider=e},className:this.getRootClassName(),style:s},i.a.createElement("div",{ref:function(e){t.wrapper=e},className:this.classNames.wrapper},i.a.createElement("div",{ref:function(e){t.container=e},className:this.classNames.container},this.renderBox("A"),this.renderBox("B")),l&&i.a.createElement(S,{rootElement:f,cssModule:Object(c.e)(n),onMount:function(e){t.buttons=e},onNext:this.clickNext,onPrev:this.clickPrev,organicArrows:r,buttonContentLeft:h,buttonContentRight:u}),a),o&&i.a.createElement(g,{cssModule:Object(c.e)(n),rootElement:f,media:this.media,selected:this.state.index,onClick:function(e){t.onTransitionRequest("bullet",e.index),t.goTo(e)}}))}}]),e}(i.a.Component);z(V,"propTypes",{animation:s.a.string,bullets:s.a.bool,buttonContentLeft:s.a.node,buttonContentRight:s.a.node,buttons:s.a.bool,children:s.a.node,className:s.a.string,controlsReturnDelay:s.a.number,cssModule:s.a.any,customContent:s.a.node,onLoadStart:s.a.func,disabled:s.a.bool,fillParent:s.a.bool,infinite:s.a.bool,media:s.a.array,name:s.a.string,onFirstMount:s.a.func,onResetSlider:s.a.func,onStartupRelease:s.a.func,onTransitionEnd:s.a.func,onTransitionRequest:s.a.func,onTransitionStart:s.a.func,organicArrows:s.a.bool,rootElement:s.a.string,selected:s.a.any,startup:s.a.bool,startupDelay:s.a.number,startupScreen:s.a.object,style:s.a.object,transitionDelay:s.a.number,mobileTouch:s.a.bool}),z(V,"defaultProps",{animation:null,bullets:!0,buttonContentLeft:null,buttonContentRight:null,buttons:!0,children:null,className:null,controlsReturnDelay:0,cssModule:null,customContent:null,onLoadStart:null,disabled:!1,fillParent:!1,infinite:!0,media:[],name:"awesome-slider",onFirstMount:null,onResetSlider:null,onStartupRelease:null,onTransitionEnd:null,onTransitionRequest:null,onTransitionStart:null,organicArrows:!0,rootElement:H,selected:0,startup:!0,startupDelay:0,startupScreen:null,style:{},transitionDelay:0,mobileTouch:!0}),e.default=V}])},t.exports=r(n(3980),n(2784))},1997:function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return u.default}}),e.default=void 0;var i=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var n=m(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var a=o?Object.getOwnPropertyDescriptor(t,s):null;a&&(a.get||a.set)?Object.defineProperty(i,s,a):i[s]=t[s]}i.default=t,n&&n.set(t,i);return i}(n(2784)),o=p(n(3980)),s=p(n(8316)),a=p(n(6277)),l=n(4688),c=n(3585),h=n(136),u=p(n(3816)),f=p(n(1177)),d=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function p(t){return t&&t.__esModule?t:{default:t}}function m(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(m=function(t){return t?n:e})(t)}function g(){return(g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function v(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){E(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function w(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(l){a=!0,i=l}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return x(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function S(t,e){return(S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function O(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=A(t);if(e){var i=A(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return C(this,n)}}function C(t,e){if(e&&("object"===r(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return j(t)}function j(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A(t){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function E(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var M=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}(h,t);var e,n,r,o=O(h);function h(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),E(j(e=o.call(this,t)),"onDragStart",(function(t,n){if((0,f.default)("Draggable: onDragStart: %j",n),!1===e.props.onStart(t,(0,c.createDraggableData)(j(e),n)))return!1;e.setState({dragging:!0,dragged:!0})})),E(j(e),"onDrag",(function(t,n){if(!e.state.dragging)return!1;(0,f.default)("Draggable: onDrag: %j",n);var r=(0,c.createDraggableData)(j(e),n),i={x:r.x,y:r.y};if(e.props.bounds){var o=i.x,s=i.y;i.x+=e.state.slackX,i.y+=e.state.slackY;var a=w((0,c.getBoundPosition)(j(e),i.x,i.y),2),l=a[0],h=a[1];i.x=l,i.y=h,i.slackX=e.state.slackX+(o-i.x),i.slackY=e.state.slackY+(s-i.y),r.x=i.x,r.y=i.y,r.deltaX=i.x-e.state.x,r.deltaY=i.y-e.state.y}if(!1===e.props.onDrag(t,r))return!1;e.setState(i)})),E(j(e),"onDragStop",(function(t,n){if(!e.state.dragging)return!1;if(!1===e.props.onStop(t,(0,c.createDraggableData)(j(e),n)))return!1;(0,f.default)("Draggable: onDragStop: %j",n);var r={dragging:!1,slackX:0,slackY:0};if(Boolean(e.props.position)){var i=e.props.position,o=i.x,s=i.y;r.x=o,r.y=s}e.setState(r)})),e.state={dragging:!1,dragged:!1,x:t.position?t.position.x:t.defaultPosition.x,y:t.position?t.position.y:t.defaultPosition.y,prevPropsPosition:b({},t.position),slackX:0,slackY:0,isElementSVG:!1},!t.position||t.onDrag||t.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),e}return e=h,r=[{key:"getDerivedStateFromProps",value:function(t,e){var n=t.position,r=e.prevPropsPosition;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,f.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:b({},n)})}}],(n=[{key:"componentDidMount",value:function(){"undefined"!==typeof window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var t,e,n;return null!==(t=null===(e=this.props)||void 0===e||null===(n=e.nodeRef)||void 0===n?void 0:n.current)&&void 0!==t?t:s.default.findDOMNode(this)}},{key:"render",value:function(){var t,e=this.props,n=(e.axis,e.bounds,e.children),r=e.defaultPosition,o=e.defaultClassName,s=e.defaultClassNameDragging,h=e.defaultClassNameDragged,f=e.position,p=e.positionOffset,m=(e.scale,v(e,d)),y={},w=null,x=!Boolean(f)||this.state.dragging,k=f||r,S={x:(0,c.canDragX)(this)&&x?this.state.x:k.x,y:(0,c.canDragY)(this)&&x?this.state.y:k.y};this.state.isElementSVG?w=(0,l.createSVGTransform)(S,p):y=(0,l.createCSSTransform)(S,p);var O=(0,a.default)(n.props.className||"",o,(E(t={},s,this.state.dragging),E(t,h,this.state.dragged),t));return i.createElement(u.default,g({},m,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),i.cloneElement(i.Children.only(n),{className:O,style:b(b({},n.props.style),y),transform:w}))}}])&&k(e.prototype,n),r&&k(e,r),h}(i.Component);e.default=M,E(M,"displayName","Draggable"),E(M,"propTypes",b(b({},u.default.propTypes),{},{axis:o.default.oneOf(["both","x","y","none"]),bounds:o.default.oneOfType([o.default.shape({left:o.default.number,right:o.default.number,top:o.default.number,bottom:o.default.number}),o.default.string,o.default.oneOf([!1])]),defaultClassName:o.default.string,defaultClassNameDragging:o.default.string,defaultClassNameDragged:o.default.string,defaultPosition:o.default.shape({x:o.default.number,y:o.default.number}),positionOffset:o.default.shape({x:o.default.oneOfType([o.default.number,o.default.string]),y:o.default.oneOfType([o.default.number,o.default.string])}),position:o.default.shape({x:o.default.number,y:o.default.number}),className:h.dontSetMe,style:h.dontSetMe,transform:h.dontSetMe})),E(M,"defaultProps",b(b({},u.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))},3816:function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var n=f(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var a=o?Object.getOwnPropertyDescriptor(t,s):null;a&&(a.get||a.set)?Object.defineProperty(i,s,a):i[s]=t[s]}i.default=t,n&&n.set(t,i);return i}(n(2784)),o=u(n(3980)),s=u(n(8316)),a=n(4688),l=n(3585),c=n(136),h=u(n(1177));function u(t){return t&&t.__esModule?t:{default:t}}function f(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(f=function(t){return t?n:e})(t)}function d(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(l){a=!0,i=l}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=x(t);if(e){var i=x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b(this,n)}}function b(t,e){if(e&&("object"===r(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return w(t)}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function k(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var S={start:"touchstart",move:"touchmove",stop:"touchend"},O={start:"mousedown",move:"mousemove",stop:"mouseup"},C=O,j=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(c,t);var e,n,r,o=y(c);function c(){var t;m(this,c);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return k(w(t=o.call.apply(o,[this].concat(n))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),k(w(t),"mounted",!1),k(w(t),"handleDragStart",(function(e){if(t.props.onMouseDown(e),!t.props.allowAnyClick&&"number"===typeof e.button&&0!==e.button)return!1;var n=t.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(!(t.props.disabled||!(e.target instanceof r.defaultView.Node)||t.props.handle&&!(0,a.matchesSelectorAndParentsTo)(e.target,t.props.handle,n)||t.props.cancel&&(0,a.matchesSelectorAndParentsTo)(e.target,t.props.cancel,n))){"touchstart"===e.type&&e.preventDefault();var i=(0,a.getTouchIdentifier)(e);t.setState({touchIdentifier:i});var o=(0,l.getControlPosition)(e,i,w(t));if(null!=o){var s=o.x,c=o.y,u=(0,l.createCoreData)(w(t),s,c);(0,h.default)("DraggableCore: handleDragStart: %j",u),(0,h.default)("calling",t.props.onStart),!1!==t.props.onStart(e,u)&&!1!==t.mounted&&(t.props.enableUserSelectHack&&(0,a.addUserSelectStyles)(r),t.setState({dragging:!0,lastX:s,lastY:c}),(0,a.addEvent)(r,C.move,t.handleDrag),(0,a.addEvent)(r,C.stop,t.handleDragStop))}}})),k(w(t),"handleDrag",(function(e){var n=(0,l.getControlPosition)(e,t.state.touchIdentifier,w(t));if(null!=n){var r=n.x,i=n.y;if(Array.isArray(t.props.grid)){var o=r-t.state.lastX,s=i-t.state.lastY,a=d((0,l.snapToGrid)(t.props.grid,o,s),2);if(o=a[0],s=a[1],!o&&!s)return;r=t.state.lastX+o,i=t.state.lastY+s}var c=(0,l.createCoreData)(w(t),r,i);if((0,h.default)("DraggableCore: handleDrag: %j",c),!1!==t.props.onDrag(e,c)&&!1!==t.mounted)t.setState({lastX:r,lastY:i});else try{t.handleDragStop(new MouseEvent("mouseup"))}catch(f){var u=document.createEvent("MouseEvents");u.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),t.handleDragStop(u)}}})),k(w(t),"handleDragStop",(function(e){if(t.state.dragging){var n=(0,l.getControlPosition)(e,t.state.touchIdentifier,w(t));if(null!=n){var r=n.x,i=n.y,o=(0,l.createCoreData)(w(t),r,i);if(!1===t.props.onStop(e,o)||!1===t.mounted)return!1;var s=t.findDOMNode();s&&t.props.enableUserSelectHack&&(0,a.removeUserSelectStyles)(s.ownerDocument),(0,h.default)("DraggableCore: handleDragStop: %j",o),t.setState({dragging:!1,lastX:NaN,lastY:NaN}),s&&((0,h.default)("DraggableCore: Removing handlers"),(0,a.removeEvent)(s.ownerDocument,C.move,t.handleDrag),(0,a.removeEvent)(s.ownerDocument,C.stop,t.handleDragStop))}}})),k(w(t),"onMouseDown",(function(e){return C=O,t.handleDragStart(e)})),k(w(t),"onMouseUp",(function(e){return C=O,t.handleDragStop(e)})),k(w(t),"onTouchStart",(function(e){return C=S,t.handleDragStart(e)})),k(w(t),"onTouchEnd",(function(e){return C=S,t.handleDragStop(e)})),t}return e=c,(n=[{key:"componentDidMount",value:function(){this.mounted=!0;var t=this.findDOMNode();t&&(0,a.addEvent)(t,S.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var t=this.findDOMNode();if(t){var e=t.ownerDocument;(0,a.removeEvent)(e,O.move,this.handleDrag),(0,a.removeEvent)(e,S.move,this.handleDrag),(0,a.removeEvent)(e,O.stop,this.handleDragStop),(0,a.removeEvent)(e,S.stop,this.handleDragStop),(0,a.removeEvent)(t,S.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,a.removeUserSelectStyles)(e)}}},{key:"findDOMNode",value:function(){var t,e,n;return null!==(t=null===(e=this.props)||void 0===e||null===(n=e.nodeRef)||void 0===n?void 0:n.current)&&void 0!==t?t:s.default.findDOMNode(this)}},{key:"render",value:function(){return i.cloneElement(i.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&g(e.prototype,n),r&&g(e,r),c}(i.Component);e.default=j,k(j,"displayName","DraggableCore"),k(j,"propTypes",{allowAnyClick:o.default.bool,disabled:o.default.bool,enableUserSelectHack:o.default.bool,offsetParent:function(t,e){if(t[e]&&1!==t[e].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:o.default.arrayOf(o.default.number),handle:o.default.string,cancel:o.default.string,nodeRef:o.default.object,onStart:o.default.func,onDrag:o.default.func,onStop:o.default.func,onMouseDown:o.default.func,scale:o.default.number,className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe}),k(j,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},1327:function(t,e,n){"use strict";var r=n(1997),i=r.default,o=r.DraggableCore;t.exports=i,t.exports.default=i,t.exports.DraggableCore=o},4688:function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.matchesSelector=u,e.matchesSelectorAndParentsTo=function(t,e,n){var r=t;do{if(u(r,e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},e.addEvent=function(t,e,n,r){if(!t)return;var i=l({capture:!0},r);t.addEventListener?t.addEventListener(e,n,i):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n},e.removeEvent=function(t,e,n,r){if(!t)return;var i=l({capture:!0},r);t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null},e.outerHeight=function(t){var e=t.clientHeight,n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,i.int)(n.borderTopWidth),e+=(0,i.int)(n.borderBottomWidth)},e.outerWidth=function(t){var e=t.clientWidth,n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,i.int)(n.borderLeftWidth),e+=(0,i.int)(n.borderRightWidth)},e.innerHeight=function(t){var e=t.clientHeight,n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,i.int)(n.paddingTop),e-=(0,i.int)(n.paddingBottom)},e.innerWidth=function(t){var e=t.clientWidth,n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,i.int)(n.paddingLeft),e-=(0,i.int)(n.paddingRight)},e.offsetXYFromParent=function(t,e,n){var r=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),i=(t.clientX+e.scrollLeft-r.left)/n,o=(t.clientY+e.scrollTop-r.top)/n;return{x:i,y:o}},e.createCSSTransform=function(t,e){var n=f(t,e,"px");return c({},(0,o.browserPrefixToKey)("transform",o.default),n)},e.createSVGTransform=function(t,e){return f(t,e,"")},e.getTranslation=f,e.getTouch=function(t,e){return t.targetTouches&&(0,i.findInArray)(t.targetTouches,(function(t){return e===t.identifier}))||t.changedTouches&&(0,i.findInArray)(t.changedTouches,(function(t){return e===t.identifier}))},e.getTouchIdentifier=function(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier},e.addUserSelectStyles=function(t){if(!t)return;var e=t.getElementById("react-draggable-style-el");e||((e=t.createElement("style")).type="text/css",e.id="react-draggable-style-el",e.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",e.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",t.getElementsByTagName("head")[0].appendChild(e));t.body&&d(t.body,"react-draggable-transparent-selection")},e.removeUserSelectStyles=function(t){if(!t)return;try{if(t.body&&p(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{var e=(t.defaultView||window).getSelection();e&&"Caret"!==e.type&&e.removeAllRanges()}}catch(n){}},e.addClassName=d,e.removeClassName=p;var i=n(136),o=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var n=s(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var l=o?Object.getOwnPropertyDescriptor(t,a):null;l&&(l.get||l.set)?Object.defineProperty(i,a,l):i[a]=t[a]}i.default=t,n&&n.set(t,i);return i}(n(2185));function s(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(s=function(t){return t?n:e})(t)}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h="";function u(t,e){return h||(h=(0,i.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(e){return(0,i.isFunction)(t[e])}))),!!(0,i.isFunction)(t[h])&&t[h](e)}function f(t,e,n){var r=t.x,i=t.y,o="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(e){var s="".concat("string"===typeof e.x?e.x:e.x+n),a="".concat("string"===typeof e.y?e.y:e.y+n);o="translate(".concat(s,", ").concat(a,")")+o}return o}function d(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(t.className+=" ".concat(e))}function p(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}},2185:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPrefix=r,e.browserPrefixToKey=i,e.browserPrefixToStyle=function(t,e){return e?"-".concat(e.toLowerCase(),"-").concat(t):t},e.default=void 0;var n=["Moz","Webkit","O","ms"];function r(){var t,e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"===typeof window)return"";var o=null===(t=window.document)||void 0===t||null===(e=t.documentElement)||void 0===e?void 0:e.style;if(!o)return"";if(r in o)return"";for(var s=0;s<n.length;s++)if(i(r,n[s])in o)return n[s];return""}function i(t,e){return e?"".concat(e).concat(function(t){for(var e="",n=!0,r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=!1):"-"===t[r]?n=!0:e+=t[r];return e}(t)):t}var o=r();e.default=o},1177:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){void 0}},3585:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBoundPosition=function(t,e,n){if(!t.props.bounds)return[e,n];var s=t.props.bounds;s="string"===typeof s?s:function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}(s);var a=o(t);if("string"===typeof s){var l,c=a.ownerDocument,h=c.defaultView;if(!((l="parent"===s?a.parentNode:c.querySelector(s))instanceof h.HTMLElement))throw new Error('Bounds selector "'+s+'" could not find an element.');var u=l,f=h.getComputedStyle(a),d=h.getComputedStyle(u);s={left:-a.offsetLeft+(0,r.int)(d.paddingLeft)+(0,r.int)(f.marginLeft),top:-a.offsetTop+(0,r.int)(d.paddingTop)+(0,r.int)(f.marginTop),right:(0,i.innerWidth)(u)-(0,i.outerWidth)(a)-a.offsetLeft+(0,r.int)(d.paddingRight)-(0,r.int)(f.marginRight),bottom:(0,i.innerHeight)(u)-(0,i.outerHeight)(a)-a.offsetTop+(0,r.int)(d.paddingBottom)-(0,r.int)(f.marginBottom)}}(0,r.isNum)(s.right)&&(e=Math.min(e,s.right));(0,r.isNum)(s.bottom)&&(n=Math.min(n,s.bottom));(0,r.isNum)(s.left)&&(e=Math.max(e,s.left));(0,r.isNum)(s.top)&&(n=Math.max(n,s.top));return[e,n]},e.snapToGrid=function(t,e,n){var r=Math.round(e/t[0])*t[0],i=Math.round(n/t[1])*t[1];return[r,i]},e.canDragX=function(t){return"both"===t.props.axis||"x"===t.props.axis},e.canDragY=function(t){return"both"===t.props.axis||"y"===t.props.axis},e.getControlPosition=function(t,e,n){var r="number"===typeof e?(0,i.getTouch)(t,e):null;if("number"===typeof e&&!r)return null;var s=o(n),a=n.props.offsetParent||s.offsetParent||s.ownerDocument.body;return(0,i.offsetXYFromParent)(r||t,a,n.props.scale)},e.createCoreData=function(t,e,n){var i=t.state,s=!(0,r.isNum)(i.lastX),a=o(t);return s?{node:a,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:a,deltaX:e-i.lastX,deltaY:n-i.lastY,lastX:i.lastX,lastY:i.lastY,x:e,y:n}},e.createDraggableData=function(t,e){var n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}};var r=n(136),i=n(4688);function o(t){var e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}},136:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findInArray=function(t,e){for(var n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]},e.isFunction=function(t){return"function"===typeof t||"[object Function]"===Object.prototype.toString.call(t)},e.isNum=function(t){return"number"===typeof t&&!isNaN(t)},e.int=function(t){return parseInt(t,10)},e.dontSetMe=function(t,e,n){if(t[e])return new Error("Invalid prop ".concat(e," passed to ").concat(n," - do not set this, set it on the child."))}},5192:function(t,e,n){"use strict";n.d(e,{Xs:function(){return l},f_:function(){return c},uU:function(){return i}});var r=n(1727);class i{eq(t){return this==t}range(t,e=t){return new o(t,e,this)}}i.prototype.startSide=i.prototype.endSide=0,i.prototype.point=!1,i.prototype.mapMode=r.gc.TrackDel;class o{constructor(t,e,n){this.from=t,this.to=e,this.value=n}}function s(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class a{constructor(t,e,n,r){this.from=t,this.to=e,this.value=n,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(t,e,n,r=0){let i=n?this.to:this.from;for(let o=r,s=i.length;;){if(o==s)return o;let r=o+s>>1,a=i[r]-t||(n?this.value[r].endSide:this.value[r].startSide)-e;if(r==o)return a>=0?o:s;a>=0?s=r:o=r+1}}between(t,e,n,r){for(let i=this.findIndex(e,-1e9,!0),o=this.findIndex(n,1e9,!1,i);i<o;i++)if(!1===r(this.from[i]+t,this.to[i]+t,this.value[i]))return!1}map(t,e){let n=[],r=[],i=[],o=-1,s=-1;for(let a=0;a<this.value.length;a++){let l,c,h=this.value[a],u=this.from[a]+t,f=this.to[a]+t;if(u==f){let t=e.mapPos(u,h.startSide,h.mapMode);if(null==t)continue;if(l=c=t,h.startSide!=h.endSide&&(c=e.mapPos(u,h.endSide),c<l))continue}else if(l=e.mapPos(u,h.startSide),c=e.mapPos(f,h.endSide),l>c||l==c&&h.startSide>0&&h.endSide<=0)continue;(c-l||h.endSide-h.startSide)<0||(o<0&&(o=l),h.point&&(s=Math.max(s,c-l)),n.push(h),r.push(l-o),i.push(c-o))}return{mapped:n.length?new a(r,i,n,s):null,pos:o}}}class l{constructor(t,e,n=l.empty,r){this.chunkPos=t,this.chunk=e,this.nextLayer=n,this.maxPoint=r}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let t=this.nextLayer.size;for(let e of this.chunk)t+=e.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:e=[],sort:n=!1,filterFrom:r=0,filterTo:i=this.length}=t,a=t.filter;if(0==e.length&&!a)return this;if(n&&(e=e.slice().sort(s)),this.isEmpty)return e.length?l.of(e):this;let h=new u(this,null,-1).goto(0),f=0,d=[],p=new c;for(;h.value||f<e.length;)if(f<e.length&&(h.from-e[f].from||h.startSide-e[f].value.startSide)>=0){let t=e[f++];p.addInner(t.from,t.to,t.value)||d.push(t)}else 1==h.rangeIndex&&h.chunkIndex<this.chunk.length&&(f==e.length||this.chunkEnd(h.chunkIndex)<e[f].from)&&(!a||r>this.chunkEnd(h.chunkIndex)||i<this.chunkPos[h.chunkIndex])&&p.addChunk(this.chunkPos[h.chunkIndex],this.chunk[h.chunkIndex])?h.nextChunk():((!a||r>h.to||i<h.from||a(h.from,h.to,h.value))&&(p.addInner(h.from,h.to,h.value)||d.push(new o(h.from,h.to,h.value))),h.next());return p.finishInner(this.nextLayer.isEmpty&&!d.length?l.empty:this.nextLayer.update({add:d,filter:a,filterFrom:r,filterTo:i}))}map(t){if(t.empty||this.isEmpty)return this;let e=[],n=[],r=-1;for(let o=0;o<this.chunk.length;o++){let i=this.chunkPos[o],s=this.chunk[o],a=t.touchesRange(i,i+s.length);if(!1===a)r=Math.max(r,s.maxPoint),e.push(s),n.push(t.mapPos(i));else if(!0===a){let{mapped:o,pos:a}=s.map(i,t);o&&(r=Math.max(r,o.maxPoint),e.push(o),n.push(a))}}let i=this.nextLayer.map(t);return 0==e.length?i:new l(n,e,i,r)}between(t,e,n){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let i=this.chunkPos[r],o=this.chunk[r];if(e>=i&&t<=i+o.length&&!1===o.between(i,t-i,e-i,n))return}this.nextLayer.between(t,e,n)}}iter(t=0){return f.from([this]).goto(t)}get isEmpty(){return this.nextLayer==this}static iter(t,e=0){return f.from(t).goto(e)}static compare(t,e,n,r,i=-1){let o=t.filter((t=>t.maxPoint>0||!t.isEmpty&&t.maxPoint>=i)),s=e.filter((t=>t.maxPoint>0||!t.isEmpty&&t.maxPoint>=i)),a=h(o,s,n),l=new p(o,a,i),c=new p(s,a,i);n.iterGaps(((t,e,n)=>m(l,t,c,e,n,r))),n.empty&&0==n.length&&m(l,0,c,0,0,r)}static eq(t,e,n=0,r){null==r&&(r=1e9);let i=t.filter((t=>!t.isEmpty&&e.indexOf(t)<0)),o=e.filter((e=>!e.isEmpty&&t.indexOf(e)<0));if(i.length!=o.length)return!1;if(!i.length)return!0;let s=h(i,o),a=new p(i,s,0).goto(n),l=new p(o,s,0).goto(n);for(;;){if(a.to!=l.to||!g(a.active,l.active)||a.point&&(!l.point||!a.point.eq(l.point)))return!1;if(a.to>r)return!0;a.next(),l.next()}}static spans(t,e,n,r,i=-1){var o;let s=new p(t,null,i,null===(o=r.filterPoint)||void 0===o?void 0:o.bind(r)).goto(e),a=e,l=s.openStart;for(;;){let t=Math.min(s.to,n);if(s.point?(r.point(a,t,s.point,s.activeForPoint(s.to),l),l=s.openEnd(t)+(s.to>t?1:0)):t>a&&(r.span(a,t,s.active,l),l=s.openEnd(t)),s.to>n)break;a=s.to,s.next()}return l}static of(t,e=!1){let n=new c;for(let r of t instanceof o?[t]:e?function(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(s(e,r)>0)return t.slice().sort(s);e=r}return t}(t):t)n.add(r.from,r.to,r.value);return n.finish()}}l.empty=new l([],[],null,-1),l.empty.nextLayer=l.empty;class c{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(t){this.chunks.push(new a(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}add(t,e,n){this.addInner(t,e,n)||(this.nextLayer||(this.nextLayer=new c)).add(t,e,n)}addInner(t,e,n){let r=t-this.lastTo||n.startSide-this.last.endSide;if(r<=0&&(t-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(r<0)&&(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(e-this.chunkStart),this.last=n,this.lastFrom=t,this.lastTo=e,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,e-t)),!0)}addChunk(t,e){if((t-this.lastTo||e.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,e.maxPoint),this.chunks.push(e),this.chunkPos.push(t);let n=e.value.length-1;return this.last=e.value[n],this.lastFrom=e.from[n]+t,this.lastTo=e.to[n]+t,!0}finish(){return this.finishInner(l.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return t;let e=new l(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,e}}function h(t,e,n){let r=new Map;for(let o of t)for(let t=0;t<o.chunk.length;t++)o.chunk[t].maxPoint<=0&&r.set(o.chunk[t],o.chunkPos[t]);let i=new Set;for(let o of e)for(let t=0;t<o.chunk.length;t++){let e=r.get(o.chunk[t]);null==e||(n?n.mapPos(e):e)!=o.chunkPos[t]||(null===n||void 0===n?void 0:n.touchesRange(e,e+o.chunk[t].length))||i.add(o.chunk[t])}return i}class u{constructor(t,e,n,r=0){this.layer=t,this.skip=e,this.minPoint=n,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,e=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,e,!1),this}gotoInner(t,e,n){for(;this.chunkIndex<this.layer.chunk.length;){let e=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(e)||this.layer.chunkEnd(this.chunkIndex)<t||e.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],e,!0);(!n||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(t,e){(this.to-t||this.endSide-e)<0&&this.gotoInner(t,e,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let t=this.layer.chunkPos[this.chunkIndex],e=this.layer.chunk[this.chunkIndex],n=t+e.from[this.rangeIndex];if(this.from=n,this.to=t+e.to[this.rangeIndex],this.value=e.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(t){if(t==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=t}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.to-t.to||this.endSide-t.endSide}}class f{constructor(t){this.heap=t}static from(t,e=null,n=-1){let r=[];for(let i=0;i<t.length;i++)for(let o=t[i];!o.isEmpty;o=o.nextLayer)o.maxPoint>=n&&r.push(new u(o,e,n,i));return 1==r.length?r[0]:new f(r)}get startSide(){return this.value?this.value.startSide:0}goto(t,e=-1e9){for(let n of this.heap)n.goto(t,e);for(let n=this.heap.length>>1;n>=0;n--)d(this.heap,n);return this.next(),this}forward(t,e){for(let n of this.heap)n.forward(t,e);for(let n=this.heap.length>>1;n>=0;n--)d(this.heap,n);(this.to-t||this.value.endSide-e)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),d(this.heap,0)}}}function d(t,e){for(let n=t[e];;){let r=1+(e<<1);if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class p{constructor(t,e,n,r=(()=>!0)){this.minPoint=n,this.filterPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=f.from(t,e,n)}goto(t,e=-1e9){return this.cursor.goto(t,e),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=e,this.openStart=-1,this.next(),this}forward(t,e){for(;this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-e)<0;)this.removeActive(this.minActive);this.cursor.forward(t,e)}removeActive(t){v(this.active,t),v(this.activeTo,t),v(this.activeRank,t),this.minActive=b(this.active,this.activeTo)}addActive(t){let e=0,{value:n,to:r,rank:i}=this.cursor;for(;e<this.activeRank.length&&this.activeRank[e]<=i;)e++;y(this.active,e,n),y(this.activeTo,e,r),y(this.activeRank,e,i),t&&y(t,e,this.cursor.from),this.minActive=b(this.active,this.activeTo)}next(){let t=this.to,e=this.point;this.point=null;let n=this.openStart<0?[]:null,r=0;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>t){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),n&&v(n,i)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let i=this.cursor.value;if(i.point)if(e&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{if(this.filterPoint(this.cursor.from,this.cursor.to,this.cursor.value,this.cursor.rank)){this.point=i,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=i.endSide,this.cursor.from<t&&(r=1),this.cursor.next(),this.to>t&&this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(n),this.cursor.next()}}}if(n){let e=0;for(;e<n.length&&n[e]<t;)e++;this.openStart=e+r}}activeForPoint(t){if(!this.active.length)return this.active;let e=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>t||this.activeTo[n]==t&&this.active[n].endSide>=this.point.endSide)&&e.push(this.active[n]);return e.reverse()}openEnd(t){let e=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>t;n--)e++;return e}}function m(t,e,n,r,i,o){t.goto(e),n.goto(r);let s=r+i,a=r,l=r-e;for(;;){let e=t.to+l-n.to||t.endSide-n.endSide,r=e<0?t.to+l:n.to,i=Math.min(r,s);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&g(t.activeForPoint(t.to+l),n.activeForPoint(n.to))||o.comparePoint(a,i,t.point,n.point):i>a&&!g(t.active,n.active)&&o.compareRange(a,i,t.active,n.active),r>s)break;a=r,e<=0&&t.next(),e>=0&&n.next()}}function g(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function v(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function y(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function b(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}},1727:function(t,e,n){"use strict";n.d(e,{q6:function(){return $},n0:function(){return s},as:function(){return a},D0:function(){return rt},jT:function(){return m},yy:function(){return at},r$:function(){return b},gc:function(){return o},Wl:function(){return P},Py:function(){return Y},QQ:function(){return C},YW:function(){return G},BO:function(){return lt}});var r=n(7268);const i=/\r\n?|\n/;var o=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(o||(o={}));class s{constructor(t){this.sections=t}get length(){let t=0;for(let e=0;e<this.sections.length;e+=2)t+=this.sections[e];return t}get newLength(){let t=0;for(let e=0;e<this.sections.length;e+=2){let n=this.sections[e+1];t+=n<0?this.sections[e]:n}return t}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(t){for(let e=0,n=0,r=0;e<this.sections.length;){let i=this.sections[e++],o=this.sections[e++];o<0?(t(n,r,i),r+=i):r+=o,n+=i}}iterChangedRanges(t,e=!1){h(this,t,e)}get invertedDesc(){let t=[];for(let e=0;e<this.sections.length;){let n=this.sections[e++],r=this.sections[e++];r<0?t.push(n,r):t.push(r,n)}return new s(t)}composeDesc(t){return this.empty?t:t.empty?this:f(this,t)}mapDesc(t,e=!1){return t.empty?this:u(this,t,e)}mapPos(t,e=-1,n=o.Simple){let r=0,i=0;for(let s=0;s<this.sections.length;){let a=this.sections[s++],l=this.sections[s++],c=r+a;if(l<0){if(c>t)return i+(t-r);i+=a}else{if(n!=o.Simple&&c>=t&&(n==o.TrackDel&&r<t&&c>t||n==o.TrackBefore&&r<t||n==o.TrackAfter&&c>t))return null;if(c>t||c==t&&e<0&&!a)return t==r||e<0?i:i+l;i+=l}r=c}if(t>r)throw new RangeError(`Position ${t} is out of range for changeset of length ${r}`);return i}touchesRange(t,e=t){for(let n=0,r=0;n<this.sections.length&&r<=e;){let i=r+this.sections[n++];if(this.sections[n++]>=0&&r<=e&&i>=t)return!(r<t&&i>e)||"cover";r=i}return!1}toString(){let t="";for(let e=0;e<this.sections.length;){let n=this.sections[e++],r=this.sections[e++];t+=(t?" ":"")+n+(r>=0?":"+r:"")}return t}toJSON(){return this.sections}static fromJSON(t){if(!Array.isArray(t)||t.length%2||t.some((t=>"number"!=typeof t)))throw new RangeError("Invalid JSON representation of ChangeDesc");return new s(t)}}class a extends s{constructor(t,e){super(t),this.inserted=e}apply(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return h(this,((e,n,r,i,o)=>t=t.replace(r,r+(n-e),o)),!1),t}mapDesc(t,e=!1){return u(this,t,e,!0)}invert(t){let e=this.sections.slice(),n=[];for(let i=0,o=0;i<e.length;i+=2){let s=e[i],a=e[i+1];if(a>=0){e[i]=a,e[i+1]=s;let l=i>>1;for(;n.length<l;)n.push(r.xv.empty);n.push(s?t.slice(o,o+s):r.xv.empty)}o+=s}return new a(e,n)}compose(t){return this.empty?t:t.empty?this:f(this,t,!0)}map(t,e=!1){return t.empty?this:u(this,t,e,!0)}iterChanges(t,e=!1){h(this,t,e)}get desc(){return new s(this.sections)}filter(t){let e=[],n=[],r=[],i=new d(this);t:for(let o=0,s=0;;){let a=o==t.length?1e9:t[o++];for(;s<a||s==a&&0==i.len;){if(i.done)break t;let t=Math.min(i.len,a-s);l(r,t,-1);let o=-1==i.ins?-1:0==i.off?i.ins:0;l(e,t,o),o>0&&c(n,e,i.text),i.forward(t),s+=t}let h=t[o++];for(;s<h;){if(i.done)break t;let t=Math.min(i.len,h-s);l(e,t,-1),l(r,t,-1==i.ins?-1:0==i.off?i.ins:0),i.forward(t),s+=t}}return{changes:new a(e,n),filtered:new s(r)}}toJSON(){let t=[];for(let e=0;e<this.sections.length;e+=2){let n=this.sections[e],r=this.sections[e+1];r<0?t.push(n):0==r?t.push([n]):t.push([n].concat(this.inserted[e>>1].toJSON()))}return t}static of(t,e,n){let o=[],s=[],h=0,u=null;function f(t=!1){if(!t&&!o.length)return;h<e&&l(o,e-h,-1);let n=new a(o,s);u=u?u.compose(n.map(u)):n,o=[],s=[],h=0}return function t(d){if(Array.isArray(d))for(let e of d)t(e);else if(d instanceof a){if(d.length!=e)throw new RangeError(`Mismatched change set length (got ${d.length}, expected ${e})`);f(),u=u?u.compose(d.map(u)):d}else{let{from:t,to:a=t,insert:u}=d;if(t>a||t<0||a>e)throw new RangeError(`Invalid change range ${t} to ${a} (in doc of length ${e})`);let p=u?"string"==typeof u?r.xv.of(u.split(n||i)):u:r.xv.empty,m=p.length;if(t==a&&0==m)return;t<h&&f(),t>h&&l(o,t-h,-1),l(o,a-t,m),c(s,o,p),h=a}}(t),f(!u),u}static empty(t){return new a(t?[t,-1]:[],[])}static fromJSON(t){if(!Array.isArray(t))throw new RangeError("Invalid JSON representation of ChangeSet");let e=[],n=[];for(let i=0;i<t.length;i++){let o=t[i];if("number"==typeof o)e.push(o,-1);else{if(!Array.isArray(o)||"number"!=typeof o[0]||o.some(((t,e)=>e&&"string"!=typeof t)))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==o.length)e.push(o[0],0);else{for(;n.length<i;)n.push(r.xv.empty);n[i]=r.xv.of(o.slice(1)),e.push(o[0],n[i].length)}}}return new a(e,n)}}function l(t,e,n,r=!1){if(0==e&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:0==e&&0==t[i]?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function c(t,e,n){if(0==n.length)return;let i=e.length-2>>1;if(i<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<i;)t.push(r.xv.empty);t.push(n)}}function h(t,e,n){let i=t.inserted;for(let o=0,s=0,a=0;a<t.sections.length;){let l=t.sections[a++],c=t.sections[a++];if(c<0)o+=l,s+=l;else{let h=o,u=s,f=r.xv.empty;for(;h+=l,u+=c,c&&i&&(f=f.append(i[a-2>>1])),!(n||a==t.sections.length||t.sections[a+1]<0);)l=t.sections[a++],c=t.sections[a++];e(o,h,s,u,f),o=h,s=u}}}function u(t,e,n,r=!1){let i=[],o=r?[]:null,h=new d(t),u=new d(e);for(let f=0,d=0;;)if(-1==h.ins)f+=h.len,h.next();else if(-1==u.ins&&d<f){let t=Math.min(u.len,f-d);u.forward(t),l(i,t,-1),d+=t}else if(u.ins>=0&&(h.done||d<f||d==f&&(u.len<h.len||u.len==h.len&&!n))){for(l(i,u.ins,-1);f>d&&!h.done&&f+h.len<d+u.len;)f+=h.len,h.next();d+=u.len,u.next()}else{if(!(h.ins>=0)){if(h.done&&u.done)return o?new a(i,o):new s(i);throw new Error("Mismatched change set lengths")}{let t=0,e=f+h.len;for(;;)if(u.ins>=0&&d>f&&d+u.len<e)t+=u.ins,d+=u.len,u.next();else{if(!(-1==u.ins&&d<e))break;{let n=Math.min(u.len,e-d);t+=n,u.forward(n),d+=n}}l(i,t,h.ins),o&&c(o,i,h.text),f=e,h.next()}}}function f(t,e,n=!1){let r=[],i=n?[]:null,o=new d(t),h=new d(e);for(let u=!1;;){if(o.done&&h.done)return i?new a(r,i):new s(r);if(0==o.ins)l(r,o.len,0,u),o.next();else if(0!=h.len||h.done){if(o.done||h.done)throw new Error("Mismatched change set lengths");{let t=Math.min(o.len2,h.len),e=r.length;if(-1==o.ins){let e=-1==h.ins?-1:h.off?0:h.ins;l(r,t,e,u),i&&e&&c(i,r,h.text)}else-1==h.ins?(l(r,o.off?0:o.len,t,u),i&&c(i,r,o.textBit(t))):(l(r,o.off?0:o.len,h.off?0:h.ins,u),i&&!h.off&&c(i,r,h.text));u=(o.ins>t||h.ins>=0&&h.len>t)&&(u||r.length>e),o.forward2(t),h.forward(t)}}else l(r,0,h.ins,u),i&&c(i,r,h.text),h.next()}}class d{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,e=this.i-2>>1;return e>=t.length?r.xv.empty:t[e]}textBit(t){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length&&!t?r.xv.empty:e[n].slice(this.off,null==t?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){-1==this.ins?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}}class p{constructor(t,e,n){this.from=t,this.to=e,this.flags=n}get anchor(){return 16&this.flags?this.to:this.from}get head(){return 16&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 4&this.flags?-1:8&this.flags?1:0}get bidiLevel(){let t=3&this.flags;return 3==t?null:t}get goalColumn(){let t=this.flags>>5;return 33554431==t?void 0:t}map(t,e=-1){let n,r;return this.empty?n=r=t.mapPos(this.from,e):(n=t.mapPos(this.from,1),r=t.mapPos(this.to,-1)),n==this.from&&r==this.to?this:new p(n,r,this.flags)}extend(t,e=t){if(t<=this.anchor&&e>=this.anchor)return m.range(t,e);let n=Math.abs(t-this.anchor)>Math.abs(e-this.anchor)?t:e;return m.range(this.anchor,n)}eq(t){return this.anchor==t.anchor&&this.head==t.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||"number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid JSON representation for SelectionRange");return m.range(t.anchor,t.head)}}class m{constructor(t,e=0){this.ranges=t,this.mainIndex=e}map(t,e=-1){return t.empty?this:m.create(this.ranges.map((n=>n.map(t,e))),this.mainIndex)}eq(t){if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(let e=0;e<this.ranges.length;e++)if(!this.ranges[e].eq(t.ranges[e]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new m([this.main])}addRange(t,e=!0){return m.create([t].concat(this.ranges),e?0:this.mainIndex+1)}replaceRange(t,e=this.mainIndex){let n=this.ranges.slice();return n[e]=t,m.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((t=>t.toJSON())),main:this.mainIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||"number"!=typeof t.main||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new m(t.ranges.map((t=>p.fromJSON(t))),t.main)}static single(t,e=t){return new m([m.range(t,e)],0)}static create(t,e=0){if(0==t.length)throw new RangeError("A selection needs at least one range");for(let n=0,r=0;r<t.length;r++){let i=t[r];if(i.empty?i.from<=n:i.from<n)return g(t.slice(),e);n=i.to}return new m(t,e)}static cursor(t,e=0,n,r){return new p(t,t,(0==e?0:e<0?4:8)|(null==n?3:Math.min(2,n))|(null!==r&&void 0!==r?r:33554431)<<5)}static range(t,e,n){let r=(null!==n&&void 0!==n?n:33554431)<<5;return e<t?new p(e,t,24|r):new p(t,e,r|(e>t?4:0))}}function g(t,e=0){let n=t[e];t.sort(((t,e)=>t.from-e.from)),e=t.indexOf(n);for(let r=1;r<t.length;r++){let n=t[r],i=t[r-1];if(n.empty?n.from<=i.to:n.from<i.to){let o=i.from,s=Math.max(n.to,i.to);r<=e&&e--,t.splice(--r,2,n.anchor>n.head?m.range(s,o):m.range(o,s))}}return new m(t,e)}function v(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let y=0;class b{constructor(t,e,n,r,i){this.combine=t,this.compareInput=e,this.compare=n,this.isStatic=r,this.extensions=i,this.id=y++,this.default=t([])}static define(t={}){return new b(t.combine||(t=>t),t.compareInput||((t,e)=>t===e),t.compare||(t.combine?(t,e)=>t===e:w),!!t.static,t.enables)}of(t){return new x([],this,0,t)}compute(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new x(t,this,1,e)}computeN(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new x(t,this,2,e)}from(t,e){return e||(e=t=>t),this.compute([t],(n=>e(n.field(t))))}}function w(t,e){return t==e||t.length==e.length&&t.every(((t,n)=>t===e[n]))}class x{constructor(t,e,n,r){this.dependencies=t,this.facet=e,this.type=n,this.value=r,this.id=y++}dynamicSlot(t){var e;let n=this.value,r=this.facet.compareInput,i=this.id,o=t[i]>>1,s=2==this.type,a=!1,l=!1,c=[];for(let h of this.dependencies)"doc"==h?a=!0:"selection"==h?l=!0:0==(1&(null!==(e=t[h.id])&&void 0!==e?e:1))&&c.push(t[h.id]);return{create:t=>(t.values[o]=n(t),1),update(t,e){if(a&&e.docChanged||l&&(e.docChanged||e.selection)||c.some((e=>(1&R(t,e))>0))){let e=n(t);if(s?!k(e,t.values[o],r):!r(e,t.values[o]))return t.values[o]=e,1}return 0},reconfigure(t,e){let a=n(t),l=e.config.address[i];if(null!=l){let n=L(e,l);if(s?k(a,n,r):r(a,n))return t.values[o]=n,0}return t.values[o]=a,1}}}}function k(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function S(t,e,n){let r=n.map((e=>t[e.id])),i=n.map((t=>t.type)),o=r.filter((t=>!(1&t))),s=t[e.id]>>1;function a(t){let n=[];for(let e=0;e<r.length;e++){let o=L(t,r[e]);if(2==i[e])for(let t of o)n.push(t);else n.push(o)}return e.combine(n)}return{create(t){for(let e of r)R(t,e);return t.values[s]=a(t),1},update(t,n){if(!o.some((e=>1&R(t,e))))return 0;let r=a(t);return e.compare(r,t.values[s])?0:(t.values[s]=r,1)},reconfigure(t,i){let o=r.some((e=>1&R(t,e))),l=i.config.facets[e.id],c=i.facet(e);if(l&&!o&&w(n,l))return t.values[s]=c,0;let h=a(t);return e.compare(h,c)?(t.values[s]=c,0):(t.values[s]=h,1)}}}const O=b.define({static:!0});class C{constructor(t,e,n,r,i){this.id=t,this.createF=e,this.updateF=n,this.compareF=r,this.spec=i,this.provides=void 0}static define(t){let e=new C(y++,t.create,t.update,t.compare||((t,e)=>t===e),t);return t.provide&&(e.provides=t.provide(e)),e}create(t){let e=t.facet(O).find((t=>t.field==this));return((null===e||void 0===e?void 0:e.create)||this.createF)(t)}slot(t){let e=t[this.id]>>1;return{create:t=>(t.values[e]=this.create(t),1),update:(t,n)=>{let r=t.values[e],i=this.updateF(r,n);return this.compareF(r,i)?0:(t.values[e]=i,1)},reconfigure:(t,n)=>null!=n.config.address[this.id]?(t.values[e]=n.field(this),0):(t.values[e]=this.create(t),1)}}init(t){return[this,O.of({field:this,create:t})]}get extension(){return this}}const j=4,A=3,E=2,M=1,T=0;function _(t){return e=>new D(e,t)}const P={lowest:_(j),low:_(A),default:_(E),high:_(M),highest:_(T),fallback:_(j),extend:_(M),override:_(T)};class D{constructor(t,e){this.inner=t,this.prec=e}}class N{of(t){return new I(this,t)}reconfigure(t){return N.reconfigure.of({compartment:this,extension:t})}get(t){return t.config.compartments.get(this)}}class I{constructor(t,e){this.compartment=t,this.inner=e}}class B{constructor(t,e,n,r,i,o){for(this.base=t,this.compartments=e,this.dynamicSlots=n,this.address=r,this.staticValues=i,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(t){let e=this.address[t.id];return null==e?t.default:this.staticValues[e>>1]}static resolve(t,e,n){let r=[],i=Object.create(null),o=new Map;for(let u of function(t,e,n){let r=[[],[],[],[],[]],i=new Map;function o(t,s){let a=i.get(t);if(null!=a){if(a>=s)return;let e=r[a].indexOf(t);e>-1&&r[a].splice(e,1),t instanceof I&&n.delete(t.compartment)}if(i.set(t,s),Array.isArray(t))for(let e of t)o(e,s);else if(t instanceof I){if(n.has(t.compartment))throw new RangeError("Duplicate use of compartment in extensions");let r=e.get(t.compartment)||t.inner;n.set(t.compartment,r),o(r,s)}else if(t instanceof D)o(t.inner,t.prec);else if(t instanceof C)r[s].push(t),t.provides&&o(t.provides,s);else if(t instanceof x)r[s].push(t),t.facet.extensions&&o(t.facet.extensions,s);else{let e=t.extension;if(!e)throw new Error(`Unrecognized extension value in extension set (${t}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(e,s)}}return o(t,E),r.reduce(((t,e)=>t.concat(e)))}(t,e,o))u instanceof C?r.push(u):(i[u.facet.id]||(i[u.facet.id]=[])).push(u);let s=Object.create(null),a=[],l=[];for(let u of r)s[u.id]=l.length<<1,l.push((t=>u.slot(t)));let c=null===n||void 0===n?void 0:n.config.facets;for(let u in i){let t=i[u],e=t[0].facet,r=c&&c[u]||[];if(t.every((t=>0==t.type)))if(s[e.id]=a.length<<1|1,w(r,t))a.push(n.facet(e));else{let r=e.combine(t.map((t=>t.value)));a.push(n&&e.compare(r,n.facet(e))?n.facet(e):r)}else{for(let e of t)0==e.type?(s[e.id]=a.length<<1|1,a.push(e.value)):(s[e.id]=l.length<<1,l.push((t=>e.dynamicSlot(t))));s[e.id]=l.length<<1,l.push((n=>S(n,e,t)))}}let h=l.map((t=>t(s)));return new B(t,o,h,s,a,i)}}function R(t,e){if(1&e)return 2;let n=e>>1,r=t.status[n];if(4==r)throw new Error("Cyclic dependency between fields and/or facets");if(2&r)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function L(t,e){return 1&e?t.config.staticValues[e>>1]:t.values[e>>1]}const q=b.define(),F=b.define({combine:t=>t.some((t=>t)),static:!0}),z=b.define({combine:t=>t.length?t[0]:void 0,static:!0}),H=b.define(),W=b.define(),V=b.define(),U=b.define({combine:t=>!!t.length&&t[0]});class ${constructor(t,e){this.type=t,this.value=e}static define(){return new X}}class X{of(t){return new $(this,t)}}class J{constructor(t){this.map=t}of(t){return new Y(this,t)}}class Y{constructor(t,e){this.type=t,this.value=e}map(t){let e=this.type.map(this.value,t);return void 0===e?void 0:e==this.value?this:new Y(this.type,e)}is(t){return this.type==t}static define(t={}){return new J(t.map||(t=>t))}static mapEffects(t,e){if(!t.length)return t;let n=[];for(let r of t){let t=r.map(e);t&&n.push(t)}return n}}Y.reconfigure=Y.define(),Y.appendConfig=Y.define();class G{constructor(t,e,n,r,i,o){this.startState=t,this.changes=e,this.selection=n,this.effects=r,this.annotations=i,this.scrollIntoView=o,this._doc=null,this._state=null,n&&v(n,e.newLength),i.some((t=>t.type==G.time))||(this.annotations=i.concat(G.time.of(Date.now())))}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let e of this.annotations)if(e.type==t)return e.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(t){let e=this.annotation(G.userEvent);return!(!e||!(e==t||e.length>t.length&&e.slice(0,t.length)==t&&"."==e[t.length]))}}function Q(t,e){let n=[];for(let r=0,i=0;;){let o,s;if(r<t.length&&(i==e.length||e[i]>=t[r]))o=t[r++],s=t[r++];else{if(!(i<e.length))return n;o=e[i++],s=e[i++]}!n.length||n[n.length-1]<o?n.push(o,s):n[n.length-1]<s&&(n[n.length-1]=s)}}function K(t,e,n){var r;let i,o,s;return n?(i=e.changes,o=a.empty(e.changes.length),s=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),o=t.changes.mapDesc(e.changes,!0),s=t.changes.compose(i)),{changes:s,selection:e.selection?e.selection.map(o):null===(r=t.selection)||void 0===r?void 0:r.map(i),effects:Y.mapEffects(t.effects,i).concat(Y.mapEffects(e.effects,o)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function Z(t,e,n){let r=e.selection,i=nt(e.annotations);return e.userEvent&&(i=i.concat(G.userEvent.of(e.userEvent))),{changes:e.changes instanceof a?e.changes:a.of(e.changes||[],n,t.facet(z)),selection:r&&(r instanceof m?r:m.single(r.anchor,r.head)),effects:nt(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function tt(t,e,n){let r=Z(t,e.length?e[0]:{},t.doc.length);e.length&&!1===e[0].filter&&(n=!1);for(let o=1;o<e.length;o++){!1===e[o].filter&&(n=!1);let i=!!e[o].sequential;r=K(r,Z(t,e[o],i?r.changes.newLength:t.doc.length),i)}let i=new G(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return function(t){let e=t.startState,n=e.facet(V),r=t;for(let i=n.length-1;i>=0;i--){let o=n[i](t);o&&Object.keys(o).length&&(r=K(t,Z(e,o,t.changes.newLength),!0))}return r==t?t:new G(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}(n?function(t){let e=t.startState,n=!0;for(let i of e.facet(H)){let e=i(t);if(!1===e){n=!1;break}Array.isArray(e)&&(n=!0===n?e:Q(n,e))}if(!0!==n){let r,i;if(!1===n)i=t.changes.invertedDesc,r=a.empty(e.doc.length);else{let e=t.changes.filter(n);r=e.changes,i=e.filtered.invertedDesc}t=new G(e,r,t.selection&&t.selection.map(i),Y.mapEffects(t.effects,i),t.annotations,t.scrollIntoView)}let r=e.facet(W);for(let i=r.length-1;i>=0;i--){let n=r[i](t);t=n instanceof G?n:Array.isArray(n)&&1==n.length&&n[0]instanceof G?n[0]:tt(e,nt(n),!1)}return t}(i):i)}G.time=$.define(),G.userEvent=$.define(),G.addToHistory=$.define(),G.remote=$.define();const et=[];function nt(t){return null==t?et:Array.isArray(t)?t:[t]}var rt=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(rt||(rt={}));const it=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let ot;try{ot=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(ct){}function st(t){return e=>{if(!/\S/.test(e))return rt.Space;if(function(t){if(ot)return ot.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>"\x80"&&(n.toUpperCase()!=n.toLowerCase()||it.test(n)))return!0}return!1}(e))return rt.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return rt.Word;return rt.Other}}class at{constructor(t,e,n,r,i,o){this.config=t,this.doc=e,this.selection=n,this.values=r,this.status=t.statusTemplate.slice(),this.computeSlot=i,o&&(o._state=this);for(let s=0;s<this.config.dynamicSlots.length;s++)R(this,s<<1);this.computeSlot=null}field(t,e=!0){let n=this.config.address[t.id];if(null!=n)return R(this,n),L(this,n);if(e)throw new RangeError("Field is not present in this state")}update(...t){return tt(this,t,!0)}applyTransaction(t){let e,n=this.config,{base:r,compartments:i}=n;for(let o of t.effects)o.is(N.reconfigure)?(n&&(i=new Map,n.compartments.forEach(((t,e)=>i.set(e,t))),n=null),i.set(o.value.compartment,o.value.extension)):o.is(Y.reconfigure)?(n=null,r=o.value):o.is(Y.appendConfig)&&(n=null,r=nt(r).concat(o.value));if(n)e=t.startState.values.slice();else{n=B.resolve(r,i,this),e=new at(n,this.doc,this.selection,n.dynamicSlots.map((()=>null)),((t,e)=>e.reconfigure(t,this)),null).values}new at(n,t.newDoc,t.newSelection,e,((e,n)=>n.update(e,t)),t)}replaceSelection(t){return"string"==typeof t&&(t=this.toText(t)),this.changeByRange((e=>({changes:{from:e.from,to:e.to,insert:t},range:m.cursor(e.from+t.length)})))}changeByRange(t){let e=this.selection,n=t(e.ranges[0]),r=this.changes(n.changes),i=[n.range],o=nt(n.effects);for(let s=1;s<e.ranges.length;s++){let n=t(e.ranges[s]),a=this.changes(n.changes),l=a.map(r);for(let t=0;t<s;t++)i[t]=i[t].map(l);let c=r.mapDesc(a,!0);i.push(n.range.map(c)),r=r.compose(l),o=Y.mapEffects(o,l).concat(Y.mapEffects(nt(n.effects),c))}return{changes:r,selection:m.create(i,e.mainIndex),effects:o}}changes(t=[]){return t instanceof a?t:a.of(t,this.doc.length,this.facet(at.lineSeparator))}toText(t){return r.xv.of(t.split(this.facet(at.lineSeparator)||i))}sliceDoc(t=0,e=this.doc.length){return this.doc.sliceString(t,e,this.lineBreak)}facet(t){let e=this.config.address[t.id];return null==e?t.default:(R(this,e),L(this,e))}toJSON(t){let e={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(t)for(let n in t){let r=t[n];r instanceof C&&(e[n]=r.spec.toJSON(this.field(t[n]),this))}return e}static fromJSON(t,e={},n){if(!t||"string"!=typeof t.doc)throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(n)for(let i in n){let e=n[i],o=t[i];r.push(e.init((t=>e.spec.fromJSON(o,t))))}return at.create({doc:t.doc,selection:m.fromJSON(t.selection),extensions:e.extensions?r.concat([e.extensions]):r})}static create(t={}){let e=B.resolve(t.extensions||[],new Map),n=t.doc instanceof r.xv?t.doc:r.xv.of((t.doc||"").split(e.staticFacet(at.lineSeparator)||i)),o=t.selection?t.selection instanceof m?t.selection:m.single(t.selection.anchor,t.selection.head):m.single(0);return v(o,n.length),e.staticFacet(F)||(o=o.asSingle()),new at(e,n,o,e.dynamicSlots.map((()=>null)),((t,e)=>e.create(t)),null)}get tabSize(){return this.facet(at.tabSize)}get lineBreak(){return this.facet(at.lineSeparator)||"\n"}get readOnly(){return this.facet(U)}phrase(t){for(let e of this.facet(at.phrases))if(Object.prototype.hasOwnProperty.call(e,t))return e[t];return t}languageDataAt(t,e,n=-1){let r=[];for(let i of this.facet(q))for(let o of i(this,e,n))Object.prototype.hasOwnProperty.call(o,t)&&r.push(o[t]);return r}charCategorizer(t){return st(this.languageDataAt("wordChars",t).join(""))}wordAt(t){let{text:e,from:n,length:i}=this.doc.lineAt(t),o=this.charCategorizer(t),s=t-n,a=t-n;for(;s>0;){let t=(0,r.cp)(e,s,!1);if(o(e.slice(t,s))!=rt.Word)break;s=t}for(;a<i;){let t=(0,r.cp)(e,a);if(o(e.slice(a,t))!=rt.Word)break;a=t}return s==a?null:m.range(s+n,a+n)}}function lt(t,e,n={}){let r={};for(let i of t)for(let t of Object.keys(i)){let e=i[t],o=r[t];if(void 0===o)r[t]=e;else if(o===e||void 0===e);else{if(!Object.hasOwnProperty.call(n,t))throw new Error("Config merge conflict for field "+t);r[t]=n[t](o,e)}}for(let i in e)void 0===r[i]&&(r[i]=e[i]);return r}at.allowMultipleSelections=F,at.tabSize=b.define({combine:t=>t.length?t[0]:4}),at.lineSeparator=z,at.readOnly=U,at.phrases=b.define(),at.languageData=q,at.changeFilter=H,at.transactionFilter=W,at.transactionExtender=V,N.reconfigure=Y.define()},7268:function(t,e,n){"use strict";n.d(e,{xv:function(){return g},gm:function(){return u},nZ:function(){return d},IS:function(){return p},cp:function(){return s},Gz:function(){return m},bg:function(){return f}});let r="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((t=>t?parseInt(t,36):1));for(let C=1;C<r.length;C++)r[C]+=r[C-1];function i(t){for(let e=1;e<r.length;e+=2)if(r[e]>t)return r[e-1]<=t;return!1}function o(t){return t>=127462&&t<=127487}function s(t,e,n=!0,r=!0){return(n?a:l)(t,e,r)}function a(t,e,n){if(e==t.length)return e;e&&c(t.charCodeAt(e))&&h(t.charCodeAt(e-1))&&e--;let r=u(t,e);for(e+=d(r);e<t.length;){let s=u(t,e);if(8205==r||8205==s||n&&i(s))e+=d(s),r=s;else{if(!o(s))break;{let n=0,r=e-2;for(;r>=0&&o(u(t,r));)n++,r-=2;if(n%2==0)break;e+=2}}}return e}function l(t,e,n){for(;e>0;){let r=a(t,e-2,n);if(r<e)return r;e--}return 0}function c(t){return t>=56320&&t<57344}function h(t){return t>=55296&&t<56320}function u(t,e){let n=t.charCodeAt(e);if(!h(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return c(r)?r-56320+(n-55296<<10)+65536:n}function f(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}function d(t){return t<65536?1:2}function p(t,e,n=t.length){let r=0;for(let i=0;i<n;)9==t.charCodeAt(i)?(r+=e-r%e,i++):(r++,i=s(t,i));return r}function m(t,e,n,r){for(let i=0,o=0;;){if(o>=e)return i;if(i==t.length)break;o+=9==t.charCodeAt(i)?n-o%n:1,i=s(t,i)}return!0===r?-1:t.length}class g{constructor(){}lineAt(t){if(t<0||t>this.length)throw new RangeError(`Invalid position ${t} in document of length ${this.length}`);return this.lineInner(t,!1,1,0)}line(t){if(t<1||t>this.lines)throw new RangeError(`Invalid line number ${t} in ${this.lines}-line document`);return this.lineInner(t,!0,1,0)}replace(t,e,n){let r=[];return this.decompose(0,t,r,2),n.length&&n.decompose(0,n.length,r,3),this.decompose(e,this.length,r,1),y.from(r,this.length-(e-t)+n.length)}append(t){return this.replace(this.length,this.length,t)}slice(t,e=this.length){let n=[];return this.decompose(t,e,n,0),y.from(n,e-t)}eq(t){if(t==this)return!0;if(t.length!=this.length||t.lines!=this.lines)return!1;let e=this.scanIdentical(t,1),n=this.length-this.scanIdentical(t,-1),r=new x(this),i=new x(t);for(let o=e,s=e;;){if(r.next(o),i.next(o),o=0,r.lineBreak!=i.lineBreak||r.done!=i.done||r.value!=i.value)return!1;if(s+=r.value.length,r.done||s>=n)return!0}}iter(t=1){return new x(this,t)}iterRange(t,e=this.length){return new k(this,t,e)}iterLines(t,e){let n;if(null==t)n=this.iter();else{null==e&&(e=this.lines+1);let r=this.line(t).from;n=this.iterRange(r,Math.max(r,e==this.lines+1?this.length:e<=1?0:this.line(e-1).to))}return new S(n)}toString(){return this.sliceString(0)}toJSON(){let t=[];return this.flatten(t),t}static of(t){if(0==t.length)throw new RangeError("A document must have at least one line");return 1!=t.length||t[0]?t.length<=32?new v(t):y.from(v.split(t,[])):g.empty}}class v extends g{constructor(t,e=function(t){let e=-1;for(let n of t)e+=n.length+1;return e}(t)){super(),this.text=t,this.length=e}get lines(){return this.text.length}get children(){return null}lineInner(t,e,n,r){for(let i=0;;i++){let o=this.text[i],s=r+o.length;if((e?n:s)>=t)return new O(r,s,n,o);r=s+1,n++}}decompose(t,e,n,r){let i=t<=0&&e>=this.length?this:new v(w(this.text,t,e),Math.min(e,this.length)-Math.max(0,t));if(1&r){let t=n.pop(),e=b(i.text,t.text.slice(),0,i.length);if(e.length<=32)n.push(new v(e,t.length+i.length));else{let t=e.length>>1;n.push(new v(e.slice(0,t)),new v(e.slice(t)))}}else n.push(i)}replace(t,e,n){if(!(n instanceof v))return super.replace(t,e,n);let r=b(this.text,b(n.text,w(this.text,0,t)),e),i=this.length+n.length-(e-t);return r.length<=32?new v(r,i):y.from(v.split(r,[]),i)}sliceString(t,e=this.length,n="\n"){let r="";for(let i=0,o=0;i<=e&&o<this.text.length;o++){let s=this.text[o],a=i+s.length;i>t&&o&&(r+=n),t<a&&e>i&&(r+=s.slice(Math.max(0,t-i),e-i)),i=a+1}return r}flatten(t){for(let e of this.text)t.push(e)}scanIdentical(){return 0}static split(t,e){let n=[],r=-1;for(let i of t)n.push(i),r+=i.length+1,32==n.length&&(e.push(new v(n,r)),n=[],r=-1);return r>-1&&e.push(new v(n,r)),e}}class y extends g{constructor(t,e){super(),this.children=t,this.length=e,this.lines=0;for(let n of t)this.lines+=n.lines}lineInner(t,e,n,r){for(let i=0;;i++){let o=this.children[i],s=r+o.length,a=n+o.lines-1;if((e?a:s)>=t)return o.lineInner(t,e,n,r);r=s+1,n=a+1}}decompose(t,e,n,r){for(let i=0,o=0;o<=e&&i<this.children.length;i++){let s=this.children[i],a=o+s.length;if(t<=a&&e>=o){let i=r&((o<=t?1:0)|(a>=e?2:0));o>=t&&a<=e&&!i?n.push(s):s.decompose(t-o,e-o,n,i)}o=a+1}}replace(t,e,n){if(n.lines<this.lines)for(let r=0,i=0;r<this.children.length;r++){let o=this.children[r],s=i+o.length;if(t>=i&&e<=s){let a=o.replace(t-i,e-i,n),l=this.lines-o.lines+a.lines;if(a.lines<l>>4&&a.lines>l>>6){let i=this.children.slice();return i[r]=a,new y(i,this.length-(e-t)+n.length)}return super.replace(i,s,a)}i=s+1}return super.replace(t,e,n)}sliceString(t,e=this.length,n="\n"){let r="";for(let i=0,o=0;i<this.children.length&&o<=e;i++){let s=this.children[i],a=o+s.length;o>t&&i&&(r+=n),t<a&&e>o&&(r+=s.sliceString(t-o,e-o,n)),o=a+1}return r}flatten(t){for(let e of this.children)e.flatten(t)}scanIdentical(t,e){if(!(t instanceof y))return 0;let n=0,[r,i,o,s]=e>0?[0,0,this.children.length,t.children.length]:[this.children.length-1,t.children.length-1,-1,-1];for(;;r+=e,i+=e){if(r==o||i==s)return n;let a=this.children[r],l=t.children[i];if(a!=l)return n+a.scanIdentical(l,e);n+=a.length+1}}static from(t,e=t.reduce(((t,e)=>t+e.length+1),-1)){let n=0;for(let f of t)n+=f.lines;if(n<32){let n=[];for(let e of t)e.flatten(n);return new v(n,e)}let r=Math.max(32,n>>5),i=r<<1,o=r>>1,s=[],a=0,l=-1,c=[];function h(t){let e;if(t.lines>i&&t instanceof y)for(let n of t.children)h(n);else t.lines>o&&(a>o||!a)?(u(),s.push(t)):t instanceof v&&a&&(e=c[c.length-1])instanceof v&&t.lines+e.lines<=32?(a+=t.lines,l+=t.length+1,c[c.length-1]=new v(e.text.concat(t.text),e.length+1+t.length)):(a+t.lines>r&&u(),a+=t.lines,l+=t.length+1,c.push(t))}function u(){0!=a&&(s.push(1==c.length?c[0]:y.from(c,l)),l=-1,a=c.length=0)}for(let f of t)h(f);return u(),1==s.length?s[0]:new y(s,e)}}function b(t,e,n=0,r=1e9){for(let i=0,o=0,s=!0;o<t.length&&i<=r;o++){let a=t[o],l=i+a.length;l>=n&&(l>r&&(a=a.slice(0,r-i)),i<n&&(a=a.slice(n-i)),s?(e[e.length-1]+=a,s=!1):e.push(a)),i=l+1}return e}function w(t,e,n){return b(t,[""],e,n)}g.empty=new v([""],0);class x{constructor(t,e=1){this.dir=e,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[e>0?1:(t instanceof v?t.text.length:t.children.length)<<1]}nextInner(t,e){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,r=this.nodes[n],i=this.offsets[n],o=i>>1,s=r instanceof v?r.text.length:r.children.length;if(o==(e>0?s:0)){if(0==n)return this.done=!0,this.value="",this;e>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&i)==(e>0?0:1)){if(this.offsets[n]+=e,0==t)return this.lineBreak=!0,this.value="\n",this;t--}else if(r instanceof v){let i=r.text[o+(e<0?-1:0)];if(this.offsets[n]+=e,i.length>Math.max(0,t))return this.value=0==t?i:e>0?i.slice(t):i.slice(0,i.length-t),this;t-=i.length}else{let i=r.children[o+(e<0?-1:0)];t>i.length?(t-=i.length,this.offsets[n]+=e):(e<0&&this.offsets[n]--,this.nodes.push(i),this.offsets.push(e>0?1:(i instanceof v?i.text.length:i.children.length)<<1))}}}next(t=0){return t<0&&(this.nextInner(-t,-this.dir),t=this.value.length),this.nextInner(t,this.dir)}}class k{constructor(t,e,n){this.value="",this.done=!1,this.cursor=new x(t,e>n?-1:1),this.pos=e>n?t.length:0,this.from=Math.min(e,n),this.to=Math.max(e,n)}nextInner(t,e){if(e<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;t+=Math.max(0,e<0?this.pos-this.to:this.from-this.pos);let n=e<0?this.pos-this.from:this.to-this.pos;t>n&&(t=n),n-=t;let{value:r}=this.cursor.next(t);return this.pos+=(r.length+t)*e,this.value=r.length<=n?r:e<0?r.slice(r.length-n):r.slice(0,n),this.done=!this.value,this}next(t=0){return t<0?t=Math.max(t,this.from-this.pos):t>0&&(t=Math.min(t,this.to-this.pos)),this.nextInner(t,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class S{constructor(t){this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}next(t=0){let{done:e,lineBreak:n,value:r}=this.inner.next(t);return e?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}"undefined"!=typeof Symbol&&(g.prototype[Symbol.iterator]=function(){return this.iter()},x.prototype[Symbol.iterator]=k.prototype[Symbol.iterator]=S.prototype[Symbol.iterator]=function(){return this});class O{constructor(t,e,n,r){this.from=t,this.to=e,this.number=n,this.text=r}get length(){return this.to-this.from}}},7207:function(t,e,n){"use strict";n.d(e,{V:function(){return s}});const r="undefined"==typeof Symbol?"__\u037c":Symbol.for("\u037c"),i="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};class s{constructor(t,e){this.rules=[];let{finish:n}=e||{};function r(t){return/^@/.test(t)?[t]:t.split(/,\s*/)}function i(t,e,o,s){let a=[],l=/^@(\w+)\b/.exec(t[0]),c=l&&"keyframes"==l[1];if(l&&null==e)return o.push(t[0]+";");for(let n in e){let s=e[n];if(/&/.test(n))i(n.split(/,\s*/).map((e=>t.map((t=>e.replace(/&/,t))))).reduce(((t,e)=>t.concat(e))),s,o);else if(s&&"object"==typeof s){if(!l)throw new RangeError("The value of a property ("+n+") should be a primitive value.");i(r(n),s,a,c)}else null!=s&&a.push(n.replace(/_.*/,"").replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()))+": "+s+";")}(a.length||c)&&o.push((!n||l||s?t:t.map(n)).join(", ")+" {"+a.join(" ")+"}")}for(let o in t)i(r(o),t[o],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let t=o[r]||1;return o[r]=t+1,"\u037c"+t.toString(36)}static mount(t,e){(t[i]||new l(t)).mount(Array.isArray(e)?e:[e])}}let a=null;class l{constructor(t){if(!t.head&&t.adoptedStyleSheets&&"undefined"!=typeof CSSStyleSheet){if(a)return t.adoptedStyleSheets=[a.sheet].concat(t.adoptedStyleSheets),t[i]=a;this.sheet=new CSSStyleSheet,t.adoptedStyleSheets=[this.sheet].concat(t.adoptedStyleSheets),a=this}else{this.styleTag=(t.ownerDocument||t).createElement("style");let e=t.head||t;e.insertBefore(this.styleTag,e.firstChild)}this.modules=[],t[i]=this}mount(t){let e=this.sheet,n=0,r=0;for(let i=0;i<t.length;i++){let o=t[i],s=this.modules.indexOf(o);if(s<r&&s>-1&&(this.modules.splice(s,1),r--,s=-1),-1==s){if(this.modules.splice(r++,0,o),e)for(let t=0;t<o.rules.length;t++)e.insertRule(o.rules[t],n++)}else{for(;r<s;)n+=this.modules[r++].rules.length;n+=o.rules.length,r++}}if(!e){let t="";for(let e=0;e<this.modules.length;e++)t+=this.modules[e].getRules()+"\n";this.styleTag.textContent=t}}}},6453:function(t,e,n){"use strict";n.d(e,{ue:function(){return r},YG:function(){return d}});for(var r={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},i={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},o="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),s="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),a="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),l="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),c="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),h=o&&(l||+o[1]<57)||a&&l,u=0;u<10;u++)r[48+u]=r[96+u]=String(u);for(u=1;u<=24;u++)r[u+111]="F"+u;for(u=65;u<=90;u++)r[u]=String.fromCharCode(u+32),i[u]=String.fromCharCode(u);for(var f in r)i.hasOwnProperty(f)||(i[f]=r[f]);function d(t){var e=!(h&&(t.ctrlKey||t.altKey||t.metaKey)||(s||c)&&t.shiftKey&&t.key&&1==t.key.length)&&t.key||(t.shiftKey?i:r)[t.keyCode]||t.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e}}}]);